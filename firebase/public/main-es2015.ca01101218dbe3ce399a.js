(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+2IB":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("Cfvw"),i=n("abKY"),s=n("yGuB");class o{constructor(){this.actions=[],this.batch=Object(s.b)()}appendActions(...t){this.actions=[...this.actions,...t]}executeActions(){return this.resolveActionTypes(),Object(r.a)(this.batch.commit())}resolveActionTypes(){this.actions.forEach(t=>{if(t instanceof i.b)this.batch.set(t.documentReference,t.data,t.options);else if(t instanceof i.c)this.batch.update(t.documentReference,t.data);else{if(!(t instanceof i.a))throw console.error("Action is not of any BatchAction class type",t),new Error("Action is not of any BatchAction class type");this.batch.delete(t.documentReference)}})}}},"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var r=n("JYkl"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("bHdf");function i(){return Object(r.a)(1)}},"1G5W":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("zx2A");function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new o(t),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class o extends r.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("XNiG"),i=n("9ppp");class s extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6NWb":function(t,e,n){"use strict";n.d(e,"a",function(){return _t}),n.d(e,"b",function(){return wt});var r=n("fXoL");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){i=!0,s=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u={},c={};try{"undefined"!=typeof window&&(u=window),"undefined"!=typeof document&&(c=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(Ot){}var l=(u.navigator||{}).userAgent,h=void 0===l?"":l,f=u,d=c,p=!!d.documentElement&&!!d.head&&"function"==typeof d.addEventListener&&"function"==typeof d.createElement,g=(~h.indexOf("MSIE")||h.indexOf("Trident/"),[1,2,3,4,5,6,7,8,9,10]),m=g.concat([11,12,13,14,15,16,17,18,19,20]),y={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},b=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",y.GROUP,y.SWAP_OPACITY,y.PRIMARY,y.SECONDARY].concat(g.map(function(t){return"".concat(t,"x")})).concat(m.map(function(t){return"w-".concat(t)})),f.FontAwesomeConfig||{});d&&"function"==typeof d.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=a(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=d.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(b[n]=r)});var v=o({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},b);v.autoReplaceSvg||(v.observeMutations=!1);var _=o({},v);f.FontAwesomeConfig=_;var w=f||{};w.___FONT_AWESOME___||(w.___FONT_AWESOME___={}),w.___FONT_AWESOME___.styles||(w.___FONT_AWESOME___.styles={}),w.___FONT_AWESOME___.hooks||(w.___FONT_AWESOME___.hooks={}),w.___FONT_AWESOME___.shims||(w.___FONT_AWESOME___.shims=[]);var O=w.___FONT_AWESOME___,E=[];p&&((d.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(d.readyState)||d.addEventListener("DOMContentLoaded",function t(){d.removeEventListener("DOMContentLoaded",t),E.map(function(t){return t()})}));var S,T=function(){},j="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,I="undefined"==typeof setImmediate?setTimeout:setImmediate,x=[];function C(){for(var t=0;t<x.length;t++)x[t][0](x[t][1]);x=[],S=!1}function A(t,e){x.push([t,e]),S||(S=!0,I(C,0))}function P(t){var e=t.owner,n=e._state,r=e._data,i=t[n],s=t.then;if("function"==typeof i){n="fulfilled";try{r=i(r)}catch(Ot){D(s,Ot)}}R(s,r)||("fulfilled"===n&&k(s,r),"rejected"===n&&D(s,r))}function R(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===i(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e===r?N(t,r):k(t,r))},function(e){n||(n=!0,D(t,e))}),!0}}catch(Ot){return n||D(t,Ot),!0}return!1}function k(t,e){t!==e&&R(t,e)||N(t,e)}function N(t,e){"pending"===t._state&&(t._state="settled",t._data=e,A(U,t))}function D(t,e){"pending"===t._state&&(t._state="settled",t._data=e,A(M,t))}function L(t){t._then=t._then.forEach(P)}function U(t){t._state="fulfilled",L(t)}function M(t){t._state="rejected",L(t),!t._handled&&j&&global.process.emit("unhandledRejection",t._data,t)}function F(t){global.process.emit("rejectionHandled",t)}function q(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof q==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){D(e,t)}try{t(function(t){k(e,t)},n)}catch(Ot){n(Ot)}}(t,this)}q.prototype={constructor:q,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(T),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,"rejected"===this._state&&j&&A(F,this)),"fulfilled"===this._state||"rejected"===this._state?A(P,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},q.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new q(function(e,n){var r=[],i=0;function s(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var o,a=0;a<t.length;a++)(o=t[a])&&"function"==typeof o.then?o.then(s(a),n):r[a]=o;i||e(r)})},q.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new q(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)})},q.resolve=function(t){return t&&"object"===i(t)&&t.constructor===q?t:new q(function(e){e(t)})},q.reject=function(t){return new q(function(e,n){n(t)})};var V={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function z(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function B(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function H(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function W(t){return t.size!==V.size||t.x!==V.x||t.y!==V.y||t.rotate!==V.rotate||t.flipX||t.flipY}function $(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(s," ").concat(o)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var G={x:0,y:0,width:"100%",height:"100%"};function K(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Q(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,a=t.transform,u=t.symbol,c=t.title,l=t.maskId,h=t.titleId,f=t.extra,d=t.watchable,p=void 0!==d&&d,g=r.found?r:n,m=g.width,y=g.height,b="fak"===i,v=b?"":"fa-w-".concat(Math.ceil(m/y*16)),w=[_.replacementClass,s?"".concat(_.familyPrefix,"-").concat(s):"",v].filter(function(t){return-1===f.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(f.classes).join(" "),O={children:[],attributes:o({},f.attributes,{"data-prefix":i,"data-icon":s,class:w,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)})},E=b&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};p&&(O.attributes["data-fa-i2svg"]=""),c&&O.children.push({tag:"title",attributes:{id:O.attributes["aria-labelledby"]||"title-".concat(h||z())},children:[c]});var S=o({},O,{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:a,symbol:u,styles:o({},E,f.styles)}),T=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,s=t.mask,a=t.maskId,u=i.icon,c=s.icon,l=$({transform:t.transform,containerWidth:s.width,iconWidth:i.width}),h={tag:"rect",attributes:o({},G,{fill:"white"})},f=u.children?{children:u.children.map(K)}:{},d={tag:"g",attributes:o({},l.inner),children:[K(o({tag:u.tag,attributes:o({},u.attributes,l.path)},f))]},p={tag:"g",attributes:o({},l.outer),children:[d]},g="mask-".concat(a||z()),m="clip-".concat(a||z()),y={tag:"mask",attributes:o({},G,{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:(e=c,"g"===e.tag?e.children:[e])},y]};return n.push(b,{tag:"rect",attributes:o({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(g,")")},G)}),{children:n,attributes:r}}(S):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,s=H(t.styles);if(s.length>0&&(n.style=s),W(i)){var a=$({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:o({},a.outer),children:[{tag:"g",attributes:o({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:o({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(S),j=T.attributes;return S.children=T.children,S.attributes=j,u?function(t){var e=t.iconName,n=t.children,r=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:o({},t.attributes,{id:!0===r?"".concat(t.prefix,"-").concat(_.familyPrefix,"-").concat(e):r}),children:n}]}]}(S):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,a=t.transform;if(W(a)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=H(o({},s,{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(S)}var X=function(t,e,n,r){var i,s,o,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,s){return t.call(e,n,r,i,s)}}(e,r):e;for(void 0===n?(i=1,o=t[a[0]]):(i=0,o=n);i<u;i++)o=c(o,t[s=a[i]],s,t);return o};function Y(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,s=Object.keys(e).reduce(function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t},{});"function"!=typeof O.hooks.addPack||i?O.styles[t]=o({},O.styles[t]||{},s):O.hooks.addPack(t,s),"fas"===t&&Y("fa",e)}var J=O.styles,Z=O.shims,tt=function(){var t=function(t){return X(J,function(e,n,r){return e[r]=X(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in J;X(Z,function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t},{})};function et(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function nt(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?B(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(B(t[n]),'" ')},"").trim()}(r),">").concat(s.map(nt).join(""),"</").concat(e,">")}function rt(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}tt(),(rt.prototype=Object.create(Error.prototype)).constructor=rt;var it={fill:"currentColor"},st={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ot=(o({},it,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),o({},st,{attributeName:"opacity"}));function at(t){var e=t[0],n=t[1],r=a(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(_.familyPrefix,"-").concat(y.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_.familyPrefix,"-").concat(y.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(_.familyPrefix,"-").concat(y.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function ut(){_.autoAddCss&&!dt&&(function(t){if(t&&p){var e=d.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=d.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}d.head.insertBefore(e,r)}}(function(){var t="svg-inline--fa",e=_.familyPrefix,n=_.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==e||n!==t){var i=new RegExp("\\.".concat("fa","\\-"),"g"),s=new RegExp("\\--".concat("fa","\\-"),"g"),o=new RegExp("\\.".concat(t),"g");r=r.replace(i,".".concat(e,"-")).replace(s,"--".concat(e,"-")).replace(o,".".concat(n))}return r}()),dt=!0)}function ct(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return nt(t)})}}),Object.defineProperty(t,"node",{get:function(){if(p){var e=d.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function lt(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return et(ft.definitions,n,r)||et(O.styles,n,r)}o({},it,{cx:"256",cy:"364",r:"28"}),o({},st,{attributeName:"r",values:"28;14;28;28;14;28;"}),o({},ot,{values:"1;0;1;1;0;1;"}),o({},it,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),o({},ot,{values:"1;0;0;0;0;1;"}),o({},it,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),o({},ot,{values:"0;0;1;1;0;0;"});var ht,ft=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=o({},t.definitions[e]||{},i[e]),Y(e,i[e]),tt()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,s=r.iconName,o=r.icon;t[i]||(t[i]={}),t[i][s]=o}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),dt=!1,pt=(ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?V:n,i=e.symbol,s=void 0!==i&&i,a=e.mask,u=void 0===a?null:a,c=e.maskId,l=void 0===c?null:c,h=e.title,f=void 0===h?null:h,d=e.titleId,p=void 0===d?null:d,g=e.classes,m=void 0===g?[]:g,y=e.attributes,b=void 0===y?{}:y,v=e.styles,w=void 0===v?{}:v;if(t){var O=t.prefix,E=t.iconName,S=t.icon;return ct(o({type:"icon"},t),function(){return ut(),_.autoA11y&&(f?b["aria-labelledby"]="".concat(_.replacementClass,"-title-").concat(p||z()):(b["aria-hidden"]="true",b.focusable="false")),Q({icons:{main:at(S),mask:u?at(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:O,iconName:E,transform:o({},V,r),symbol:s,title:f,maskId:l,titleId:p,extra:{attributes:b,styles:w,classes:m}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:lt(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:lt(r||{})),ht(n,o({},e,{mask:r}))}),gt=n("jhN1");let mt=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),yt=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(const e of t)e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e}addIconPacks(...t){for(const e of t){const t=Object.keys(e).map(t=>e[t]);this.addIcons(...t)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const bt=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,["fa-"+t.size]:null!==t.size,["fa-rotate-"+t.rotate]:null!==t.rotate,["fa-pull-"+t.pull]:null!==t.pull,["fa-stack-"+t.stackItemSize]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let vt=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[r.wb]}),t})(),_t=(()=>{class t{constructor(t,e,n,r){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=r,this.classes=[]}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let e=null;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){const t=this.findIconDefinition(e);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const e=((t,e)=>{return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n})(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const r=lt(e);if(null!=r){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return r}return(t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(e),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},e):e}(this.transform):this.transform;return{title:this.title,transform:e,classes:[...bt(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=pt(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(gt.b),r.Ib(mt),r.Ib(yt),r.Ib(vt,8))},t.\u0275cmp=r.Cb({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(r.Ob("innerHTML",e.renderedIconHTML,r.ic),r.zb("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[r.wb],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),wt=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})()},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9jGm":function(t,e,n){"use strict";n.d(e,"a",function(){return L}),n.d(e,"b",function(){return J}),n.d(e,"c",function(){return A}),n.d(e,"d",function(){return U});var r=n("l7P3"),i=n("VRyK"),s=n("HDdC"),o=n("XNiG"),a=(n("NXyV"),n("WMd4")),u=n("7o/Q");class c{call(t,e){return e.subscribe(new l(t))}}class l extends u.a{_next(t){}}class h{call(t,e){return e.subscribe(new f(t))}}class f extends u.a{constructor(t){super(t)}_next(t){this.destination.next(a.a.createNext(t))}_error(t){const e=this.destination;e.next(a.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(a.a.createComplete()),t.complete()}}var d=n("lJxs"),p=n("JIr8"),g=n("pLZG"),m=n("quSY");function y(t,e,n,r){return i=>i.lift(new b(t,e,n,r))}class b{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new v(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class v extends u.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new o.a,n.set(e,i);const t=new w(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new w(e,i))}catch(s){return void this.error(s)}this.add(t.subscribe(new _(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class _ extends u.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class w extends s.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new m.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new O(n)),e.add(r.subscribe(t)),e}}class O extends m.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var E=n("5+tZ"),S=n("XqQ8");class T{call(t,e){return e.subscribe(new j(t))}}class j extends u.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}var I=n("IzEk"),x=(n("bOdf"),n("nYR2"),n("fXoL"));const C={dispatch:!0,useEffectsErrorHandler:!0};function A(t,e){const n=t(),r=Object.assign(Object.assign({},C),e);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:r}),n}function P(t){return Object.getOwnPropertyNames(t).filter(e=>t[e]&&t[e].hasOwnProperty("__@ngrx/effects_create__")).map(e=>Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"]))}function R(t){return Object.getPrototypeOf(t)}function k(t){return Object(r.m)(N,R)(t)}function N(t){return function(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}(t)?t.constructor["__@ngrx/effects__"]:[]}function D(t,e,n=10){return t.pipe(Object(p.a)(r=>(e&&e.handleError(r),n<=1?t:D(t,e,n-1))))}let L=(()=>{class t extends s.a{constructor(t){super(),t&&(this.source=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}}return t.\u0275fac=function(e){return new(e||t)(x.Pb(r.f))},t.\u0275prov=x.Eb({token:t,factory:t.\u0275fac}),t})();function U(...t){return Object(g.a)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function M(t){return F(t,"ngrxOnInitEffects")}function F(t,e){return t&&e in t&&"function"==typeof t[e]}const q=new x.q("@ngrx/effects Internal Root Guard"),V=(new x.q("ngrx/effects: Immediate Effects"),new x.q("ngrx/effects: User Provided Effects")),z=new x.q("ngrx/effects: Internal Root Effects"),B=new x.q("ngrx/effects: Root Effects"),H=new x.q("ngrx/effects: Internal Feature Effects"),W=new x.q("ngrx/effects: Feature Effects"),$=new x.q("ngrx/effects: Effects Error Handler");let G=(()=>{class t extends o.a{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(y(R),Object(E.a)(t=>t.pipe(y(K))),Object(E.a)(t=>{const e=t.pipe(Object(S.a)(t=>{return(e=this.errorHandler,n=this.effectsErrorHandler,t=>{const r=function(t,e,n){const r=R(t).constructor.name,s=(o=t,[k,P].reduce((t,e)=>t.concat(e(o)),[])).map(({propertyName:i,dispatch:s,useEffectsErrorHandler:o})=>{const a="function"==typeof t[i]?t[i]():t[i],u=o?n(a,e):a;return!1===s?u.pipe(function(t){return t.lift(new c)}):u.pipe(function(t){return t.lift(new h)}).pipe(Object(d.a)(e=>({effect:t[i],notification:e,propertyName:i,sourceName:r,sourceInstance:t})))});var o;return Object(i.a)(...s)}(t,e,n);return F(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(r):r})(t);var e,n}),Object(d.a)(t=>(function(t,e){if("N"===t.notification.kind){const n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:n}){const r="function"==typeof e[t];return`"${n}.${String(t)}${r?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(e){return t}}(n)}`))}}(t,this.errorHandler),t.notification)),Object(g.a)(t=>"N"===t.kind),function(t){return t.lift(new T)}),n=t.pipe(Object(I.a)(1),Object(g.a)(M),Object(d.a)(t=>t.ngrxOnInitEffects()));return Object(i.a)(e,n)}))}}return t.\u0275fac=function(e){return new(e||t)(x.Pb(x.m),x.Pb($))},t.\u0275prov=x.Eb({token:t,factory:t.\u0275fac}),t})();function K(t){return F(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}let Q=(()=>{class t{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(x.Pb(G),x.Pb(r.h))},t.\u0275prov=x.Eb({token:t,factory:t.\u0275fac}),t})();Object(r.n)("@ngrx/effects/init");let X=(()=>{class t{constructor(t,e,n,r,i,s,o){this.sources=t,e.start(),r.forEach(e=>t.addEffects(e)),n.dispatch({type:"@ngrx/effects/init"})}addEffects(t){this.sources.addEffects(t)}}return t.\u0275mod=x.Gb({type:t}),t.\u0275inj=x.Fb({factory:function(e){return new(e||t)(x.Pb(G),x.Pb(Q),x.Pb(r.h),x.Pb(B),x.Pb(r.k,8),x.Pb(r.i,8),x.Pb(q,8))}}),t})(),Y=(()=>{class t{constructor(t,e,n,r){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}return t.\u0275mod=x.Gb({type:t}),t.\u0275inj=x.Fb({factory:function(e){return new(e||t)(x.Pb(X),x.Pb(W),x.Pb(r.k,8),x.Pb(r.i,8))}}),t})(),J=(()=>{class t{static forFeature(t=[]){return{ngModule:Y,providers:[t,{provide:H,multi:!0,useValue:t},{provide:V,multi:!0,useValue:[]},{provide:W,multi:!0,useFactory:Z,deps:[x.r,H,V]}]}}static forRoot(t=[]){return{ngModule:X,providers:[{provide:q,useFactory:tt,deps:[[Q,new x.A,new x.I]]},{provide:$,useValue:D},Q,G,L,t,{provide:z,useValue:[t]},{provide:V,multi:!0,useValue:[]},{provide:B,useFactory:Z,deps:[x.r,z,V]}]}}}return t.\u0275mod=x.Gb({type:t}),t.\u0275inj=x.Fb({factory:function(e){return new(e||t)}}),t})();function Z(t,e,n){const r=[];for(let i of e)r.push(...i);for(let i of n)r.push(...i);return function(t,e){return e.map(e=>t.get(e))}(t,r)}function tt(t){if(t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AytR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r={production:!0,firebaseCollections:{users:{name:"Users"},usernames:{name:"Usernames"},frames:{name:"Frames",images:{name:"Images"}}},imageUploadProperties:{cacheControlValues:["public","max-age=604800","immutable"]}}},BFxc:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return function(e){return 0===t?Object(s.b)():e.lift(new a(t))}}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}},BHD2:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("ofXK"),i=n("6NWb"),s=n("fXoL");let o=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(e){return new(e||t)},imports:[[r.c,i.b]]}),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},CqXF:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.value=t}call(t,e){return e.subscribe(new o(t,this.value))}}class o extends r.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("LRne"),i=n("0EUg");function s(...t){return Object(i.a)()(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"I/3d":function(t,e,n){"use strict";n.d(e,"a",function(){return Xd});var r=n("fXoL"),i=n("D0XW"),s=n("HDdC"),o=n("Cfvw"),a=n("LRne"),u=n("JX91"),c=n("7o/Q");function l(){return t=>t.lift(new h)}class h{call(t,e){return e.subscribe(new f(t))}}class f extends c.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var d=n("lJxs"),p=n("Kqap"),g=n("/uUt"),m=n("pLZG"),y=n("pxpQ"),b=n("spgP"),v=n("ofXK"),_=n("Jgta"),w=n("JYkl"),O=n("zIRd"),E=n("q/0M"),S=n("qOnz"),T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function j(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var I,x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C=C||{},A=x||self;function P(){}function R(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function k(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var N="closure_uid_"+(1e9*Math.random()>>>0),D=0;function L(t,e,n){return t.call.apply(t.bind,arguments)}function U(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function M(t,e,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L:U).apply(null,arguments)}function F(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function q(){return Date.now()}function V(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function z(){this.j=this.j,this.i=this.i}z.prototype.j=!1,z.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,N)&&t[N]||(t[N]=++D)}(this)},z.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function W(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function G(t){return/^[\s\xa0]*$/.test(t)}var K,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function X(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:t>e?1:0}t:{var J=A.navigator;if(J){var Z=J.userAgent;if(Z){K=Z;break t}}K=""}function tt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function et(t){var e={};for(var n in t)e[n]=t[n];return e}var nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<nt.length;s++)n=nt[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function it(t){return it[" "](t),t}it[" "]=P;var st,ot,at=X(K,"Opera"),ut=X(K,"Trident")||X(K,"MSIE"),ct=X(K,"Edge"),lt=ct||ut,ht=X(K,"Gecko")&&!(X(K.toLowerCase(),"webkit")&&!X(K,"Edge"))&&!(X(K,"Trident")||X(K,"MSIE"))&&!X(K,"Edge"),ft=X(K.toLowerCase(),"webkit")&&!X(K,"Edge");function dt(){var t=A.document;return t?t.documentMode:void 0}t:{var pt="",gt=(ot=K,ht?/rv:([^\);]+)(\)|;)/.exec(ot):ct?/Edge\/([\d\.]+)/.exec(ot):ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ot):ft?/WebKit\/(\S+)/.exec(ot):at?/(?:Version)[ \/]?(\S+)/.exec(ot):void 0);if(gt&&(pt=gt?gt[1]:""),ut){var mt=dt();if(null!=mt&&mt>parseFloat(pt)){st=String(mt);break t}}st=pt}var yt={};function bt(t){return function(t,e){var n=yt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Q(String(st)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Y(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Y(0==o[2].length,0==a[2].length)||Y(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var vt=A.document&&ut&&(dt()||parseInt(st,10))||void 0,_t=!ut||9<=Number(vt),wt=ut&&!bt("9"),Ot=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{A.addEventListener("test",P,e),A.removeEventListener("test",P,e)}catch(n){}return t}();function Et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function St(t,e){if(Et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ht){t:{try{it(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Tt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Et.prototype.b=function(){this.defaultPrevented=!0},V(St,Et);var Tt={2:"touch",3:"pen",4:"mouse"};St.prototype.b=function(){St.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,wt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var jt="closure_listenable_"+(1e6*Math.random()|0),It=0;function xt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++It,this.Y=this.Z=!1}function Ct(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function At(t){this.src=t,this.a={},this.b=0}function Pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=B(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ct(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Rt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}At.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Rt(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new xt(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var kt="closure_lm_"+(1e6*Math.random()|0),Nt={};function Dt(t,e,n,r,i){if(r&&r.once)return Ut(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Dt(t,e[s],n,r,i);return null}return n=Wt(n),t&&t[jt]?t.va(e,n,k(r)?!!r.capture:!!r,i):Lt(t,e,n,!1,r,i)}function Lt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=k(i)?!!i.capture:!!i;if(o&&!_t)return null;var a=Bt(t);if(a||(t[kt]=a=new At(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=zt,e=_t?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ot||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ut(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ut(t,e[s],n,r,i);return null}return n=Wt(n),t&&t[jt]?t.wa(e,n,k(r)?!!r.capture:!!r,i):Lt(t,e,n,!0,r,i)}function Mt(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Mt(t,e[s],n,r,i);else r=k(r)?!!r.capture:!!r,n=Wt(n),t&&t[jt]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Rt(s=t.a[e],n,r,i))&&(Ct(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Bt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Rt(e,n,r,i)),(n=-1<t?e[t]:null)&&Ft(n))}function Ft(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[jt])Pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bt(e))?(Pt(n,t),0==n.b&&(n.src=null,e[kt]=null)):Ct(t)}}}function qt(t){return t in Nt?Nt[t]:Nt[t]="on"+t}function Vt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ft(t),n.call(r,e)}function zt(t,e){if(t.Y)return!0;if(!_t){if(!e)t:{e=["window","event"];for(var n=A,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Vt(t,e=new St(e,this))}return Vt(t,new St(e,this))}function Bt(t){return(t=t[kt])instanceof At?t:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(t){return"function"==typeof t?t:(t[Ht]||(t[Ht]=function(e){return t.handleEvent(e)}),t[Ht])}function $t(){z.call(this),this.c=new At(this),this.J=this,this.C=null}function Gt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Et(e,t);else if(e instanceof Et)e.target=e.target||t;else{var i=e;rt(e=new Et(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Kt(o,r,!0,e)&&i}if(i=Kt(o=e.a=t,r,!0,e)&&i,i=Kt(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Kt(o=e.a=n[s],r,!1,e)&&i}function Kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Pt(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}V($t,z),$t.prototype[jt]=!0,(I=$t.prototype).addEventListener=function(t,e,n,r){Dt(this,t,e,n,r)},I.removeEventListener=function(t,e,n,r){Mt(this,t,e,n,r)},I.G=function(){if($t.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ct(n[r]);delete e.a[t],e.b--}}this.C=null},I.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},I.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Qt=A.JSON.stringify;function Xt(){this.b=this.a=null}var Yt,Jt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new te},function(t){t.reset()});function Zt(){var t=ie,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function te(){this.next=this.b=this.a=null}function ee(t){A.setTimeout(function(){throw t},0)}function ne(t,e){Yt||function(){var t=A.Promise.resolve(void 0);Yt=function(){t.then(se)}}(),re||(Yt(),re=!0),ie.add(t,e)}Xt.prototype.add=function(t,e){var n=Jt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},te.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},te.prototype.reset=function(){this.next=this.b=this.a=null};var re=!1,ie=new Xt;function se(){for(var t;t=Zt();){try{t.a.call(t.b)}catch(n){ee(n)}var e=Jt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}re=!1}function oe(t,e){$t.call(this),this.b=t||1,this.a=e||A,this.f=M(this.Za,this),this.g=q()}function ae(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ue(t,e,n){if("function"==typeof t)n&&(t=M(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=M(t.handleEvent,t)}return 2147483647<Number(e)?-1:A.setTimeout(t,e||0)}function ce(t){t.a=ue(function(){t.a=null,t.c&&(t.c=!1,ce(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}V(oe,$t),(I=oe.prototype).aa=!1,I.M=null,I.Za=function(){if(this.aa){var t=q()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Gt(this,"tick"),this.aa&&(ae(this),this.start()))}},I.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=q())},I.G=function(){oe.X.G.call(this),ae(this),delete this.a};var le=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ce(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(A.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(z);function he(t){z.call(this),this.b=t,this.a={}}V(he,z);var fe=[];function de(t,e,n,r){Array.isArray(n)||(n&&(fe[0]=n.toString()),n=fe);for(var i=0;i<n.length;i++){var s=Dt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function pe(t){tt(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ft(t)},t),t.a={}}function ge(){this.a=!0}function me(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Qt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}he.prototype.G=function(){he.X.G.call(this),pe(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ge.prototype.info=function(){};var ye={},be=null;function ve(){return be=be||new $t}function _e(t){Et.call(this,ye.Fa,t)}function we(t){var e=ve();Gt(e,new _e(e,t))}function Oe(t,e){Et.call(this,ye.STAT_EVENT,t),this.stat=e}function Ee(t){var e=ve();Gt(e,new Oe(e,t))}function Se(t){Et.call(this,ye.Ga,t)}function Te(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){t()},e)}ye.Fa="serverreachability",V(_e,Et),ye.STAT_EVENT="statevent",V(Oe,Et),ye.Ga="timingevent",V(Se,Et);var je={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ie={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function xe(){}function Ce(){}xe.prototype.a=null;var Ae,Pe={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Re(){Et.call(this,"d")}function ke(){Et.call(this,"c")}function Ne(){}function De(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new he(this),this.P=Le,this.R=new oe(t=lt?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}V(Re,Et),V(ke,Et),V(Ne,xe),Ae=new Ne;var Le=45e3,Ue={},Me={};function Fe(t,e,n){t.H=1,t.i=un(en(e)),t.j=n,t.I=!0,qe(t,null)}function qe(t,e){t.u=q(),Be(t),t.l=en(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),wn(n.b,"t",r),t.D=0,t.a=gr(t.g,t.g.C?e:null),0<t.O&&(t.F=new le(M(t.Ca,t,t.a),t.O)),de(t.J,t.a,"readystatechange",t.Xa),e=t.B?et(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),we(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ve(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ze(t,n);if(i==Me){4==e&&(t.h=4,Ee(14),r=!1),me(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ue){t.h=4,Ee(15),me(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}me(t.c,t.f,i,null),Ke(t,i)}4==e&&0==n.length&&(t.h=1,Ee(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ar(e),e.F=!0,Ee(11))):(me(t.c,t.f,n,"[Invalid Chunked Response]"),Ge(t),$e(t))}function ze(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Me:(n=Number(e.substring(n,r)),isNaN(n)?Ue:(r+=1)+n>e.length?Me:(e=e.substr(r,n),t.D=r+n,e))}function Be(t){t.T=q()+t.P,He(t,t.P)}function He(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Te(M(t.Va,t),e)}function We(t){t.o&&(A.clearTimeout(t.o),t.o=null)}function $e(t){0==t.g.v||t.A||lr(t.g,t)}function Ge(t){We(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ae(t.R),pe(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ke(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||xn(n.b,t)))if(n.I=t.N,!t.C&&xn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(sd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;cr(n),Jn(n)}or(n),Ee(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Te(M(n.Sa,n),6e3));if(1>=In(n.b)&&n.ea){try{n.ea()}catch(sd){}n.ea=void 0}}else fr(n,11)}else if((t.C||n.a==t)&&cr(n),!G(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(X(l,"spdy")||X(l,"quic")||X(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Cn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,an(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=q()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=pr(u,u.C?u.ga:null,u.fa),d.C){An(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(We(p),Be(p)),u.a=d}else sr(u);0<n.g.length&&er(n)}else"stop"!=i[0]&&"close"!=i[0]||fr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?fr(n,7):Yn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);we(4)}catch(sd){}}function Qe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(R(t)||"string"==typeof t)H(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(R(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(R(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Xe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Xe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ye(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Je(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Je(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Je(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(I=De.prototype).setTimeout=function(t){this.P=t},I.Xa=function(t){t=t.target;var e=this.F;e&&3==Gn(t)?e.f():this.Ca(t)},I.Ca=function(t){try{if(t==this.a)t:{var e=Gn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!lt&&!this.a.$())){this.A||4!=e||7==n||we(8==n||0>=r?3:2),We(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Ee(12),Ge(this),$e(this);break t}me(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ke(this,u)}this.I?(Ve(this,e,s),lt&&this.b&&3==e&&(de(this.J,this.R,"tick",this.Wa),this.R.start())):(me(this.c,this.f,s,null),Ke(this,s)),4==e&&Ge(this),this.b&&!this.A&&(4==e?lr(this.g,this):(this.b=!1,Be(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Ee(12)):(this.h=0,Ee(13)),Ge(this),$e(this)}}}catch(c){}},I.Wa=function(){if(this.a){var t=Gn(this.a),e=this.a.$();this.D<e.length&&(We(this),Ve(this,t,e),this.b&&4!=t&&Be(this))}},I.cancel=function(){this.A=!0,Ge(this)},I.Va=function(){this.o=null;var t=q();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(we(3),Ee(17)),Ge(this),this.h=2,$e(this)):He(this,this.T-t)},(I=Xe.prototype).K=function(){Ye(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},I.L=function(){return Ye(this),this.a.concat()},I.get=function(t,e){return Je(this.b,t)?this.b[t]:e},I.set=function(t,e){Je(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},I.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ze=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tn(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof tn){this.a=void 0!==e?e:t.a,nn(this,t.f),this.j=t.j,rn(this,t.c),sn(this,t.h),this.g=t.g,e=t.b;var n=new yn;n.c=e.c,e.a&&(n.a=new Xe(e.a),n.b=e.b),on(this,n),this.i=t.i}else t&&(n=String(t).match(Ze))?(this.a=!!e,nn(this,n[1]||"",!0),this.j=cn(n[2]||""),rn(this,n[3]||"",!0),sn(this,n[4]),this.g=cn(n[5]||"",!0),on(this,n[6]||"",!0),this.i=cn(n[7]||"")):(this.a=!!e,this.b=new yn(null,this.a))}function en(t){return new tn(t)}function nn(t,e,n){t.f=n?cn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function rn(t,e,n){t.c=n?cn(e,!0):e}function sn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function on(t,e,n){e instanceof yn?(t.b=e,function(t,e){e&&!t.f&&(bn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(vn(this,e),wn(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ln(e,gn)),t.b=new yn(e,t.a))}function an(t,e,n){t.b.set(e,n)}function un(t){return an(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^q()).toString(36)),t}function cn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ln(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}tn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ln(e,fn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ln(e,fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ln(n,"/"==n.charAt(0)?pn:dn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ln(n,mn)),t.join("")};var fn=/[#\/\?@]/g,dn=/[#\?:]/g,pn=/[#\?]/g,gn=/[#\?@]/g,mn=/#/g;function yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function bn(t){t.a||(t.a=new Xe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function vn(t,e){bn(t),e=On(t,e),Je(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Je((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ye(t)))}function _n(t,e){return bn(t),e=On(t,e),Je(t.a.b,e)}function wn(t,e,n){vn(t,e),0<n.length&&(t.c=null,t.a.set(On(t,e),$(n)),t.b+=n.length)}function On(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(I=yn.prototype).add=function(t,e){bn(this),this.c=null,t=On(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},I.forEach=function(t,e){bn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},I.L=function(){bn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},I.K=function(t){bn(this);var e=[];if("string"==typeof t)_n(this,t)&&(e=W(e,this.a.get(On(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},I.set=function(t,e){return bn(this),this.c=null,_n(this,t=On(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},I.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},I.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var En=function(){return function(t,e){this.b=t,this.a=e}}();function Sn(t){this.g=t||Tn,t=A.PerformanceNavigationTiming?0<(t=A.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(A.ia&&A.ia.ya&&A.ia.ya()&&A.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Tn=10;function jn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function In(t){return t.b?1:t.a?t.a.size:0}function xn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Cn(t,e){t.a?t.a.add(e):t.b=e}function An(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Pn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=j(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return $(t.c)}function Rn(){}function kn(){this.a=new Rn}function Nn(t,e,n){var r=n||"";try{Qe(t,function(t,n){var i=t;k(t)&&(i=Qt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Sn.prototype.cancel=function(){var t,e;if(this.c=Pn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=j(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Rn.prototype.stringify=function(t){return A.JSON.stringify(t,void 0)},Rn.prototype.parse=function(t){return A.JSON.parse(t,void 0)};var Ln=A.JSON.parse;function Un(t){$t.call(this),this.headers=new Xe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Mn,this.D=this.F=!1}V(Un,$t);var Mn="",Fn=/^https?$/i,qn=["POST","PUT"];function Vn(t){return"content-type"==t.toLowerCase()}function zn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Bn(t),Wn(t)}function Bn(t){t.u||(t.u=!0,Gt(t,"complete"),Gt(t,"error"))}function Hn(t){if(t.b&&void 0!==C&&(!t.s[1]||4!=Gn(t)||2!=t.W()))if(t.l&&4==Gn(t))ue(t.za,0,t);else if(Gt(t,"readystatechange"),4==Gn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Ze)[1]||null;if(!s&&A.self&&A.self.location){var o=A.self.location.protocol;s=o.substr(0,o.length-1)}i=!Fn.test(s?s.toLowerCase():"")}e=i}if(e)Gt(t,"complete"),Gt(t,"success");else{t.h=6;try{var a=2<Gn(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Bn(t)}}finally{Wn(t)}}}function Wn(t,e){if(t.a){$n(t);var n=t.a,r=t.s[0]?P:null;t.a=null,t.s=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function $n(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(A.clearTimeout(t.m),t.m=null)}function Gn(t){return t.a?t.a.readyState:0}function Kn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return tt(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):an(t,e,n))}function Qn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xn(t){this.pa=0,this.g=[],this.c=new ge,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Qn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Qn("baseRetryDelayMs",5e3,t),this.Ra=Qn("retryDelaySeedMs",1e4,t),this.Ma=Qn("forwardChannelMaxRetries",2,t),this.ma=Qn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Sn(t&&t.concurrentRequestLimit),this.ka=new kn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Yn(t){if(Zn(t),3==t.v){var e=t.R++,n=en(t.B);an(n,"SID",t.J),an(n,"RID",e),an(n,"TYPE","terminate"),rr(t,n),(e=new De(t,t.c,e,void 0)).H=2,e.i=un(en(n)),n=!1,A.navigator&&A.navigator.sendBeacon&&(n=A.navigator.sendBeacon(e.i.toString(),"")),!n&&A.Image&&((new Image).src=e.i,n=!0),n||(e.a=gr(e.g,null),e.a.ba(e.i)),e.u=q(),Be(e)}dr(t)}function Jn(t){t.a&&(ar(t),t.a.cancel(),t.a=null)}function Zn(t){Jn(t),t.j&&(A.clearTimeout(t.j),t.j=null),cr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&A.clearTimeout(t.h),t.h=null)}function tr(t,e){t.g.push(new En(t.Oa++,e)),3==t.v&&er(t)}function er(t){jn(t.b)||t.h||(t.h=!0,ne(t.Ba,t),t.u=0)}function nr(t,e){var n;n=e?e.f:t.R++;var r=en(t.B);an(r,"SID",t.J),an(r,"RID",n),an(r,"AID",t.P),rr(t,r),t.i&&t.l&&Kn(r,t.i,t.l),n=new De(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ir(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Cn(t.b,n),Fe(n,r,e)}function rr(t,e){t.f&&Qe({},function(t,n){an(e,n,t)})}function ir(t,e,n){n=Math.min(t.g.length,n);var r=t.f?M(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Nn(l,o,"req"+c+"_")}catch(Kr){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function sr(t){t.a||t.j||(t.T=1,ne(t.Aa,t),t.o=0)}function or(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Te(M(t.Aa,t),hr(t,t.o)),t.o++,0))}function ar(t){null!=t.s&&(A.clearTimeout(t.s),t.s=null)}function ur(t){t.a=new De(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=en(t.la);an(e,"RID","rpc"),an(e,"SID",t.J),an(e,"CI",t.H?"0":"1"),an(e,"AID",t.P),rr(t,e),an(e,"TYPE","xmlhttp"),t.i&&t.l&&Kn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=un(en(e)),n.j=null,n.I=!0,qe(n,t)}function cr(t){null!=t.m&&(A.clearTimeout(t.m),t.m=null)}function lr(t,e){var n=null;if(t.a==e){cr(t),ar(t),t.a=null;var r=2}else{if(!xn(t.b,e))return;n=e.s,An(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=q()-e.u;var i=t.u;Gt(r=ve(),new Se(r,n,e,i)),er(t)}else sr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(In(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Te(M(t.Ba,t,e),hr(t,t.u)),t.u++,0)))}(t,e)||2==r&&or(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:fr(t,5);break;case 4:fr(t,10);break;case 3:fr(t,6);break;default:fr(t,2)}}function hr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function fr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=M(t.Ya,t);n||(n=new tn("//www.google.com/images/cleardot.gif"),A.location&&"http"==A.location.protocol||nn(n,"https"),un(n)),function(t,e){var n=new ge;if(A.Image){var r=new Image;r.onload=F(Dn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=F(Dn,n,r,"TestLoadImage: error",!1,e),r.onabort=F(Dn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=F(Dn,n,r,"TestLoadImage: timeout",!1,e),A.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ee(2);t.v=0,t.f&&t.f.ra(e),dr(t),Zn(t)}function dr(t){t.v=0,t.I=-1,t.f&&(0==Pn(t.b).length&&0==t.g.length||(t.b.c.length=0,$(t.g),t.g.length=0),t.f.qa())}function pr(t,e,n){var r=function(t){return t instanceof tn?en(t):new tn(t,void 0)}(n);if(""!=r.c)e&&rn(r,e+"."+r.c),sn(r,r.h);else{var i=A.location;r=function(t,e,n,r){var i=new tn(null,void 0);return t&&nn(i,t),e&&rn(i,e),n&&sn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&tt(t.V,function(t,e){an(r,e,t)}),n=t.na,(e=t.A)&&n&&an(r,e,n),an(r,"VER",t.ha),rr(t,r),r}function gr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Un(t.Na)).F=t.C,e}function mr(){}function yr(){if(ut&&!(10<=Number(vt)))throw Error("Environmental error: no available transport.")}function br(t,e){$t.call(this),this.a=new Xn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!G(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!G(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new wr(this)}function vr(t){Re.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function _r(){ke.call(this),this.status=1}function wr(t){this.a=t}(I=Un.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ae),this.a.onreadystatechange=M(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void zn(this,s)}t=n||"";var i=new Xe(this.headers);r&&Qe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Vn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=A.FormData&&t instanceof A.FormData,!(0<=B(qn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{$n(this),0<this.o&&((this.D=function(t){return ut&&bt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=M(this.xa,this)):this.m=ue(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){zn(this,s)}},I.xa=function(){void 0!==C&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Gt(this,"timeout"),this.abort(8))},I.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Gt(this,"complete"),Gt(this,"abort"),Wn(this))},I.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Wn(this,!0)),Un.X.G.call(this)},I.za=function(){this.j||(this.A||this.l||this.g?Hn(this):this.Ua())},I.Ua=function(){Hn(this)},I.W=function(){try{return 2<Gn(this)?this.a.status:-1}catch(ot){return-1}},I.$=function(){try{return this.a?this.a.responseText:""}catch(ot){return""}},I.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ln(e)}},I.ua=function(){return this.h},I.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(I=Xn.prototype).ha=8,I.v=1,I.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new De(this,this.c,t,void 0),r=this.l;if(this.O&&(r?rt(r=et(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ir(this,n,e),an(i=en(this.B),"RID",t),an(i,"CVER",22),this.A&&an(i,"X-HTTP-Session-Id",this.A),rr(this,i),this.i&&r&&Kn(i,this.i,r),Cn(this.b,n),this.Ia&&an(i,"TYPE","init"),this.da?(an(i,"$req",e),an(i,"SID","null"),n.U=!0,Fe(n,i,null)):Fe(n,i,e),this.v=2}}else 3==this.v&&(t?nr(this,t):0==this.g.length||jn(this.b)||nr(this))},I.Aa=function(){if(this.j=null,ur(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Te(M(this.Ta,this),t)}},I.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ee(10),Jn(this),ur(this))},I.Sa=function(){null!=this.m&&(this.m=null,Jn(this),or(this),Ee(19))},I.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ee(2)):(this.c.info("Failed to ping google.com"),Ee(1))},(I=mr.prototype).ta=function(){},I.sa=function(){},I.ra=function(){},I.qa=function(){},I.Ja=function(){},yr.prototype.a=function(t,e){return new br(t,e)},V(br,$t),br.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ee(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=pr(t,null,t.fa),er(t)},br.prototype.close=function(){Yn(this.a)},br.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,tr(this.a,e)}else this.l?((e={}).__data__=Qt(t),tr(this.a,e)):tr(this.a,t)},br.prototype.G=function(){this.a.f=null,delete this.f,Yn(this.a),delete this.a,br.X.G.call(this)},V(vr,Re),V(_r,ke),V(wr,mr),wr.prototype.ta=function(){Gt(this.a,"a")},wr.prototype.sa=function(t){Gt(this.a,new vr(t))},wr.prototype.ra=function(t){Gt(this.a,new _r(t))},wr.prototype.qa=function(){Gt(this.a,"b")},yr.prototype.createWebChannel=yr.prototype.a,br.prototype.send=br.prototype.h,br.prototype.open=br.prototype.g,br.prototype.close=br.prototype.close,je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,Ie.COMPLETE="complete",Ce.EventType=Pe,Pe.OPEN="a",Pe.CLOSE="b",Pe.ERROR="c",Pe.MESSAGE="d",$t.prototype.listen=$t.prototype.va,Un.prototype.listenOnce=Un.prototype.wa,Un.prototype.getLastError=Un.prototype.Qa,Un.prototype.getLastErrorCode=Un.prototype.ua,Un.prototype.getStatus=Un.prototype.W,Un.prototype.getResponseJson=Un.prototype.Pa,Un.prototype.getResponseText=Un.prototype.$,Un.prototype.send=Un.prototype.ba;var Or=je,Er=Ie,Sr=ye,Tr=Ce,jr=Un,Ir=n("/6Yf"),xr=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Cr=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ar=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ar.UNAUTHENTICATED=new Ar(null),Ar.l=new Ar("google-credentials-uid"),Ar._=new Ar("first-party-uid");var Pr=new E.b("@firebase/firestore");function Rr(){return Pr.logLevel}function kr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pr.logLevel<=E.a.DEBUG){var r=e.map(Lr);Pr.debug.apply(Pr,Object(w.g)(["Firestore (8.1.1): "+t],r))}}function Nr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pr.logLevel<=E.a.ERROR){var r=e.map(Lr);Pr.error.apply(Pr,Object(w.g)(["Firestore (8.1.1): "+t],r))}}function Dr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pr.logLevel<=E.a.WARN){var r=e.map(Lr);Pr.warn.apply(Pr,Object(w.g)(["Firestore (8.1.1): "+t],r))}}function Lr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Ur(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw Nr(e),new Error(e)}function Mr(t,e){t||Ur()}function Fr(t,e){return t}var qr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(w.c)(e,t),e}(Error),zr=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Br=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Ar.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Hr=function(){function t(t){var e=this;this.P=null,this.currentUser=Ar.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(kr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Mr("string"==typeof n.accessToken),new zr(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return Mr(null===t||"string"==typeof t),new Ar(t)},t}(),Wr=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Ar._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),$r=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Wr(this.v,this.S))},t.prototype.A=function(t){t(Ar._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Gr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Kr=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Gr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Qr(t,e){return t<e?-1:t>e?1:0}function Xr(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Yr(t){return t+"\0"}var Jr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Vr(qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Vr(qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Vr(qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vr(qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Qr(this.nanoseconds,t.nanoseconds):Qr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Zr=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new Jr(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),ti=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ur(),void 0===n?n=t.length-e:n>t.length-e&&Ur(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ei=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Vr(qr.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(ti),ni=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return ni.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Vr(qr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Vr(qr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Vr(qr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Vr(qr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(ti),ii=function(){function t(t){this.path=t}return t.st=function(e){return new t(ei.Y(e))},t.it=function(e){return new t(ei.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ei.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return ei.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new ei(e.slice()))},t}();function si(t){return null==t}function oi(t){return 0===t&&1/t==-1/0}function ai(t){return"number"==typeof t&&Number.isInteger(t)&&!oi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ui=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function ci(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new ui(t,e,n,r,i,s,o)}function li(t){var e=Fr(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+ss(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),si(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ua(e.startAt)),e.endAt&&(n+="|ub:",n+=ua(e.endAt)),e.ut=n}return e.ut}function hi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!da(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!es(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!la(t.startAt,e.startAt)&&la(t.endAt,e.endAt)}function fi(t){return ii.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var di=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Qr(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();di.lt=new di("");var pi,gi,mi=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Zr.min()),void 0===s&&(s=Zr.min()),void 0===o&&(o=di.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),yi=function(t){this.count=t};function bi(t){switch(t){case qr.OK:return Ur();case qr.CANCELLED:case qr.UNKNOWN:case qr.DEADLINE_EXCEEDED:case qr.RESOURCE_EXHAUSTED:case qr.INTERNAL:case qr.UNAVAILABLE:case qr.UNAUTHENTICATED:return!1;case qr.INVALID_ARGUMENT:case qr.NOT_FOUND:case qr.ALREADY_EXISTS:case qr.PERMISSION_DENIED:case qr.FAILED_PRECONDITION:case qr.ABORTED:case qr.OUT_OF_RANGE:case qr.UNIMPLEMENTED:case qr.DATA_LOSS:return!0;default:return Ur()}}function vi(t){if(void 0===t)return Nr("GRPC error has no .code"),qr.UNKNOWN;switch(t){case pi.OK:return qr.OK;case pi.CANCELLED:return qr.CANCELLED;case pi.UNKNOWN:return qr.UNKNOWN;case pi.DEADLINE_EXCEEDED:return qr.DEADLINE_EXCEEDED;case pi.RESOURCE_EXHAUSTED:return qr.RESOURCE_EXHAUSTED;case pi.INTERNAL:return qr.INTERNAL;case pi.UNAVAILABLE:return qr.UNAVAILABLE;case pi.UNAUTHENTICATED:return qr.UNAUTHENTICATED;case pi.INVALID_ARGUMENT:return qr.INVALID_ARGUMENT;case pi.NOT_FOUND:return qr.NOT_FOUND;case pi.ALREADY_EXISTS:return qr.ALREADY_EXISTS;case pi.PERMISSION_DENIED:return qr.PERMISSION_DENIED;case pi.FAILED_PRECONDITION:return qr.FAILED_PRECONDITION;case pi.ABORTED:return qr.ABORTED;case pi.OUT_OF_RANGE:return qr.OUT_OF_RANGE;case pi.UNIMPLEMENTED:return qr.UNIMPLEMENTED;case pi.DATA_LOSS:return qr.DATA_LOSS;default:return Ur()}}(gi=pi||(pi={}))[gi.OK=0]="OK",gi[gi.CANCELLED=1]="CANCELLED",gi[gi.UNKNOWN=2]="UNKNOWN",gi[gi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gi[gi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gi[gi.NOT_FOUND=5]="NOT_FOUND",gi[gi.ALREADY_EXISTS=6]="ALREADY_EXISTS",gi[gi.PERMISSION_DENIED=7]="PERMISSION_DENIED",gi[gi.UNAUTHENTICATED=16]="UNAUTHENTICATED",gi[gi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gi[gi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gi[gi.ABORTED=10]="ABORTED",gi[gi.OUT_OF_RANGE=11]="OUT_OF_RANGE",gi[gi.UNIMPLEMENTED=12]="UNIMPLEMENTED",gi[gi.INTERNAL=13]="INTERNAL",gi[gi.UNAVAILABLE=14]="UNAVAILABLE",gi[gi.DATA_LOSS=15]="DATA_LOSS";var _i=function(){function t(t,e){this.$=t,this.root=e||Oi.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Oi.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Oi.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new wi(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new wi(this.root,t,this.$,!1)},t.prototype.vt=function(){return new wi(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new wi(this.root,t,this.$,!0)},t}(),wi=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Oi=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Ur();if(this.right.Mt())throw Ur();var t=this.left.Qt();if(t!==this.right.Qt())throw Ur();return t+(this.Mt()?0:1)},t}();Oi.EMPTY=null,Oi.RED=!0,Oi.It=!1,Oi.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ur()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ur()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ur()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ur()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ur()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Oi(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Ei=function(){function t(t){this.$=t,this.data=new _i(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Si(this.data.yt())},t.prototype.Vt=function(t){return new Si(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Si=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Ti=new _i(ii.$);function ji(){return Ti}function Ii(){return ji()}var xi=new _i(ii.$);function Ci(){return xi}var Ai=new _i(ii.$),Pi=new Ei(ii.$);function Ri(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Pi,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var ki=new Ei(Qr);function Ni(){return ki}var Di=function(){function t(t){this.$=t?function(e,n){return t(e,n)||ii.$(e.key,n.key)}:function(t,e){return ii.$(t.key,e.key)},this.Ht=Ci(),this.Jt=new _i(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Li=function(){function t(){this.Xt=new _i(ii.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Ur():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),Ui=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Di.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Go(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Mi=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Fi.he(e,n)),new t(Zr.min(),r,Ni(),ji(),Ri())},t}(),Fi=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(di.lt,n,Ri(),Ri(),Ri())},t}(),qi=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Vi=function(t,e){this.targetId=t,this.Te=e},zi=function(t,e,n,r){void 0===n&&(n=di.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Bi=function(){function t(){this.Ie=0,this.me=$i(),this.Ae=di.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Ri(),e=Ri(),n=Ri();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ur()}}),new Fi(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=$i()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Hi=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=ji(),this.Me=Wi(),this.ke=new Ei(Qr)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof ko?this.Le(r,t.Ee):t.Ee instanceof No&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Ur()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(fi(i))if(0===n){var s=new ii(i.path);this.Be(e,s,new No(s,Zr.min()))}else Mr(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var s=e.Ge(i);if(s){if(r.le&&fi(s.target)){var o=new ii(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new No(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=Ri();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Mi(t,n,this.ke,this.Oe,r);return this.Oe=ji(),this.Me=Wi(),this.ke=new Ei(Qr),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Bi,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Ei(Qr),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||kr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Bi),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Wi(){return new _i(ii.$)}function $i(){return new _i(ii.$)}function Gi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qi(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yi(t){var e=t.mapValue.fields.__previous_value__;return Xi(e)?Yi(e):e}function Ji(t){var e=as(t.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}var Zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xi(t)?4:10:Ur()}function es(t,e){var n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ji(t).isEqual(Ji(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=as(t.timestampValue),r=as(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return cs(t.bytesValue).isEqual(cs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return us(t.geoPointValue.latitude)===us(e.geoPointValue.latitude)&&us(t.geoPointValue.longitude)===us(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return us(t.integerValue)===us(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=us(t.doubleValue),r=us(e.doubleValue);return n===r?oi(n)===oi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Xr(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Gi(n)!==Gi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!es(n[i],r[i])))return!1;return!0}(t,e);default:return Ur()}}function ns(t,e){return void 0!==(t.values||[]).find(function(t){return es(t,e)})}function rs(t,e){var n=ts(t),r=ts(e);if(n!==r)return Qr(n,r);switch(n){case 0:return 0;case 1:return Qr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=us(t.integerValue||t.doubleValue),r=us(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return is(t.timestampValue,e.timestampValue);case 4:return is(Ji(t),Ji(e));case 5:return Qr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=cs(t),r=cs(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Qr(n[i],r[i]);if(0!==s)return s}return Qr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Qr(us(t.latitude),us(e.latitude));return 0!==n?n:Qr(us(t.longitude),us(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=rs(n[i],r[i]);if(s)return s}return Qr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Qr(r[o],s[o]);if(0!==a)return a;var u=rs(n[r[o]],i[s[o]]);if(0!==u)return u}return Qr(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ur()}}function is(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Qr(t,e);var n=as(t),r=as(e),i=Qr(n.seconds,r.seconds);return 0!==i?i:Qr(n.nanos,r.nanos)}function ss(t){return os(t)}function os(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=as(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?cs(t.bytesValue).toBase64():"referenceValue"in t?ii.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=os(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+os(t.fields[s])}return e+"}"}(t.mapValue):Ur();var e}function as(t){if(Mr(!!t),"string"==typeof t){var e=0,n=Zi.exec(t);if(Mr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:us(t.seconds),nanos:us(t.nanos)}}function us(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function cs(t){return"string"==typeof t?di.fromBase64String(t):di.fromUint8Array(t)}function ls(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function hs(t){return!!t&&"integerValue"in t}function fs(t){return!!t&&"arrayValue"in t}function ds(t){return!!t&&"nullValue"in t}function ps(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gs(t){return!!t&&"mapValue"in t}var ms={asc:"ASCENDING",desc:"DESCENDING"},ys={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bs=function(t,e){this.t=t,this.tn=e};function vs(t){return{integerValue:""+t}}function _s(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oi(e)?"-0":e}}function ws(t,e){return ai(e)?vs(e):_s(t,e)}function Os(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Es(t,e){return t.tn?e.toBase64():e.toUint8Array()}function Ss(t,e){return Os(t,e.M())}function Ts(t){return Mr(!!t),Zr.N(function(t){var e=as(t);return new Jr(e.seconds,e.nanos)}(t))}function js(t,e){return function(t){return new ei(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function Is(t){var e=ei.Y(t);return Mr(Xs(e)),e}function xs(t,e){return js(t.t,e.path)}function Cs(t,e){var n=Is(e);if(n.get(1)!==t.t.projectId)throw new Vr(qr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Vr(qr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ii(ks(n))}function As(t,e){return js(t.t,e)}function Ps(t){var e=Is(t);return 4===e.length?ei.X():ks(e)}function Rs(t){return new ei(["projects",t.t.projectId,"databases",t.t.database]).J()}function ks(t){return Mr(t.length>4&&"documents"===t.get(4)),t.B(5)}function Ns(t,e,n){return{name:xs(t,e),fields:n.proto.mapValue.fields}}function Ds(t,e){var n;if(e instanceof wo)n={update:Ns(t,e.key,e.value)};else if(e instanceof Io)n={delete:xs(t,e.key)};else if(e instanceof Oo)n={update:Ns(t,e.key,e.data),updateMask:Qs(e.en)};else if(e instanceof So)n={transform:{document:xs(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof eo)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof no)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof io)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof oo)return{fieldPath:e.field.J(),increment:n.nn};throw Ur()}(0,t)})}};else{if(!(e instanceof xo))return Ur();n={verify:xs(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ss(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ur()}(t,e.rn)),n}function Ls(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?fo.updateTime(Ts(t.updateTime)):void 0!==t.exists?fo.exists(t.exists):fo.on()}(e.currentDocument):fo.on();if(e.update){var r=Cs(t,e.update.name),i=new Co({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new co((t.fieldPaths||[]).map(function(t){return ri.nt(t)}))}(e.updateMask);return new Oo(r,i,s,n)}return new wo(r,i,n)}if(e.delete){var o=Cs(t,e.delete);return new Io(o,n)}if(e.transform){var a=Cs(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Mr("REQUEST_TIME"===e.setToServerValue),n=new eo):"appendMissingElements"in e?n=new no(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new io(e.removeAllFromArray.values||[]):"increment"in e?n=new oo(t,e.increment):Ur();var r=ri.nt(e.fieldPath);return new lo(r,n)}(t,e)});return Mr(!0===n.exists),new So(a,u)}if(e.verify){var c=Cs(t,e.verify);return new xo(c,n)}return Ur()}function Us(t,e){return{documents:[As(t,e.path)]}}function Ms(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=As(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=As(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(ps(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NAN"}};if(ds(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ps(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NAN"}};if(ds(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(t.field),op:Hs(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ws(t.field),direction:Bs(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||si(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Vs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Vs(e.endAt)),n}function Fs(t){var e=Ps(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mr(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=qs(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ha($s(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return si(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=zs(n.startAt));var l=null;return n.endAt&&(l=zs(n.endAt)),Uo(e,i,a,o,u,"F",c,l)}function qs(t){return t?void 0!==t.unaryFilter?[Ks(t)]:void 0!==t.fieldFilter?[Gs(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return qs(t)}).reduce(function(t,e){return t.concat(e)}):Ur():[]}function Vs(t){return{before:t.before,values:t.position}}function zs(t){return new aa(t.values||[],!!t.before)}function Bs(t){return ms[t]}function Hs(t){return ys[t]}function Ws(t){return{fieldPath:t.J()}}function $s(t){return ri.nt(t.fieldPath)}function Gs(t){return Jo.create($s(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ur()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ks(t){switch(t.unaryFilter.op){case"IS_NAN":var e=$s(t.unaryFilter.field);return Jo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=$s(t.unaryFilter.field);return Jo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$s(t.unaryFilter.field);return Jo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$s(t.unaryFilter.field);return Jo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ur()}}function Qs(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function Xs(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ys=function(){this.cn=void 0};function Js(t,e,n){return t instanceof eo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof no?ro(t,e):t instanceof io?so(t,e):function(t,e){var n=to(t,e),r=ao(n)+ao(t.nn);return hs(n)&&hs(t.nn)?vs(r):_s(t.serializer,r)}(t,e)}function Zs(t,e,n){return t instanceof no?ro(t,e):t instanceof io?so(t,e):n}function to(t,e){return t instanceof oo?hs(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e}(Ys),no=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(w.c)(e,t),e}(Ys);function ro(t,e){for(var n=uo(e),r=function(t){n.some(function(e){return es(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var io=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(w.c)(e,t),e}(Ys);function so(t,e){for(var n=uo(e),r=function(t){n=n.filter(function(e){return!es(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var oo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(w.c)(e,t),e}(Ys);function ao(t){return us(t.integerValue||t.doubleValue)}function uo(t){return fs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var co=function(){function t(t){this.fields=t,t.sort(ri.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return Xr(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),lo=function(t,e){this.field=t,this.transform=e},ho=function(t,e){this.version=t,this.transformResults=e},fo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function po(t,e){return void 0!==t.updateTime?e instanceof ko&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ko}var go=function(){};function mo(t,e,n){return t instanceof wo?function(t,e,n){return new ko(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Oo?function(t,e,n){if(!po(t.rn,e))return new Do(t.key,n.version);var r=Eo(t,e);return new ko(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof So?function(t,e,n){if(Mr(null!=n.transformResults),!po(t.rn,e))return new Do(t.key,n.version);var r=To(0,e),i=function(t,e,n){var r=[];Mr(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof ko&&(a=e.field(s.field)),r.push(Zs(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=jo(t,r.data(),i);return new ko(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new No(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function yo(t,e,n,r){return t instanceof wo?function(t,e){if(!po(t.rn,e))return e;var n=_o(e);return new ko(t.key,n,t.value,{an:!0})}(t,e):t instanceof Oo?function(t,e){if(!po(t.rn,e))return e;var n=_o(e),r=Eo(t,e);return new ko(t.key,n,r,{an:!0})}(t,e):t instanceof So?function(t,e,n,r){if(!po(t.rn,e))return e;var i=To(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof ko&&(c=n.field(a.field)),null===c&&r instanceof ko&&(c=r.field(a.field)),i.push(Js(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=jo(t,i.data(),s);return new ko(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return po(t.rn,e)?new No(t.key,Zr.min()):e}(t,e)}function bo(t,e){return t instanceof So?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof ko?e.field(s.field):void 0,a=to(s.transform,o||null);null!=a&&(n=null==n?(new Ao).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function vo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||Xr(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof no&&e instanceof no||t instanceof io&&e instanceof io?Xr(t.elements,e.elements,es):t instanceof oo&&e instanceof oo?es(t.nn,e.nn):t instanceof eo&&e instanceof eo}(t.transform,e.transform)}(t,e)}))}function _o(t){return t instanceof ko?t.version:Zr.min()}var wo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(w.c)(e,t),e}(go),Oo=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(w.c)(e,t),e}(go);function Eo(t,e){return function(t,e){var n=new Ao(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof ko?e.data():Co.empty())}var So=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=fo.exists(!0),r}return Object(w.c)(e,t),e}(go);function To(t,e){return e}function jo(t,e,n){for(var r=new Ao(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var Io=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(w.c)(e,t),e}(go),xo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(w.c)(e,t),e}(go),Co=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!gs(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return es(this.proto,t.proto)},t}(),Ao=function(){function t(t){void 0===t&&(t=Co.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===ts(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(ri.X(),this._n);return null!=t?new Co(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=gs(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Po(t){var e=[];return Ki(t.fields||{},function(t,n){var r=new ri([t]);if(gs(n)){var i=Po(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new co(e)}var Ro=function(t,e){this.key=t,this.version=e},ko=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(w.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ro),No=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(w.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ro),Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ro),Lo=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function Uo(t,e,n,r,i,s,o,a){return new Lo(t,e,n,r,i,s,o,a)}function Mo(t){return new Lo(t)}function Fo(t){return!si(t.limit)&&"F"===t.limitType}function qo(t){return!si(t.limit)&&"L"===t.limitType}function Vo(t){return t.Tn.length>0?t.Tn[0].field:null}function zo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function Bo(t){return null!==t.collectionGroup}function Ho(t){var e=Fr(t);if(null===e.In){e.In=[];var n=zo(e),r=Vo(e);if(null!==n&&null===r)n.tt()||e.In.push(new ha(n)),e.In.push(new ha(ri.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new ha(ri.et(),u))}}}return e.In}function Wo(t){var e=Fr(t);if(!e.mn)if("F"===e.limitType)e.mn=ci(e.path,e.collectionGroup,Ho(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ho(e);r<i.length;r++){var s=i[r];n.push(new ha(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new aa(e.endAt.position,!e.endAt.before):null,a=e.startAt?new aa(e.startAt.position,!e.startAt.before):null;e.mn=ci(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function $o(t,e,n){return new Lo(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Go(t,e){return hi(Wo(t),Wo(e))&&t.limitType===e.limitType}function Ko(t){return li(Wo(t))+"|lt:"+t.limitType}function Qo(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+ss(e.value);var e}).join(", ")+"]"),si(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ua(t.startAt)),t.endAt&&(e+=", endAt: "+ua(t.endAt)),"Target("+e+")"}(Wo(t))+"; limitType="+t.limitType+")"}function Xo(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):ii.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ca(t.startAt,Ho(t),e)||t.endAt&&ca(t.endAt,Ho(t),e))}(t,e)}function Yo(t){return function(e,n){for(var r=!1,i=0,s=Ho(t);i<s.length;i++){var o=s[i],a=fa(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var Jo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(w.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Zo(t,n,r):"array-contains"===n?new ra(t,r):"in"===n?new ia(t,r):"not-in"===n?new sa(t,r):"array-contains-any"===n?new oa(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new ta(t,n):new ea(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(rs(e,this.value)):null!==e&&ts(this.value)===ts(e)&&this.Pn(rs(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ur()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Zo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ii.it(r.referenceValue),i}return Object(w.c)(e,t),e.prototype.matches=function(t){var e=ii.$(t.key,this.key);return this.Pn(e)},e}(Jo),ta=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=na(0,n),r}return Object(w.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Jo),ea=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=na(0,n),r}return Object(w.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Jo);function na(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ii.it(t.referenceValue)})}var ra=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(w.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return fs(e)&&ns(e.arrayValue,this.value)},e}(Jo),ia=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(w.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ns(this.value.arrayValue,e)},e}(Jo),sa=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(w.c)(e,t),e.prototype.matches=function(t){if(ns(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ns(this.value.arrayValue,e)},e}(Jo),oa=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(w.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!fs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ns(e.value.arrayValue,t)})},e}(Jo),aa=function(t,e){this.position=t,this.before=e};function ua(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ss(t)}).join(",")}function ca(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?ii.$(ii.it(o.referenceValue),n.key):rs(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function la(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}var ha=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function fa(t,e,n){var r=t.field.tt()?ii.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?rs(r,i):Ur()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ur()}}function da(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var pa=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=mo(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=yo(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=yo(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ri())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xr(this.mutations,t.mutations,function(t,e){return vo(t,e)})&&Xr(this.baseMutations,t.baseMutations,function(t,e){return vo(t,e)})},t}(),ga=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){Mr(e.mutations.length===r.length);for(var i=Ai,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ma=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ki(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.W=function(){return Qi(this.Nn)},t}(),ya=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Ur(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),ba=function(){function t(){this.Qn=new ma(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Zr.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?ya.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),va=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function _a(t){return new bs(t,!0)}function wa(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Oa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ea=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),Sa=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=Ii();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),s=ji();return i.forEach(function(t,e){e||(e=new No(t,Zr.min())),s=s.Tt(t,e)}),s})},t.prototype.ws=function(t,e,n){return function(t){return ii.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):Bo(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new ii(e)).next(function(t){var e=Ci();return t instanceof ko&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=Ci();return this.os.As(t,i).next(function(o){return ya.forEach(o,function(o){var a=function(t,e){return new Lo(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Tt(t,e)})})}).next(function(){return s})})},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next(function(n){return r=n,s.rs.Rs(t,e)}).next(function(e){return s.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=yo(u,l,l,s.gn);r=h instanceof ko?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Xo(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=Ri(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Oo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof ko&&(c=c.Tt(t,e))}),c})},t}(),Ta=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Ri(),i=Ri(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ja=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();ja.Ds=-1;var Ia=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&kr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),xa=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(S.h)())&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return kr("SimpleDb","Removing database:",t),Na(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(S.h)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(w.b)(this,void 0,void 0,function(){var e,n=this;return Object(w.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(kr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Aa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Vr(qr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Aa(t,n))},i.onupgradeneeded=function(t){kr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){kr("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(w.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(w.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(w.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=Ra.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),ya.reject(t)}).Ln(),u={},o.catch(function(){}),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return kr("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ca=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Na(this.ni.delete())},t}(),Aa=function(t){function e(e,n){var r=this;return(r=t.call(this,qr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(w.c)(e,t),e}(Vr);function Pa(t){return"IndexedDbTransactionError"===t.name}var Ra=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new va,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new Aa(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=La(e.target.error);n.ci.reject(new Aa(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Aa(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(kr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ka(e)},t}(),ka=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(kr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(kr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Na(n)},t.prototype.add=function(t){return kr("SimpleDb","ADD",this.store.name,t,t),Na(this.store.add(t))},t.prototype.get=function(t){var e=this;return Na(this.store.get(t)).next(function(n){return void 0===n&&(n=null),kr("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return kr("SimpleDb","DELETE",this.store.name,t),Na(this.store.delete(t))},t.prototype.count=function(){return kr("SimpleDb","COUNT",this.store.name),Na(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){kr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new ya(function(n,r){e.onerror=function(t){var e=La(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new ya(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Ca(i),o=e(i.primaryKey,i.value,s);if(o instanceof ya){var a=o.catch(function(t){return s.done(),ya.reject(t)});n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}}).next(function(){return ya.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Na(t){return new ya(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=La(t.target.error);n(e)}})}var Da=!1;function La(t){var e=xa.js(Object(S.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Vr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Da||(Da=!0,setTimeout(function(){throw r},0)),r}}return t}function Ua(){return"undefined"!=typeof window?window:null}function Ma(){return"undefined"!=typeof document?document:null}var Fa=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new va,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Vr(qr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),qa=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Ia(this,"async_queue_retry"),this.Di=function(){var e=Ma();e&&kr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Ma();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Ma();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(w.b)(this,void 0,void 0,function(){var t,e=this;return Object(w.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!Pa(t=n.sent()))throw t;return kr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=Fa.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Ur()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(w.b)(this,void 0,void 0,function(){var t;return Object(w.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Va(t,e){if(Nr("AsyncQueue",e+": "+t),Pa(t))return new Vr(qr.UNAVAILABLE,e+": "+t);throw t}function za(t,e){var n=t[1],r=e[1],i=Qr(t[0],e[0]);return 0===i?Qr(n,r):i}var Ba=function(){function t(t){this.Ki=t,this.buffer=new Ei(za),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();za(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ha={zi:!1,Hi:0,Ji:0,Yi:0},Wa=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Wa.nr=10,Wa.sr=1e3,Wa.ir=new Wa(41943040,Wa.nr,Wa.sr),Wa.rr=new Wa(-1,0,0);var $a=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;kr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(w.b)(e,void 0,void 0,function(){var e;return Object(w.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return Pa(e=n.sent())?(kr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,vc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),Ga=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return ya.resolve(ja.Ds);var r=new Ba(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(kr("LruGarbageCollector","Garbage collection skipped; disabled"),ya.resolve(Ha)):this.Pr(t).next(function(r){return r<n.params.Xi?(kr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),Ha):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(kr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,o=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return u=Date.now(),Rr()<=E.a.DEBUG&&kr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ya.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}();function Ka(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Xa(e)),e=Qa(t.get(n),e);return Xa(e)}function Qa(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Xa(t){return t+"\x01\x01"}function Ya(t){var e=t.length;if(Mr(e>=2),2===e)return Mr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ei.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ur(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ur()}s=o+2}return new ei(r)}var Ja=function(t){this.yr=t};function Za(t,e){if(e.document)return function(t,e,n){var r=Cs(t,e.name),i=Ts(e.updateTime),s=new Co({mapValue:{fields:e.fields}});return new ko(r,i,s,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ii.ct(e.noDocument.path),r=iu(e.noDocument.readTime);return new No(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ii.ct(e.unknownDocument.path),s=iu(e.unknownDocument.version);return new Do(i,s)}return Ur()}function tu(t,e,n){var r=eu(n),i=e.key.path.q().H();if(e instanceof ko){var s=function(t,e){return{name:xs(t,e.key),fields:e.En().mapValue.fields,updateTime:Os(t,e.version.M())}}(t.yr,e);return new Pu(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof No){var o=e.key.path.H(),a=ru(e.version),u=e.hasCommittedMutations;return new Pu(null,new Cu(o,a),null,u,r,i)}if(e instanceof Do){var c=e.key.path.H(),l=ru(e.version);return new Pu(new Au(c,l),null,null,!0,r,i)}return Ur()}function eu(t){var e=t.M();return[e.seconds,e.nanoseconds]}function nu(t){var e=new Jr(t[0],t[1]);return Zr.N(e)}function ru(t){var e=t.M();return new Su(e.seconds,e.nanoseconds)}function iu(t){var e=new Jr(t.seconds,t.nanoseconds);return Zr.N(e)}function su(t,e){var n=(e.baseMutations||[]).map(function(e){return Ls(t.yr,e)}),r=e.mutations.map(function(e){return Ls(t.yr,e)}),i=Jr.fromMillis(e.localWriteTimeMs);return new pa(e.batchId,i,n,r)}function ou(t){var e,n,r=iu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?iu(t.lastLimboFreeSnapshotVersion):Zr.min();return void 0!==t.query.documents?(Mr(1===(n=t.query).documents.length),e=Wo(Mo(Ps(n.documents[0])))):e=function(t){return Wo(Fs(t))}(t.query),new mi(e,t.targetId,0,t.lastListenSequenceNumber,r,i,di.fromBase64String(t.resumeToken))}function au(t,e){var n,r=ru(e.ft),i=ru(e.lastLimboFreeSnapshotVersion);n=fi(e.target)?Us(t.yr,e.target):Ms(t.yr,e.target);var s=e.resumeToken.toBase64();return new ku(e.targetId,li(e.target),r,s,e.sequenceNumber,i,n)}function uu(t){var e=Fs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$o(e,e.limit,"L"):e}var cu=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return Mr(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fu(t)._i({index:Iu.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Sr=function(t,e,n,r){var i=this,s=du(t),o=fu(t);return o.add({}).next(function(a){Mr("number"==typeof a);for(var u=new pa(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ds(t.yr,e)}),i=n.mutations.map(function(e){return Ds(t.yr,e)});return new Iu(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Ei(function(t,e){return Qr(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],g=xu.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(g,xu.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Dr(t,e))}),t.es(function(){i.pr[a]=u.keys()}),ya.qn(l).next(function(){return u})})},t.prototype.Cr=function(t,e){var n=this;return fu(t).get(e).next(function(t){return t?(Mr(t.userId===n.userId),su(n.serializer,t)):null})},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?ya.resolve(this.pr[e]):this.Cr(t,e).next(function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null})},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return fu(t)._i({index:Iu.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Mr(e.batchId>=r),s=su(n.serializer,e)),i.done()}).next(function(){return s})},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fu(t)._i({index:Iu.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fu(t).ui(Iu.userMutationsIndex,n).next(function(t){return t.map(function(t){return su(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=xu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return du(t)._i({range:i},function(r,i,o){var a=r[0],u=r[2],c=Ya(r[1]);if(a===n.userId&&e.path.isEqual(c))return fu(t).get(u).next(function(t){if(!t)throw Ur();Mr(t.userId===n.userId),s.push(su(n.serializer,t))});o.done()}).next(function(){return s})},t.prototype.ds=function(t,e){var n=this,r=new Ei(Qr),i=[];return e.forEach(function(e){var s=xu.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=du(t)._i({range:o},function(t,i,s){var o=t[0],a=t[2],u=Ya(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),ya.qn(i).next(function(){return n.kr(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=xu.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ei(Qr);return du(t)._i({range:o},function(t,e,s){var o=t[0],u=t[2],c=Ya(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.kr(t,a)})},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(fu(t).get(e).next(function(t){if(null===t)throw Ur();Mr(t.userId===n.userId),r.push(su(n.serializer,t))}))}),ya.qn(i).next(function(){return r})},t.prototype.$r=function(t,e){var n=this;return hu(t.Lr,this.userId,e).next(function(r){return t.es(function(){n.Br(e.batchId)}),ya.forEach(r,function(e){return n.Vr.qr(t,e)})})},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next(function(n){if(!n)return ya.resolve();var r=IDBKeyRange.lowerBound(xu.prefixForUser(e.userId)),i=[];return du(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var s=Ya(t[1]);i.push(s)}else r.done()}).next(function(){Mr(0===i.length)})})},t.prototype.Qr=function(t,e){return lu(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return pu(t).get(this.userId).next(function(t){return t||new ju(e.userId,-1,"")})},t}();function lu(t,e,n){var r=xu.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return du(t)._i({range:s,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function hu(t,e,n){var r=t.store(Iu.store),i=t.store(xu.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Mr(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=xu.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return ya.qn(s).next(function(){return c})}function fu(t){return tc.Ys(t,Iu.store)}function du(t){return tc.Ys(t,xu.store)}function pu(t){return tc.Ys(t,ju.store)}var gu=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return bu(t).put(vu(e),n)},t.prototype.Hn=function(t,e){var n=bu(t),r=vu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Wr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return bu(t).get(vu(e)).next(function(t){return n.jr(t)})},t.prototype.Gr=function(t,e){var n=this;return bu(t).get(vu(e)).next(function(t){var e=n.jr(t);return e?{zn:e,size:_u(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ii();return this.zr(t,e,function(t,e){var i=n.jr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.Hr=function(t,e){var n=this,r=Ii(),i=new _i(ii.$);return this.zr(t,e,function(t,e){var s=n.jr(e);s?(r=r.Tt(t,s),i=i.Tt(t,_u(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{Jr:r,Yr:i}})},t.prototype.zr=function(t,e,n){if(e.W())return ya.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return bu(t)._i({range:r},function(t,e,r){for(var o=ii.ct(t);s&&ii.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()}).next(function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=Ci(),s=e.path.length+1,o={};if(n.isEqual(Zr.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=eu(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Pu.collectionReadTimeIndex}return bu(t)._i(o,function(t,n,o){if(t.length===s){var a=Za(r.serializer,n);e.path.j(a.key.path)?a instanceof ko&&Xo(e,a)&&(i=i.Tt(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Xr=function(t){return new mu(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return yu(t).get(Ru.key).next(function(t){return Mr(!!t),t})},t.prototype.Wr=function(t,e){return yu(t).put(Ru.key,e)},t.prototype.jr=function(t){if(t){var e=Za(this.serializer,t);return e instanceof No&&e.version.isEqual(Zr.min())?null:e}return null},t}(),mu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new ma(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(w.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Ei(function(t,e){return Qr(t.J(),e.J())});return this.Qn.forEach(function(s,o){var a=e.so.get(s);if(o.zn){var u=tu(e.no.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=_u(u);r+=c-a,n.push(e.no.jn(t,s,u))}else if(r-=a,e.Zr){var l=tu(e.no.serializer,new No(s,Zr.min()),e.Wn(s));n.push(e.no.jn(t,s,l))}else n.push(e.no.Hn(t,s))}),i.forEach(function(r){n.push(e.no.os.Dr(t,r))}),n.push(this.no.updateMetadata(t,r)),ya.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next(function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next(function(t){var e=t.Jr;return t.Yr.forEach(function(t,e){n.so.set(t,e)}),e})},e}(ba);function yu(t){return tc.Ys(t,Ru.store)}function bu(t){return tc.Ys(t,Pu.store)}function vu(t){return t.path.H()}function _u(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ur();e=t.noDocument}return JSON.stringify(e).length}var wu=function(){function t(){this.io=new Ou}return t.prototype.Dr=function(t,e){return this.io.add(e),ya.resolve()},t.prototype.As=function(t,e){return ya.resolve(this.io.getEntries(e))},t}(),Ou=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Ei(ei.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ei(ei.$)).H()},t}(),Eu=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Mr(n<r&&n>=0&&r<=11);var s=new Ra("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Tu.store)}(t),function(t){t.createObjectStore(ju.store,{keyPath:ju.keyPath}),t.createObjectStore(Iu.store,{keyPath:Iu.keyPath,autoIncrement:!0}).createIndex(Iu.userMutationsIndex,Iu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(xu.store)}(t),Uu(t),function(t){t.createObjectStore(Pu.store)}(t));var o=ya.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Nu.store),t.deleteObjectStore(ku.store),t.deleteObjectStore(Du.store)}(t),Uu(t)),o=o.next(function(){return function(t){var e=t.store(Du.store),n=new Du(0,0,Zr.min().M(),0);return e.put(Du.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Iu.store).ui().next(function(n){t.deleteObjectStore(Iu.store),t.createObjectStore(Iu.store,{keyPath:Iu.keyPath,autoIncrement:!0}).createIndex(Iu.userMutationsIndex,Iu.userMutationsKeyPath,{unique:!0});var r=e.store(Iu.store),i=n.map(function(t){return r.put(t)});return ya.qn(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Mu.store,{keyPath:Mu.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Ru.store)}(t),i.addDocumentGlobal(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(s)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Pu.store);e.createIndex(Pu.readTimeIndex,Pu.readTimeIndexPath,{unique:!1}),e.createIndex(Pu.collectionReadTimeIndex,Pu.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.rewriteCanonicalIds(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Fu.store,{keyPath:Fu.keyPath})}(t),function(t){t.createObjectStore(qu.store,{keyPath:qu.keyPath})}(t)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Pu.store)._i(function(t,n){e+=_u(n)}).next(function(){var n=new Ru(e);return t.store(Ru.store).put(Ru.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ju.store),r=t.store(Iu.store);return n.ui().next(function(n){return ya.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Iu.userMutationsIndex,i).next(function(r){return ya.forEach(r,function(r){Mr(r.userId===n.userId);var i=su(e.serializer,r);return hu(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Nu.store),n=t.store(Pu.store);return t.store(Du.store).get(Du.key).next(function(t){var r=[];return n._i(function(n,i){var s=new ei(n),o=function(t){return[0,Ka(t)]}(s);r.push(e.get(o).next(function(n){return n?ya.resolve():function(n){return e.put(new Nu(0,Ka(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return ya.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Lu.store,{keyPath:Lu.keyPath});var n=e.store(Lu.store),r=new Ou,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Ka(i)})}};return e.store(Pu.store)._i({li:!0},function(t,e){var n=new ei(t);return i(n.q())}).next(function(){return e.store(xu.store)._i({li:!0},function(t,e){var n=Ya(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ku.store);return n._i(function(t,r){var i=ou(r),s=au(e.serializer,i);return n.put(s)})},t}(),Su=function(t,e){this.seconds=t,this.nanoseconds=e},Tu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Tu.store="owner",Tu.key="owner";var ju=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ju.store="mutationQueues",ju.keyPath="userId";var Iu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Iu.store="mutations",Iu.keyPath="batchId",Iu.userMutationsIndex="userMutationsIndex",Iu.userMutationsKeyPath=["userId","batchId"];var xu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ka(e)]},t.key=function(t,e,n){return[t,Ka(e),n]},t}();xu.store="documentMutations",xu.PLACEHOLDER=new xu;var Cu=function(t,e){this.path=t,this.readTime=e},Au=function(t,e){this.path=t,this.version=e},Pu=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Pu.store="remoteDocuments",Pu.readTimeIndex="readTimeIndex",Pu.readTimeIndexPath="readTime",Pu.collectionReadTimeIndex="collectionReadTimeIndex",Pu.collectionReadTimeIndexPath=["parentPath","readTime"];var Ru=function(t){this.byteSize=t};Ru.store="remoteDocumentGlobal",Ru.key="remoteDocumentGlobalKey";var ku=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};ku.store="targets",ku.keyPath="targetId",ku.queryTargetsIndexName="queryTargetsIndex",ku.queryTargetsKeyPath=["canonicalId","targetId"];var Nu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Nu.store="targetDocuments",Nu.keyPath=["targetId","path"],Nu.documentTargetsIndex="documentTargetsIndex",Nu.documentTargetsKeyPath=["path","targetId"];var Du=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Du.key="targetGlobalKey",Du.store="targetGlobal";var Lu=function(t,e){this.collectionId=t,this.parent=e};function Uu(t){t.createObjectStore(Nu.store,{keyPath:Nu.keyPath}).createIndex(Nu.documentTargetsIndex,Nu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ku.store,{keyPath:ku.keyPath}).createIndex(ku.queryTargetsIndexName,ku.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Du.store)}Lu.store="collectionParents",Lu.keyPath=["collectionId","parent"];var Mu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mu.store="clientMetadata",Mu.keyPath="clientId";var Fu=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Fu.store="bundles",Fu.keyPath="bundleId";var qu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qu.store="namedQueries",qu.keyPath="name";var Vu=Object(w.g)(Object(w.g)(Object(w.g)(Object(w.g)([ju.store,Iu.store,xu.store,Pu.store,ku.store,Tu.store,Du.store,Nu.store],[Mu.store]),[Ru.store]),[Lu.store]),[Fu.store,qu.store]),zu=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return Bu(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:iu(e.createTime),version:e.version};var e})},t.prototype.oo=function(t,e){return Bu(t).put({bundleId:(n=e).id,createTime:ru(Ts(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return Hu(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:uu(e.bundledQuery),readTime:iu(e.readTime)};var e})},t.prototype.uo=function(t,e){return Hu(t).put(function(t){return{name:t.name,readTime:ru(Ts(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Bu(t){return tc.Ys(t,Fu.store)}function Hu(t){return tc.Ys(t,qu.store)}var Wu=function(){function t(){this.ao=new Ou}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es(function(){n.ao.add(e)});var s={collectionId:r,parent:Ka(i)};return $u(t).put(s)}return ya.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Yr(e),""],!1,!0);return $u(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Ya(s.parent))}return n})},t}();function $u(t){return tc.Ys(t,Lu.store)}var Gu=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),Ku=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next(function(n){var r=new Gu(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next(function(){return n.highestTargetId})})},t.prototype.To=function(t){return this.wo(t).next(function(t){return Zr.N(new Jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Io=function(t){return this.wo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)})},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next(function(){return n.wo(t).next(function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)})})},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next(function(){return Qu(t).delete(e.targetId)}).next(function(){return n.wo(t)}).next(function(e){return Mr(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return Qu(t)._i(function(o,a){var u=ou(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Vo(t,u)))}).next(function(){return ya.qn(s)}).next(function(){return i})},t.prototype.Ue=function(t,e){return Qu(t)._i(function(t,n){var r=ou(n);e(r)})},t.prototype.wo=function(t){return Xu(t).get(Du.key).next(function(t){return Mr(null!==t),t})},t.prototype.Eo=function(t,e){return Xu(t).put(Du.key,e)},t.prototype.Ro=function(t,e){return Qu(t).put(au(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next(function(t){return t.targetCount})},t.prototype.bo=function(t,e){var n=li(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Qu(t)._i({range:r,index:ku.queryTargetsIndexName},function(t,n,r){var s=ou(n);hi(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.So=function(t,e,n){var r=this,i=[],s=Yu(t);return e.forEach(function(e){var o=Ka(e.path);i.push(s.put(new Nu(n,o))),i.push(r.Vr.Do(t,n,e))}),ya.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=Yu(t);return ya.forEach(e,function(e){var s=Ka(e.path);return ya.qn([i.delete([n,s]),r.Vr.No(t,n,e)])})},t.prototype.po=function(t,e){var n=Yu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yu(t),i=Ri();return r._i({range:n,li:!0},function(t,e,n){var r=Ya(t[1]),s=new ii(r);i=i.add(s)}).next(function(){return i})},t.prototype.Qr=function(t,e){var n=Ka(e.path),r=IDBKeyRange.bound([n],[Yr(n)],!1,!0),i=0;return Yu(t)._i({index:Nu.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return Qu(t).get(e).next(function(t){return t?ou(t):null})},t}();function Qu(t){return tc.Ys(t,ku.store)}function Xu(t){return tc.Ys(t,Du.store)}function Yu(t){return tc.Ys(t,Nu.store)}var Ju="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(w.c)(e,t),e}(Ea),tc=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Oo=c,this.Mo=l,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new Vr(qr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new rc(this,i),this.Ko=n+"main",this.serializer=new Ja(u),this.Wo=new xa(this.Ko,11,new Eu(this.serializer)),this.jo=new Ku(this.Vr,this.serializer),this.os=new Wu,this.ss=function(t,e){return new gu(t,e)}(this.serializer,this.os),this.Go=new zu(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===l&&Nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof Zu)return xa.Ys(t.Lr,e);throw Ur()},t.prototype.start=function(){var t=this;return this.Ho().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Vr(qr.FAILED_PRECONDITION,Ju);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.jo.Io(e)})}).then(function(e){t.ko=new ja(e,t.Oo)}).then(function(){t.$o=!0}).catch(function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)})},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti(function(n){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return nc(e).put(new Mu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.Qo(!1)}))})}).next(function(){return t.sc(e)}).next(function(n){return t.isPrimary&&!n?t.ic(e).next(function(){return!1}):!!n&&t.rc(e).next(function(){return!0})})}).catch(function(e){if(Pa(e))return kr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return kr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.Qo(e)}),t.isPrimary=e})},t.prototype.nc=function(t){var e=this;return ec(t).get(Tu.key).next(function(t){return ya.resolve(e.oc(t))})},t.prototype.cc=function(t){return nc(t).delete(this.clientId)},t.prototype.uc=function(){return Object(w.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(w.d)(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,Mu.store);return n.ui().next(function(t){var e=i.hc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return ya.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=s.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));s.label=2;case 2:return[2]}})})},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.Ho().then(function(){return t.uc()}).then(function(){return t.Xo()})})},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?ya.resolve(!0):ec(t).get(Tu.key).next(function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new Vr(qr.FAILED_PRECONDITION,Ju);return!1}}return!(!e.networkEnabled||!e.inForeground)||nc(t).ui().next(function(t){return void 0===e.hc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&kr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.fc=function(){return Object(w.b)(this,void 0,void 0,function(){var t=this;return Object(w.d)(this,function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[Tu.store,Mu.store],function(e){var n=new Zu(e,ja.Ds);return t.ic(n).next(function(){return t.cc(n)})})];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}})})},t.prototype.hc=function(t,e){var n=this;return t.filter(function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)})},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return nc(e).ui().next(function(e){return t.hc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return cu.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return kr("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Vu,function(s){return r=new Zu(s,i.ko?i.ko.next():ja.Ds),"readwrite-primary"===e?i.nc(r).next(function(t){return!!t||i.sc(r)}).next(function(e){if(!e)throw Nr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.Qo(!1)}),new Vr(qr.FAILED_PRECONDITION,Oa);return n(r)}).next(function(t){return i.rc(r).next(function(){return t})}):i.yc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.yc=function(t){var e=this;return ec(t).get(Tu.key).next(function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Vr(qr.FAILED_PRECONDITION,Ju)})},t.prototype.rc=function(t){var e=new Tu(this.clientId,this.allowTabSynchronization,Date.now());return ec(t).put(Tu.key,e)},t.Gs=function(){return xa.Gs()},t.prototype.ic=function(t){var e=this,n=ec(t);return n.get(Tu.key).next(function(t){return e.oc(t)?(kr("IndexedDbPersistence","Releasing primary lease."),n.delete(Tu.key)):ya.resolve()})},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Nr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()})},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri(function(){return e.fc()})},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return kr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Nr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){Nr("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ec(t){return tc.Ys(t,Tu.store)}function nc(t){return tc.Ys(t,Mu.store)}var rc=function(){function t(t,e){this.db=t,this.cr=new Ga(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Vc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,function(t,n){return e(n)})},t.prototype.Do=function(t,e,n){return ic(t,n)},t.prototype.No=function(t,e,n){return ic(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return ic(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return pu(t).fi(function(r){return lu(t,r,e).next(function(t){return t&&(n=!0),ya.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],s=0;return this.vc(t,function(o,a){if(a<=e){var u=n.bc(t,o).next(function(e){if(!e)return s++,r.Jn(t,o).next(function(){return r.Hn(o),Yu(t).delete([0,Ka(o.path)])})});i.push(u)}}).next(function(){return ya.qn(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return ic(t,e)},t.prototype.vc=function(t,e){var n,r=Yu(t),i=ja.Ds;return r._i({index:Nu.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==ja.Ds&&e(new ii(Ya(n)),i),i=o,n=s):i=ja.Ds}).next(function(){i!==ja.Ds&&e(new ii(Ya(n)),i)})},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function ic(t,e){return Yu(t).put(function(t,e){return new Nu(0,Ka(t.path),e)}(e,t.Fo))}function sc(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var oc=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new _i(Qr),this.Nc=new ma(function(t){return li(t)},hi),this.xc=Zr.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new Sa(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Cc)})},t}();function ac(t,e,n,r){return new oc(t,e,n,r)}function uc(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(w.d)(this,function(o){switch(o.label){case 0:return n=Fr(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.rs.Mr(t).next(function(o){return s=o,r=n.persistence.mc(e),i=new Sa(n.Fc,r,n.persistence.Pc()),r.Mr(t)}).next(function(e){for(var n=[],r=[],o=Ri(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i._s(t,o).next(function(t){return{kc:t,$c:n,Lc:r}})})})];case 1:return s=o.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),s)]}})})}function cc(t,e){var n=Fr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=ya.resolve();return s.forEach(function(t){o=o.next(function(){return r.Jn(e,t)}).next(function(e){var s=e,o=n.Sn.get(t);Mr(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)})}),o.next(function(){return t.rs.$r(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}function lc(t){var e=Fr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.jo.To(t)})}function hc(t,e){var n=Fr(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Fc.Xr({Zr:!0});i=n.Cc;var o=[];e.re.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.jo.Co(t,e.de,s).next(function(){return n.jo.So(t,e._e,s)}));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Fo);i=i.Tt(s,c),function(t,e,n){return Mr(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.jo.yo(t,c))}}});var a=ji();if(e.ce.forEach(function(r,i){e.ue.has(r)&&o.push(n.persistence.Vr.Sc(t,r))}),o.push(function(t,e,n,r,i){var s=Ri();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var i=ji();return n.forEach(function(n,s){var o=t.get(n),a=r;s instanceof No&&s.version.isEqual(Zr.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):kr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),i})}(t,s,e.ce,r).next(function(t){a=t})),!r.isEqual(Zr.min())){var u=n.jo.To(t).next(function(e){return n.jo.mo(t,t.Fo,r)});o.push(u)}return ya.qn(o).next(function(){return s.apply(t)}).next(function(){return n.Oc.fs(t,a)})}).then(function(t){return n.Cc=i,t})}function fc(t,e){var n=Fr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)})}function dc(t,e){var n=Fr(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.jo.bo(t,e).next(function(i){return i?ya.resolve(r=i):n.jo.fo(t).next(function(i){return r=new mi(e,i,0,t.Fo),n.jo.Ao(t,r).next(function(){return r})})})}).then(function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t})}function pc(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(w.d)(this,function(a){switch(a.label){case 0:r=Fr(t),i=r.Cc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Vr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Pa(o=a.sent()))throw o;return kr("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}})})}function gc(t,e,n){var r=Fr(t),i=Zr.min(),s=Ri();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Fr(t),i=r.Nc.get(n);return void 0!==i?ya.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,Wo(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next(function(t){s=t})}).next(function(){return r.Dc.ws(t,e,n?i:Zr.min(),n?s:Ri())}).next(function(t){return{documents:t,Bc:s}})})}function mc(t,e){var n=Fr(t),r=Fr(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function yc(t){var e=Fr(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Fr(t),i=ji(),s=eu(n),o=bu(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:Pu.readTimeIndex,range:a},function(t,e){var n=Za(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime}).next(function(){return{qc:i,readTime:nu(s)}})}(e.Fc,t,e.xc)}).then(function(t){var n=t.qc;return e.xc=t.readTime,n})}function bc(t){return Object(w.b)(this,void 0,void 0,function(){var e;return Object(w.d)(this,function(n){return[2,(e=Fr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=bu(t),n=Zr.min();return e._i({index:Pu.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=nu(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.xc=t})]})})}function vc(t){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(e){if(t.code!==qr.FAILED_PRECONDITION||t.message!==Oa)throw t;return kr("LocalStore","Unexpectedly lost primary lease"),[2]})})}var _c=function(){function t(t,e,n,r,i,s){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=s,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new Ia(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,function(){return t.Xc()}))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(t){return this.zc()?[2,this.close(0)]:[2]})})},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===qr.RESOURCE_EXHAUSTED?(Nr(e.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===qr.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}})})},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then(function(e){t.Wc===n&&t.iu(e)},function(n){e(function(){var e=new Vr(qr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)})})},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu(function(){n(function(){return e.state=2,e.listener.cu()})}),this.stream.nu(function(t){n(function(){return e.ru(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(w.b)(t,void 0,void 0,function(){return Object(w.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.ru=function(t){return kr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Wc===t?n():(kr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),wc=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(w.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ur()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(Mr(void 0===e||"string"==typeof e),di.fromBase64String(e||"")):(Mr(void 0===e||e instanceof Uint8Array),di.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?qr.UNKNOWN:vi(t.code);return new Vr(e,t.message||"")}(o);n=new zi(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Cs(t,u.document.name),l=Ts(u.document.updateTime),h=new Co({mapValue:{fields:u.document.fields}}),f=new ko(c,l,h,{});n=new qi(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=Cs(t,d.document),g=d.readTime?Ts(d.readTime):Zr.min(),m=new No(p,g);n=new qi([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var y=e.documentRemove,b=Cs(t,y.document);n=new qi([],y.removedTargetIds||[],b,null)}else{if(!("filter"in e))return Ur();var v=e.filter,_=new yi(v.count||0);n=new Vi(v.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Zr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Zr.min():e.readTime?Ts(e.readTime):Zr.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=Rs(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=fi(r)?{documents:Us(t,r)}:{query:Ms(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Es(t,e.resumeToken):e.ft.F(Zr.min())>0&&(n.readTime=Os(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ur()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=Rs(this.serializer),e.removeTarget=t,this.Zc(e)},e}(_c),Oc=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o._u=!1,o}return Object(w.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(Mr(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(Mr(void 0!==e),t.map(function(t){return function(t,e){var n=Ts(t.updateTime?t.updateTime:e);n.isEqual(Zr.min())&&(n=Ts(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ho(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Ts(t.commitTime);return this.listener.wu(n,e)}return Mr(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=Rs(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ds(e.serializer,t)})};this.Zc(n)},e}(_c),Ec=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(w.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new Vr(qr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Au(t,e,n,i)}).catch(function(t){throw t.code===qr.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Ru(t,e,n,i)}).catch(function(t){throw t.code===qr.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Iu=!1},e}(function(){}),Sc=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()}))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(Nr(e),this.Vu=!1):kr("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),Tc=function(t,e,n,r,i){var s=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu(function(t){n.Ri(function(){return Object(w.b)(s,void 0,void 0,function(){return Object(w.d)(this,function(t){switch(t.label){case 0:return Nc(this)?(kr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(w.b)(this,void 0,void 0,function(){var e;return Object(w.d)(this,function(n){switch(n.label){case 0:return(e=Fr(t)).Mu.add(4),[4,Ic(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,jc(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Bu=new Sc(n,r)};function jc(t){return Object(w.b)(this,void 0,void 0,function(){var e,n;return Object(w.d)(this,function(r){switch(r.label){case 0:if(!Nc(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ic(t){return Object(w.b)(this,void 0,void 0,function(){var e,n;return Object(w.d)(this,function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function xc(t,e){var n=Fr(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),kc(n)?Rc(n):Qc(n).zc()&&Ac(n,e))}function Cc(t,e){var n=Fr(t),r=Qc(n);n.Ou.delete(e),r.zc()&&Pc(n,e),0===n.Ou.size&&(r.zc()?r.Yc():Nc(n)&&n.Bu.set("Unknown"))}function Ac(t,e){t.qu.De(e.targetId),Qc(t).hu(e)}function Pc(t,e){t.qu.De(e),Qc(t).lu(e)}function Rc(t){t.qu=new Hi({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),Qc(t).start(),t.Bu.pu()}function kc(t){return Nc(t)&&!Qc(t).Gc()&&t.Ou.size>0}function Nc(t){return 0===Fr(t).Mu.size}function Dc(t){t.qu=void 0}function Lc(t){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(e){return t.Ou.forEach(function(e,n){Ac(t,e)}),[2]})})}function Uc(t,e){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(n){return Dc(t),kc(t)?(t.Bu.Su(e),Rc(t)):t.Bu.set("Unknown"),[2]})})}function Mc(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i,s;return Object(w.d)(this,function(o){switch(o.label){case 0:if(t.Bu.set("Online"),!(e instanceof zi&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(w.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ou.has(s=i[r])?[4,t.xu.Uu(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ou.delete(s),t.qu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),kr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Fc(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof qi?t.qu.$e(e):e instanceof Vi?t.qu.je(e):t.qu.qe(e),n.isEqual(Zr.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,lc(t.Cu)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(di.lt,n.ft)),Pc(t,e);var r=new mi(n.target,e,1,n.sequenceNumber);Ac(t,r)}}),t.xu.Qu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return kr("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Fc(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Fc(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r=this;return Object(w.d)(this,function(i){switch(i.label){case 0:if(!Pa(e))throw e;return t.Mu.add(1),[4,Ic(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return lc(t.Cu)}),t.di.Mi(function(){return Object(w.b)(r,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return kr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,jc(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function qc(t,e){return e().catch(function(n){return Fc(t,n,e)})}function Vc(t){return Object(w.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(w.d)(this,function(o){switch(o.label){case 0:e=Fr(t),n=Xc(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Nc(t)&&t.Fu.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,fc(e.Cu,r)];case 3:return null===(i=o.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=Xc(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Fc(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return zc(e)&&Bc(e),[2]}})})}function zc(t){return Nc(t)&&!Xc(t).Gc()&&t.Fu.length>0}function Bc(t){Xc(t).start()}function Hc(t){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(e){return Xc(t).Tu(),[2]})})}function Wc(t){return Object(w.b)(this,void 0,void 0,function(){var e,n,r;return Object(w.d)(this,function(i){for(e=Xc(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]})})}function $c(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i;return Object(w.d)(this,function(s){switch(s.label){case 0:return r=t.Fu.shift(),i=ga.from(r,e,n),[4,qc(t,function(){return t.xu.Ku(i)})];case 1:return s.sent(),[4,Vc(t)];case 2:return s.sent(),[2]}})})}function Gc(t,e){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(n){switch(n.label){case 0:return e&&Xc(t).fu?[4,function(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r;return Object(w.d)(this,function(i){switch(i.label){case 0:return bi(r=e.code)&&r!==qr.ABORTED?(n=t.Fu.shift(),Xc(t).Jc(),[4,qc(t,function(){return t.xu.Wu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Vc(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zc(t)&&Bc(t),[2]}})})}function Kc(t,e){return Object(w.b)(this,void 0,void 0,function(){var n;return Object(w.d)(this,function(r){switch(r.label){case 0:return n=Fr(t),e?(n.Mu.delete(2),[4,jc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,Ic(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Qc(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=Fr(t);return r.mu(),new wc(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Lc.bind(null,t),nu:Uc.bind(null,t),au:Mc.bind(null,t)}),t.ku.push(function(n){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return n?(t.ju.Jc(),kc(t)?Rc(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),Dc(t),e.label=3;case 3:return[2]}})})})),t.ju}function Xc(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=Fr(t);return r.mu(),new Oc(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Hc.bind(null,t),nu:Gc.bind(null,t),Eu:Wc.bind(null,t),wu:$c.bind(null,t)}),t.ku.push(function(n){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,Vc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(kr("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}})})})),t.Gu}var Yc=function(){this.zu=void 0,this.listeners=[]},Jc=function(){this.queries=new ma(function(t){return Ko(t)},Go),this.onlineState="Unknown",this.Hu=new Set};function Zc(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(w.d)(this,function(c){switch(c.label){case 0:if(n=Fr(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Yc),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Ju(r)];case 2:return o.zu=c.sent(),[3,4];case 3:return a=c.sent(),u=Va(a,"Initialization of query '"+Qo(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Yu(n.onlineState),s.zu&&e.Xu(s.zu)&&rl(n),[2]}})})}function tl(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(w.d)(this,function(a){return n=Fr(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]})})}function el(t,e){for(var n=Fr(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Xu(o)&&(r=!0);a.zu=o}}r&&rl(n)}function nl(t,e,n){var r=Fr(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function rl(t){t.Hu.forEach(function(t){t.next()})}var il=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ui(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ea?this.sa(t)&&(this.ta.next(t),s=!0):this.ia(t,this.onlineState)&&(this.ra(t),s=!0),this.na=t,s},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=Ui.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),sl=function(){function t(){this.ca=new Ei(ol.ua),this.aa=new Ei(ol.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new ol(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach(function(t){return n.Do(t,e)})},t.prototype.No=function(t,e){this._a(new ol(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach(function(t){return n.No(t,e)})},t.prototype.da=function(t){var e=this,n=new ii(new ei([])),r=new ol(n,t),i=new ol(n,t+1),s=[];return this.aa.Kt([r,i],function(t){e._a(t),s.push(t.key)}),s},t.prototype.wa=function(){var t=this;this.ca.forEach(function(e){return t._a(e)})},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new ii(new ei([])),n=new ol(e,t),r=new ol(e,t+1),i=Ri();return this.aa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Qr=function(t){var e=new ol(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),ol=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return ii.$(t.key,e.key)||Qr(t.Ta,e.Ta)},t.ha=function(t,e){return Qr(t.Ta,e.Ta)||ii.$(t.key,e.key)},t}();function al(t,e){return"firestore_clients_"+t+"_"+e}function ul(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function cl(t,e){return"firestore_targets_"+t+"_"+e}var ll=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Vr(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Nr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Vr(r.error.code,r.error.message)),i?new t(e,r.state,s):(Nr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Ni(),o=0;i&&o<r.activeTargetIds.length;++o)i=ai(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Nr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),dl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Nr("SharedClientState","Failed to parse online state: "+e),null)},t}(),pl=function(){function t(){this.activeTargetIds=Ni()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),gl=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new _i(Qr),this.lr=!1,this.va=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=al(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new pl),this.Da=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(w.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(w.d)(this,function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(al(this.persistenceKey,r)))&&(s=fl.Ia(r,i))&&(this.pa=this.pa.Tt(s.clientId,s));for(this.Oa(),(o=this.storage.getItem(this.xa))&&(a=this.Ma(o))&&this.ka(a),u=0,c=this.va;u<c.length;u++)this.Va(c[u]);return this.va=[],this.window.addEventListener("unload",function(){return l.fc()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(cl(this.persistenceKey,t));if(n){var r=hl.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(cl(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach(function(t){r.Ka(t)}),this.currentUser=t,n.forEach(function(t){r.qa(t)})},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return kr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){kr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){kr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(kr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void Nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(w.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(w.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(s=this.Ma(n.newValue)))return[2,this.ka(s)]}else if(n.key===this.Sa)(o=function(t){var e=ja.Ds;if(null!=t)try{var n=JSON.parse(t);Mr("number"==typeof n),e=n}catch(t){Nr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ja.Ds&&this.ps(o);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new ll(this.currentUser,t,e,n),i=ul(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=ul(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=cl(this.persistenceKey,t),i=new hl(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return fl.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return ll.Ia(new Ar(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return hl.Ia(r,e)},t.prototype.Ma=function(t){return dl.Ia(t)},t.prototype.uh=function(t){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(kr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),s=this.La(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.ga.dh(o,a).then(function(){n.pa=r})},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=Ni();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),ml=function(){function t(){this.wh=new pl,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new pl,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),yl=function(t){this.key=t},bl=function(t){this.key=t},vl=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Ri(),this.ee=Ri(),this.Ah=Yo(t),this.Rh=new Di(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new Li,i=e?e.Rh:this.Rh,s=e?e.ee:this.ee,o=i,a=!1,u=Fo(this.query)&&i.size===this.query.limit?i.last():null,c=qo(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof ko?e:null;h&&(h=Xo(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Fo(this.query)||qo(this.query))for(;o.size>this.query.limit;){var l=Fo(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Rh:o,yh:r,ph:a,ee:s}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var s=t.yh.Zt();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ur()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)}),this.bh(n);var o=e?this.Sh():[],a=0===this.mh.size&&this.le?1:0,u=a!==this.Ih;return this.Ih=a,0!==s.length||u?{snapshot:new Ui(this.query,t.Rh,i,s,t.ee,0===a,u,!1),Dh:o}:{Dh:o}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new Li,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Th=e.Th.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Th=e.Th.delete(t)}),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Ri(),this.Rh.forEach(function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))});var n=[];return e.forEach(function(e){t.mh.has(e)||n.push(new bl(e))}),this.mh.forEach(function(t){e.has(t)||n.push(new yl(t))}),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Ri();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return Ui.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),_l=function(t,e,n){this.query=t,this.targetId=e,this.view=n},wl=function(t){this.key=t,this.Fh=!1},Ol=function(){function t(t,e,n,r,i,s){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=s,this.Lh={},this.Bh=new ma(function(t){return Ko(t)},Go),this.qh=new Map,this.Uh=[],this.Qh=new _i(ii.$),this.Kh=new Map,this.Wh=new sl,this.jh={},this.Gh=new Map,this.zh=Gu._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function El(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(w.d)(this,function(a){switch(a.label){case 0:return n=Jl(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,dc(n.Cu,Wo(e))];case 2:return s=a.sent(),o=n.kh.Wa(s.targetId),[4,Sl(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Jh&&xc(n.Oh,s),a.label=4;case 4:return[2,r]}})})}function Sl(t,e,n,r){return Object(w.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(w.d)(this,function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(w.b)(this,void 0,void 0,function(){var i,s,o;return Object(w.d)(this,function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,gc(t.Cu,e.query,!1).then(function(t){return e.view.gh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Jh,s),[2,(Ul(t,e.targetId,o.Dh),o.snapshot)]}})})}(t,e,n,r)},[4,gc(t.Cu,e,!0)];case 1:return i=l.sent(),s=new vl(e,i.Bc),o=s.gh(i.documents),a=Fi.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Jh,a),Ul(t,n,u.Dh),c=new _l(e,n,s),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),u.snapshot)]}})})}function Tl(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i;return Object(w.d)(this,function(s){switch(s.label){case 0:return n=Fr(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter(function(t){return!Go(t,e)})),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,pc(n.Cu,r.targetId,!1).then(function(){n.kh.Ha(r.targetId),Cc(n.Oh,r.targetId),Dl(n,r.targetId)}).catch(vc)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Dl(n,r.targetId),[4,pc(n.Cu,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function jl(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(w.d)(this,function(a){switch(a.label){case 0:r=Zl(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Fr(t),i=Jr.now(),s=e.reduce(function(t,e){return t.add(e.key)},Ri());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Oc._s(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=bo(c,n.get(c.key));null!=l&&o.push(new Oo(c.key,l,Po(l.proto.mapValue),fo.exists(!0)))}return r.rs.Sr(t,i,o,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Cu,e)];case 2:return i=a.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new _i(Qr)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,ql(r,i.Qn)];case 3:return a.sent(),[4,Vc(r.Oh)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Va(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Il(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r;return Object(w.d)(this,function(i){switch(i.label){case 0:n=Fr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,hc(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Kh.get(e);r&&(Mr(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?Mr(r.Fh):t.de.size>0&&(Mr(r.Fh),r.Fh=!1))}),[4,ql(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,vc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function xl(t,e,n){var r=Fr(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach(function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Fr(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Yu(e)&&(r=!0)}),r&&rl(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function Cl(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(w.d)(this,function(c){switch(c.label){case 0:return(r=Fr(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(o=(o=new _i(ii.$)).Tt(s,new No(s,Zr.min())),a=Ri().add(s),u=new Mi(Zr.min(),new Map,new Ei(Qr),o,a),[4,Il(r,u)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),Fl(r),[3,4];case 2:return[4,pc(r.Cu,e,!1).then(function(){return Dl(r,e,n)}).catch(vc)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Al(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i;return Object(w.d)(this,function(s){switch(s.label){case 0:n=Fr(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,cc(n.Cu,e)];case 2:return i=s.sent(),Nl(n,r,null),kl(n,r),n.kh.Qa(r,"acknowledged"),[4,ql(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,vc(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Pl(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i;return Object(w.d)(this,function(s){switch(s.label){case 0:r=Fr(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Fr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.Cr(t,e).next(function(e){return Mr(null!==e),r=e.keys(),n.rs.$r(t,e)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}(r.Cu,e)];case 2:return i=s.sent(),Nl(r,e,n),kl(r,e),r.kh.Qa(e,"rejected",n),[4,ql(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,vc(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Rl(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(w.d)(this,function(a){switch(a.label){case 0:Nc((n=Fr(t)).Oh)||kr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Fr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Or(t)})}(n.Cu)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=a.sent(),o=Va(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function kl(t,e){(t.Gh.get(e)||[]).forEach(function(t){t.resolve()}),t.Gh.delete(e)}function Nl(t,e,n){var r=Fr(t),i=r.jh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function Dl(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var s=i[r];t.Bh.delete(s),n&&t.Lh.Xh(s,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach(function(e){t.Wh.Qr(e)||Ll(t,e)})}function Ll(t,e){var n=t.Qh.get(e);null!==n&&(Cc(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),Fl(t))}function Ul(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof yl?(t.Wh.Do(s.key,e),Ml(t,s)):s instanceof bl?(kr("SyncEngine","Document no longer in limbo: "+s.key),t.Wh.No(s.key,e),t.Wh.Qr(s.key)||Ll(t,s.key)):Ur()}}function Ml(t,e){var n=e.key;t.Qh.get(n)||(kr("SyncEngine","New document in limbo: "+n),t.Uh.push(n),Fl(t))}function Fl(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new wl(e)),t.Qh=t.Qh.Tt(e,n),xc(t.Oh,new mi(Wo(Mo(e.path)),n,2,ja.Ds))}}function ql(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(w.d)(this,function(a){switch(a.label){case 0:return r=Fr(t),i=[],s=[],o=[],r.Bh.W()?[3,3]:(r.Bh.forEach(function(t,a){o.push(r.Yh(a,e,n).then(function(t){if(t){r.Jh&&r.kh.Ja(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ta.Vs(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.Lh.au(i),[4,function(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(w.d)(this,function(l){switch(l.label){case 0:n=Fr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ya.forEach(e,function(e){return ya.forEach(e.gs,function(r){return n.persistence.Vr.Do(t,e.targetId,r)}).next(function(){return ya.forEach(e.ys,function(r){return n.persistence.Vr.No(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Pa(r=l.sent()))throw r;return kr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Cc.get(a),c=u.Et(u.ft),n.Cc=n.Cc.Tt(a,c));return[2]}})})}(r.Cu,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Vl(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r;return Object(w.d)(this,function(i){switch(i.label){case 0:return(n=Fr(t)).currentUser.isEqual(e)?[3,3]:(kr("SyncEngine","User change. New user:",e.h()),[4,uc(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach(function(t){t.forEach(function(t){t.reject(new Vr(qr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,ql(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function zl(t,e){var n=Fr(t),r=n.Kh.get(e);if(r&&r.Fh)return Ri().add(r.key);var i=Ri(),s=n.qh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Bh.get(a[o]);i=i.Gt(u.view.Ph)}return i}function Bl(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i;return Object(w.d)(this,function(s){switch(s.label){case 0:return[4,gc((n=Fr(t)).Cu,e.query,!0)];case 1:return r=s.sent(),i=e.view.Nh(r),[2,(n.Jh&&Ul(n,e.targetId,i.Dh),i)]}})})}function Hl(t){return Object(w.b)(this,void 0,void 0,function(){var e;return Object(w.d)(this,function(n){return[2,yc((e=Fr(t)).Cu).then(function(t){return ql(e,t)})]})})}function Wl(t,e,n,r){return Object(w.b)(this,void 0,void 0,function(){var i,s;return Object(w.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Fr(t),r=Fr(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Nr(t,e).next(function(e){return e?n.Oc._s(t,e):ya.resolve(null)})})}((i=Fr(t)).Cu,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Vc(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Nl(i,e,r||null),kl(i,e),function(t,e){Fr(Fr(t).rs).Br(e)}(i.Cu,e)):Ur(),o.label=4;case 4:return[4,ql(i,s)];case 5:return o.sent(),[3,7];case 6:kr("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function $l(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(w.d)(this,function(c){switch(c.label){case 0:return Jl(n=Fr(t)),Zl(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,Gl(n,r.H())]);case 1:return i=c.sent(),n.Hh=!0,[4,Kc(n.Oh,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)xc(n.Oh,o[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],u=Promise.resolve(),n.qh.forEach(function(t,e){n.kh.za(e)?a.push(e):u=u.then(function(){return Dl(n,e),pc(n.Cu,e,!0)}),Cc(n.Oh,e)}),[4,u]);case 4:return c.sent(),[4,Gl(n,a)];case 5:return c.sent(),function(t){var e=Fr(t);e.Kh.forEach(function(t,n){Cc(e.Oh,n)}),e.Wh.wa(),e.Kh=new Map,e.Qh=new _i(ii.$)}(n),n.Hh=!1,[4,Kc(n.Oh,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Gl(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(w.d)(this,function(g){switch(g.label){case 0:n=Fr(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.qh.get(a=o[s]))&&0!==c.length?[4,dc(n.Cu,Wo(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Bh.get(h[l]),[4,Bl(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,mc(n.Cu,a)];case 8:return p=g.sent(),[4,dc(n.Cu,p)];case 9:return u=g.sent(),[4,Sl(n,Kl(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}})})}function Kl(t){return Uo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ql(t){var e=Fr(t);return Fr(Fr(e.Cu).persistence).Ic()}function Xl(t,e,n,r){return Object(w.b)(this,void 0,void 0,function(){var i,s,o;return Object(w.d)(this,function(a){switch(a.label){case 0:return(i=Fr(t)).Hh?(kr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,yc(i.Cu)];case 3:return s=a.sent(),o=Mi.ae(e,"current"===n),[4,ql(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,pc(i.Cu,e,!0)];case 6:return a.sent(),Dl(i,e,r),[3,8];case 7:Ur(),a.label=8;case 8:return[2]}})})}function Yl(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(w.d)(this,function(f){switch(f.label){case 0:if(!(r=Jl(t)).Hh)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.qh.has(o=s[i])?(kr("SyncEngine","Adding an already active target "+o),[3,5]):[4,mc(r.Cu,o)]:[3,6];case 2:return a=f.sent(),[4,dc(r.Cu,a)];case 3:return u=f.sent(),[4,Sl(r,Kl(a),u.targetId,!1)];case 4:f.sent(),xc(r.Oh,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(w.d)(this,function(e){switch(e.label){case 0:return r.qh.has(t)?[4,pc(r.Cu,t,!1).then(function(){Cc(r.Oh,t),Dl(r,t)}).catch(vc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Jl(t){var e=Fr(t);return e.Oh.xu.Qu=Il.bind(null,e),e.Oh.xu.Xe=zl.bind(null,e),e.Oh.xu.Uu=Cl.bind(null,e),e.Lh.au=el.bind(null,e.Mh),e.Lh.Xh=nl.bind(null,e.Mh),e}function Zl(t){var e=Fr(t);return e.Oh.xu.Ku=Al.bind(null,e),e.Oh.xu.Wu=Pl.bind(null,e),e}var th=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Zr.min())?this.tl(t,e):this.Zh._s(t,r).next(function(s){var o=i.el(e,s);return(Fo(e)||qo(e))&&i.ph(e.limitType,o,r,n)?i.tl(t,e):(Rr()<=E.a.DEBUG&&kr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qo(e)),i.Zh.ws(t,e,n).next(function(t){return o.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.el=function(t,e){var n=new Ei(Yo(t));return e.forEach(function(e,r){r instanceof ko&&Xo(t,r)&&(n=n.add(r))}),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return Rr()<=E.a.DEBUG&&kr("IndexFreeQueryEngine","Using full collection scan to execute query:",Qo(e)),this.Zh.ws(t,e,Zr.min())},t}(),eh=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new Ei(ol.ua)}return t.prototype.br=function(t){return ya.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var s=new pa(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new ol(u.key,i)),this.os.Dr(t,u.key.path.q())}return ya.resolve(s)},t.prototype.Cr=function(t,e){return ya.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return ya.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return ya.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return ya.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new ol(e,0),i=new ol(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ta);s.push(e)}),ya.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new Ei(Qr);return e.forEach(function(t){var e=new ol(t,0),i=new ol(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ta)})}),ya.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;ii.ot(i)||(i=i.child(""));var s=new ol(new ii(i),0),o=new Ei(Qr);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ta)),!0)},s),ya.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.$r=function(t,e){var n=this;Mr(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return ya.forEach(e.mutations,function(i){var s=new ol(i.key,e.batchId);return r=r.delete(s),n.Vr.qr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new ol(e,0),r=this.sl.jt(n);return ya.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return ya.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),nh=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new _i(ii.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return ya.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ii();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),ya.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=Ci(),i=new ii(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof ko&&Xo(e,u)&&(r=r.Tt(u.key,u))}return ya.resolve(r)},t.prototype.al=function(t,e){return ya.forEach(this.docs,function(t){return e(t)})},t.prototype.Xr=function(t){return new rh(this)},t.prototype.eo=function(t){return ya.resolve(this.size)},t}(),rh=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(w.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)}),ya.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(ba),ih=function(){function t(t){this.persistence=t,this.hl=new ma(function(t){return li(t)},hi),this.lastRemoteSnapshotVersion=Zr.min(),this.highestTargetId=0,this.ll=0,this._l=new sl,this.targetCount=0,this.fl=Gu.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),ya.resolve()},t.prototype.To=function(t){return ya.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return ya.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),ya.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),ya.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Gu(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,ya.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),ya.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,ya.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.po(t,a.targetId)),i++)}),ya.qn(s).next(function(){return i})},t.prototype.vo=function(t){return ya.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return ya.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),ya.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach(function(e){i.push(r.qr(t,e))}),ya.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),ya.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return ya.resolve(n)},t.prototype.Qr=function(t,e){return ya.resolve(this._l.Qr(e))},t}(),sh=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return ya.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Ts(n.createTime)}),ya.resolve()},t.prototype.co=function(t,e){return ya.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:uu(n.bundledQuery),readTime:Ts(n.readTime)}),ya.resolve()},t}(),oh=function(){function t(t,e){var n=this;this.El={},this.ko=new ja(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new ih(this),this.os=new wu,this.ss=function(t,e){return new nh(t,function(t){return n.Vr.Tl(t)})}(this.os),this.serializer=new Ja(e),this.Go=new sh(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new eh(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;kr("MemoryPersistence","Starting transaction:",t);var i=new ah(this.ko.next());return this.Vr.Il(),n(i).next(function(t){return r.Vr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return ya.Un(Object.values(this.El).map(function(n){return function(){return n.Qr(t,e)}}))},t}(),ah=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(w.c)(e,t),e}(Ea),uh=function(){function t(t){this.persistence=t,this.Rl=new sl,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Ur()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),ya.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),ya.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),ya.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Ac();return r.xo(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Vo(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return ya.forEach(this.yl,function(r){var i=ii.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return ya.Un([function(){return ya.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),ch=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),lh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(w.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,s){var o=new jr;o.listenOnce(Er.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Or.NO_ERROR:var e=o.getResponseJson();kr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Or.TIMEOUT:kr("Connection",'RPC "'+t+'" timed out'),s(new Vr(qr.DEADLINE_EXCEEDED,"Request time out"));break;case Or.HTTP_ERROR:var n=o.getStatus();if(kr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(qr).indexOf(e)>=0?e:qr.UNKNOWN}(r.status);s(new Vr(a,r.message))}else s(new Vr(qr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Vr(qr.UNAVAILABLE,"Connection failed."));break;default:Ur()}}finally{kr("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new yr,i=ve(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(S.m)()||Object(S.o)()||Object(S.k)()||Object(S.l)()||Object(S.p)()||Object(S.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");kr("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new ch({pl:function(t){c?kr("Connection","Not sending because WebChannel is closed:",t):(u||(kr("Connection","Opening WebChannel transport."),a.open(),u=!0),kr("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Tr.EventType.OPEN,function(){c||kr("Connection","WebChannel transport opened.")}),h(a,Tr.EventType.CLOSE,function(){c||(c=!0,kr("Connection","WebChannel transport closed"),l.Nl())}),h(a,Tr.EventType.ERROR,function(t){c||(c=!0,Dr("Connection","WebChannel transport errored:",t),l.Nl(new Vr(qr.UNAVAILABLE,"The operation could not be completed")))}),h(a,Tr.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Mr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){kr("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=pi[t];if(void 0!==e)return vi(e)}(i),o=r.message;void 0===s&&(s=qr.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Vr(s,o)),a.close()}else kr("Connection","WebChannel received:",n),l.xl(n)}}),h(i,Sr.STAT_EVENT,function(t){10===t.stat?kr("Connection","Detected buffering proxy"):11===t.stat&&kr("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);kr("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then(function(t){return kr("RestConnection","Received: ",t),t},function(e){throw Dr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+lh[t]},t}()),fh=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){kr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){kr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),dh=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),ph=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return this.serializer=_a(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return ac(this.persistence,new th,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new oh(uh.gl,this.serializer)},t.prototype.jl=function(t){return new ml},t.prototype.terminate=function(){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}})})},t}(),gh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(w.c)(e,t),e.prototype.initialize=function(e){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,bc(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Zl(this.Xl.ga)];case 4:return n.sent(),[4,Vc(this.Xl.Oh)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return ac(this.persistence,new th,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new $a(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=sc(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Wa.er(this.cacheSizeBytes):Wa.ir;return new tc(this.synchronizeTabs,e,t.clientId,n,t.di,Ua(),Ma(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new ml},e}(ph),mh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(w.c)(e,t),e.prototype.initialize=function(e){return Object(w.b)(this,void 0,void 0,function(){var n,r=this;return Object(w.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof gl?(this.kh.ga={_h:Wl.bind(null,n),fh:Xl.bind(null,n),dh:Yl.bind(null,n),Ic:Ql.bind(null,n),lh:Hl.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo(function(t){return Object(w.b)(r,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return[4,$l(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Ua();if(!gl.Gs(e))throw new Vr(qr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sc(t.Fl.t,t.Fl.persistenceKey);return new gl(e,t.di,n,t.clientId,t.Yl)},e}(gh),yh=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(w.b)(this,void 0,void 0,function(){var n=this;return Object(w.d)(this,function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return xl(n.ga,t,1)},this.Oh.xu.s_=Vl.bind(null,this.ga),[4,Kc(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Jc},t.prototype.Zl=function(t){var e=_a(t.Fl.t),n=new hh(t.Fl);return function(t,e,n){return new Ec(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return xl(o.ga,t,0)},s=fh.Gs()?new fh:new dh,new Tc(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Ol(t,e,n,r,i,s);return o&&(a.Hh=!0),a}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(w.b)(this,void 0,void 0,function(){var e;return Object(w.d)(this,function(n){switch(n.label){case 0:return e=Fr(t),kr("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,Ic(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}})})}(this.Oh)},t}(),bh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),vh=function(t){this.o_=t};function _h(t,e,n){if(!n)throw new Vr(qr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function wh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Vr(qr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Oh(t,e,n,r){if(!0===e&&!0===r)throw new Vr(qr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Eh(t){if(!ii.ot(t))throw new Vr(qr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Sh(t){if(ii.ot(t))throw new Vr(qr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Th(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ur()}function jh(t,e){if(t instanceof vh&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Vr(qr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Th(t);throw new Vr(qr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ih(t,e){if(e<=0)throw new Vr(qr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var xh=function(t){this.c_=t},Ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(xh);function Ah(t,e,n){return new Nf({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var Ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.u_=function(t){return new lo(t.path,new eo)},e.prototype.isEqual=function(t){return t instanceof e},e}(xh),Rh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(w.c)(e,t),e.prototype.u_=function(t){var e=Ah(this,t,!0),n=this.f_.map(function(t){return qf(t,e)}),r=new no(n);return new lo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(xh),kh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(w.c)(e,t),e.prototype.u_=function(t){var e=Ah(this,t,!0),n=this.f_.map(function(t){return qf(t,e)}),r=new io(n);return new lo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(xh),Nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(w.c)(e,t),e.prototype.u_=function(t){var e=new oo(t.serializer,ws(t.serializer,this.d_));return new lo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(xh),Dh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Vr(qr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Vr(qr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return Qr(this.w_,t.w_)||Qr(this.E_,t.E_)},t}(),Lh=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(di.fromBase64String(e))}catch(e){throw new Vr(qr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(di.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),Uh=new Map,Mh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Vr(qr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vr(qr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Oh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Fh=function(){function t(t,e){this.I_="(lite)",this.m_=new Mh({}),this.A_=!1,t instanceof Cr?(this.R_=t,this.P_=new Br):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Vr(qr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cr(t.options.projectId)}(t),this.P_=new Hr(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new Vr(qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new Vr(qr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new Mh(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new Br;switch(t.type){case"gapi":var e=t.client;return Mr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new $r(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Vr(qr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=Uh.get(t);e&&(kr("ComponentProvider","Removing Datastore"),Uh.delete(t),e.terminate())}(this),Promise.resolve()},t}();function qh(){if("undefined"==typeof Uint8Array)throw new Vr(qr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Vh(){if("undefined"==typeof atob)throw new Vr(qr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.fromBase64String=function(t){return Vh(),new e(Lh.fromBase64String(t))},e.fromUint8Array=function(t){return qh(),new e(Lh.fromUint8Array(t))},e.prototype.toBase64=function(){return Vh(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return qh(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(vh),Bh=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return us(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(cs(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw Ur()}},t.prototype.L_=function(t,e){var n=this,r={};return Ki(t.fields||{},function(t,i){r[t]=n.C_(i,e)}),r},t.prototype.M_=function(t){return new Dh(us(t.latitude),us(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.C_(t,e)})},t.prototype.x_=function(t,e){switch(e){case"previous":var n=Yi(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(Ji(t));default:return null}},t.prototype.N_=function(t){var e=as(t);return new Jr(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=ei.Y(t);Mr(Xs(n));var r=new Cr(n.get(1),n.get(3)),i=new ii(n.B(5));return r.isEqual(e)||Nr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Hh=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(w.c)(e,t),e.prototype.F_=function(t){return new zh(new Lh(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return bd.q_(e,this.firestore,null)},e}(Bh),Wh=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new cf(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new $h(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(Gh("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),$h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Wh);function Gh(t,e){return"string"==typeof e?$f(t,e):e instanceof vh?e.o_.G_:e.G_}var Kh=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Vr(qr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new ri(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),Qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new qa,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(w.c)(e,t),e.prototype.D_=function(){return this.H_||gd(this),this.H_.terminate()},e}(Fh);function Xh(t,e,n){var r=this,i=new va;return t.di.enqueue(function(){return Object(w.b)(r,void 0,void 0,function(){var r;return Object(w.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Jf(t,n)];case 1:return s.sent(),[4,Zf(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===qr.FAILED_PRECONDITION||t.code===qr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Yh(t){if(t.y_||t.V_)throw new Vr(qr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Jh=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).U_=e,a.J_=e,a.metadata=s,a}return Object(w.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new Zh(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(Gh("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(Wh),Zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Jh),tf=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new Od(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach(function(r){t.call(e,new Zh(n.U_,n.Q_,r.key,r,new Od(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new Vr(qr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map(function(e){return{type:"added",doc:new Zh(t.U_,t.Q_,e.doc.key,e.doc,new Od(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}})}var r=t.Y_.te;return t.Y_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Zh(t.U_,t.Q_,e.doc.key,e.doc,new Od(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ef(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.Z_=e),this.X_},t}();function ef(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ur()}}function nf(t,e){return t instanceof Jh&&e instanceof Jh?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof tf&&e instanceof tf&&t.U_===e.U_&&xf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var rf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(w.c)(e,t),e.prototype.F_=function(t){return new Lh(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new cf(this.firestore,null,e)},e}(Bh);function sf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=jh(t.firestore,Qh),o=Cf(s);return e instanceof vh&&(e=e.o_),af(s,("string"==typeof e||e instanceof Kh?Mf(o,"updateDoc",t.K_,e,n,r):Uf(o,"updateDoc",t.K_,e)).ef(t.K_,fo.exists(!0)))}function of(t){for(var e,n,r,i=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var a={includeMetadataChanges:!1},u=0;"object"!=typeof s[u]||wa(s[u])||(a=s[u],u++);var c,l,h,f={includeMetadataChanges:a.includeMetadataChanges};if(wa(s[u])){var d=s[u];s[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),s[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),s[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof cf)l=jh(t.firestore,Qh),h=Mo(t.K_.path),c={next:function(e){s[u]&&s[u](uf(l,t,e))},error:s[u+1],complete:s[u+2]};else{l=jh(t.firestore,Qh),h=t.tf;var p=new rf(l);c={next:function(e){s[u]&&s[u](new tf(l,p,t,e))},error:s[u+1],complete:s[u+2]},Of(t.tf)}var g=pd(l),m=new bh(c),y=new il(h,m,f);return l.z_.Ri(function(){return Object(w.b)(i,void 0,void 0,function(){var t;return Object(w.d)(this,function(e){switch(e.label){case 0:return t=Zc,[4,od(g)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}})})}),function(){m.r_(),l.z_.Ri(function(){return Object(w.b)(i,void 0,void 0,function(){var t;return Object(w.d)(this,function(e){switch(e.label){case 0:return t=tl,[4,od(g)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}})})})}}function af(t,e){return function(t,e){var n=this,r=new va;return t.di.Ri(function(){return Object(w.b)(n,void 0,void 0,function(){var n;return Object(w.d)(this,function(i){switch(i.label){case 0:return n=jl,[4,sd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(pd(t),e)}function uf(t,e,n){var r=n.docs.get(e.K_),i=new rf(t);return new Jh(t,i,e.K_,r,new Od(n.hasPendingWrites,n.fromCache),e.j_)}var cf=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ef(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),lf=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),hf=function(){};function ff(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.sf(t)}return t}var df=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(w.c)(e,t),e.prototype.sf=function(t){var e=Cf(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new Vr(qr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){_f(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(vf(r,t,l[c]));a={arrayValue:{values:u}}}else a=vf(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||_f(o,s),a=Ff(n,"where",o,"in"===s||"not-in"===s);var h=Jo.create(i,s,a);return function(t,e){if(e.An()){var n=zo(t);if(null!==n&&!n.isEqual(e.field))throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Vo(t);null!==r&&wf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Vr(qr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new lf(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new Lo(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(hf),pf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(w.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ha(e,n);return function(t,e){if(null===Vo(t)){var n=zo(t);null!==n&&wf(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new lf(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new Lo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(hf),gf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(w.c)(e,t),e.prototype.sf=function(t){return new lf(t.firestore,t.j_,$o(t.tf,this.hf,this.lf))},e}(hf),mf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(w.c)(e,t),e.prototype.sf=function(t){var e=bf(t,this.type,this._f,this.ff);return new lf(t.firestore,t.j_,function(t,e){return new Lo(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(hf),yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(w.c)(e,t),e.prototype.sf=function(t){var e=bf(t,this.type,this._f,this.ff);return new lf(t.firestore,t.j_,function(t,e){return new Lo(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(hf);function bf(t,e,n,r){if(n[0]instanceof vh&&(n[0]=n[0].o_),n[0]instanceof Wh)return function(t,e,n,r,i){if(!r)throw new Vr(qr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Ho(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(ls(e,r.key));else{var c=r.field(u.field);if(Xi(c))throw new Vr(qr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new aa(s,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=Cf(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new Vr(qr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Bo(t)&&-1!==c.indexOf("/"))throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ei.Y(c));if(!ii.ot(l))throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ii(l);a.push(ls(e,h))}else{var f=Ff(n,r,c);a.push(f)}}return new aa(a,s)}(t.tf,t.firestore.R_,i,e,n,r)}function vf(t,e,n){if(n instanceof vh&&(n=n.o_),"string"==typeof n){if(""===n)throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bo(e)&&-1!==n.indexOf("/"))throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ei.Y(n));if(!ii.ot(r))throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ls(t,new ii(r))}if(n instanceof cf)return ls(t,n.K_);throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Th(n)+".")}function _f(t,e){if(!Array.isArray(t)||0===t.length)throw new Vr(qr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Vr(qr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function wf(t,e,n){if(!n.isEqual(e))throw new Vr(qr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Of(t){if(qo(t)&&0===t.Tn.length)throw new Vr(qr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Mo(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(w.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new cf(this.firestore,null,new ii(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(lf);function Sf(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(_h("collection","path",e),t instanceof Fh){var i=ei.Y.apply(ei,Object(w.g)([e],n));return Sh(i),new Ef(t,null,i)}if(!(t instanceof cf||t instanceof Ef))throw new Vr(qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=ei.Y.apply(ei,Object(w.g)([t.path],n)).child(ei.Y(e));return Sh(s),new Ef(t.firestore,null,s)}function Tf(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=Kr.D()),_h("doc","path",e),t instanceof Fh){var i=ei.Y.apply(ei,Object(w.g)([e],n));return Eh(i),new cf(t,null,new ii(i))}if(!(t instanceof cf||t instanceof Ef))throw new Vr(qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.nf.child(ei.Y.apply(ei,Object(w.g)([e],n)));return Eh(s),new cf(t.firestore,t instanceof Ef?t.j_:null,new ii(s))}var jf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(w.c)(e,t),e.prototype.F_=function(t){return new Lh(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new cf(this.firestore,null,e)},e}(Bh);function If(t,e){return(t instanceof cf||t instanceof Ef)&&(e instanceof cf||e instanceof Ef)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function xf(t,e){return t instanceof lf&&e instanceof lf&&t.firestore===e.firestore&&Go(t.tf,e.tf)&&t.j_===e.j_}function Cf(t){var e=t.S_(),n=_a(t.R_);return new Df(t.R_,!!e.ignoreUndefinedProperties,n)}var Af=/^__.*__$/,Pf=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new Oo(t,this.data,this.en,e):new wo(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new So(t,this.fieldTransforms)),n},t}(),Rf=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new Oo(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new So(t,this.fieldTransforms)),n},t}();function kf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ur()}}var Nf=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return Gf(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(kf(this.a_)&&Af.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Df=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||_a(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new Nf({a_:t,methodName:e,l_:n,path:ri.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Lf(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Rf(s.merge||s.mergeFields?2:0,e,n,i);Bf("Data must be an object, but it was:",o,r);var a,u,c=Vf(r,o);if(s.merge)a=new co(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Hf(e,f[h],n);if(!o.contains(d))throw new Vr(qr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Kf(l,d)||l.push(d)}a=new co(l),u=o.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,u=o.fieldTransforms;return new Pf(new Co(c),a,u)}function Uf(t,e,n,r){var i=t.Rf(1,e,n);Bf("Data must be an object, but it was:",i,r);var s=[],o=new Ao;Ki(r,function(t,r){var a=$f(e,t,n);r instanceof vh&&(r=r.o_);var u=i.If(a);if(r instanceof Ch)s.push(a);else{var c=qf(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new co(s);return new Rf(o.hn(),a,i.fieldTransforms)}function Mf(t,e,n,r,i,s){var o=t.Rf(1,e,n),a=[Hf(e,r,n)],u=[i];if(s.length%2!=0)throw new Vr(qr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Hf(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Ao,f=a.length-1;f>=0;--f)if(!Kf(l,a[f])){var d=a[f],p=u[f];p instanceof vh&&(p=p.o_);var g=o.If(d);if(p instanceof Ch)l.push(d);else{var m=qf(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new co(l);return new Rf(h.hn(),y,o.fieldTransforms)}function Ff(t,e,n,r){return void 0===r&&(r=!1),qf(n,t.Rf(r?4:3,e))}function qf(t,e){if(t instanceof vh&&(t=t.o_),zf(t))return Bf("Unsupported field value:",e,t),Vf(t,e);if(t instanceof xh)return function(t,e){if(!kf(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=qf(s[i],e.mf(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof vh&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ws(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Jr.fromDate(t);return{timestampValue:Os(e.serializer,n)}}if(t instanceof Jr){var r=new Jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Os(e.serializer,r)}}if(t instanceof Dh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lh)return{bytesValue:Es(e.serializer,t.T_)};if(t instanceof cf){var i=e.t,s=t.firestore.R_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:js(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+Th(t))}(t,e)}function Vf(t,e){var n={};return Qi(t)?e.path&&e.path.length>0&&e.en.push(e.path):Ki(t,function(t,r){var i=qf(r,e.Ef(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function zf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Jr||t instanceof Dh||t instanceof Lh||t instanceof cf||t instanceof xh)}function Bf(t,e,n){if(!zf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Th(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function Hf(t,e,n){if(e instanceof vh&&(e=e.o_),e instanceof Kh)return e.G_;if("string"==typeof e)return $f(t,e);throw Gf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Wf=new RegExp("[~\\*/\\[\\]]");function $f(t,e,n){if(e.search(Wf)>=0)throw Gf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Kh.bind.apply(Kh,Object(w.g)([void 0],e.split("."))))).G_}catch(r){throw Gf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Gf(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Vr(qr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Kf(t,e){return t.some(function(t){return t.isEqual(e)})}var Qf=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(w.b)(this,void 0,void 0,function(){var e,n=this;return Object(w.d)(this,function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new Vr(qr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(w.d)(this,function(u){switch(u.label){case 0:return n=Fr(t),r=Rs(n.serializer)+"/documents",i={documents:e.map(function(t){return xs(n.serializer,t)})},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Mr(!!e.found);var n=Cs(t,e.found.name),r=Ts(e.found.updateTime),i=new Co({mapValue:{fields:e.found.fields}});return new ko(n,r,i,{})}(t,e):"missing"in e?function(t,e){Mr(!!e.missing),Mr(!!e.readTime);var n=Cs(t,e.missing),r=Ts(e.readTime);return new No(n,r)}(t,e):Ur()}(n.serializer,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Mr(!!e),a.push(e)}),a)]}})})}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof No||t instanceof ko?n.bf(t):Ur()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new Io(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(w.b)(this,void 0,void 0,function(){var t,e=this;return Object(w.d)(this,function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ii.st(n);e.mutations.push(new xo(r,e.rn(r)))}),[4,function(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r,i;return Object(w.d)(this,function(s){switch(s.label){case 0:return n=Fr(t),r=Rs(n.serializer)+"/documents",i={writes:e.map(function(t){return Ds(n.serializer,t)})},[4,n.Au("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}})})},t.prototype.bf=function(t){var e;if(t instanceof ko)e=t.version;else{if(!(t instanceof No))throw Ur();e=Zr.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Vr(qr.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?fo.updateTime(e):fo.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(Zr.min()))throw new Vr(qr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fo.updateTime(e)}return fo.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),Xf=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new Ia(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs(function(){return Object(w.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(w.d)(this,function(r){return t=new Qf(this.Nu),(e=this.Nf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.xf(t)})})}).catch(function(t){n.xf(t)}),[2]})})})},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!si(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri(function(){return e.Cf(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!bi(e)}return!1},t}(),Yf=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Ar.UNAUTHENTICATED,this.clientId=Kr.D(),this.Of=function(){},this.g=new va,this.credentials.A(function(t){kr("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}})})},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then(function(){return e.Of(e.user)})},t.prototype.kf=function(){if(this.di.Ci)throw new Vr(qr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new va;return this.di.Ni(function(){return Object(w.b)(t,void 0,void 0,function(){var t,n;return Object(w.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Va(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Jf(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r=this;return Object(w.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),kr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return Object(w.b)(r,void 0,void 0,function(){return Object(w.d)(this,function(t){switch(t.label){case 0:return[4,uc(e.Cu,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.tc(function(){return t.terminate()}),t.Lf=e,[2]}})})}function Zf(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r;return Object(w.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,td(t)];case 1:return n=i.sent(),kr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return function(t,e){return Object(w.b)(this,void 0,void 0,function(){var n,r;return Object(w.d)(this,function(i){switch(i.label){case 0:return(n=Fr(t)).di.Li(),kr("RemoteStore","RemoteStore received new credentials"),r=Nc(n),n.Mu.add(3),[4,Ic(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,jc(n)];case 3:return i.sent(),[2]}})})}(e.Oh,n)})}),t.$f=e,[2]}})})}function td(t){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return t.Lf?[3,2]:(kr("FirestoreClient","Using default OfflineComponentProvider"),[4,Jf(t,new ph)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}})})}function ed(t){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(kr("FirestoreClient","Using default OnlineComponentProvider"),[4,Zf(t,new yh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function nd(t){return td(t).then(function(t){return t.persistence})}function rd(t){return td(t).then(function(t){return t.Cu})}function id(t){return ed(t).then(function(t){return t.Oh})}function sd(t){return ed(t).then(function(t){return t.ga})}function od(t){return Object(w.b)(this,void 0,void 0,function(){var e,n;return Object(w.d)(this,function(r){switch(r.label){case 0:return[4,ed(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=El.bind(null,e.ga),n.Zu=Tl.bind(null,e.ga),n)]}})})}function ad(t,e,n,r,i){var s=new bh({next:function(s){e.Ri(function(){return tl(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Vr(qr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Vr(qr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new il(Mo(n.path),s,{includeMetadataChanges:!0,oa:!0});return Zc(t,o)}function ud(t,e,n,r,i){var s=new bh({next:function(n){e.Ri(function(){return tl(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Vr(qr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new il(n,s,{includeMetadataChanges:!0,oa:!0});return Zc(t,o)}var cd=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=Cf(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=ld(t,this.U_),i=Ad(r.j_,e,n),s=Lf(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(s.ef(r.K_,fo.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var s,o=ld(t,this.U_);return e instanceof vh&&(e=e.o_),s="string"==typeof e||e instanceof Kh?Mf(this.Qf,"WriteBatch.update",o.K_,e,n,r):Uf(this.Qf,"WriteBatch.update",o.K_,e),this.qf=this.qf.concat(s.ef(o.K_,fo.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=ld(t,this.U_);return this.qf=this.qf.concat(new Io(e.K_,fo.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new Vr(qr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ld(t,e){if(t instanceof vh&&(t=t.o_),t.firestore!==e)throw new Vr(qr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var hd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(w.c)(e,t),e.prototype.get=function(e){var n=this,r=ld(e,this.U_),i=new rf(this.U_);return t.prototype.get.call(this,e).then(function(t){return new Jh(n.U_,i,r.K_,t.W_,new Od(!1,!1),r.j_)})},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=Cf(t)}return t.prototype.get=function(t){var e=this,n=ld(t,this.U_),r=new jf(this.U_);return this.Wf.pf([n.K_]).then(function(t){if(!t||1!==t.length)return Ur();var i=t[0];if(i instanceof No)return new Wh(e.U_,r,n.K_,null,n.j_);if(i instanceof ko)return new Wh(e.U_,r,i.key,i,n.j_);throw Ur()})},t.prototype.set=function(t,e,n){var r=ld(t,this.U_),i=Ad(r.j_,e,n),s=Lf(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=ld(t,this.U_);return e instanceof vh&&(e=e.o_),s="string"==typeof e||e instanceof Kh?Mf(this.Qf,"Transaction.update",o.K_,e,n,r):Uf(this.Qf,"Transaction.update",o.K_,e),this.Wf.update(o.K_,s),this},t.prototype.delete=function(t){var e=ld(t,this.U_);return this.Wf.delete(e.K_),this},t}()),fd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Yh(t);var n=pd(t),r=t.S_(),i=new yh;return Xh(n,i,new gh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Yh(t);var e=pd(t),n=t.S_(),r=new yh;return Xh(e,r,new mh(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new Vr(qr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new va;return t.z_.Ni(function(){return Object(w.b)(e,void 0,void 0,function(){var e;return Object(w.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(w.b)(this,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return xa.Gs()?[4,xa.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(sc(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),dd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Cr||(i.Gf=e),i}return Object(w.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&Dr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(w.b)(e,void 0,void 0,function(){var e,n;return Object(w.d)(this,function(r){switch(r.label){case 0:return[4,nd(t)];case 1:return e=r.sent(),[4,id(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=Fr(t);return e.Mu.delete(0),jc(e)}(n))]}})})})}(pd(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(w.b)(e,void 0,void 0,function(){var e,n;return Object(w.d)(this,function(r){switch(r.label){case 0:return[4,nd(t)];case 1:return e=r.sent(),[4,id(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(w.b)(this,void 0,void 0,function(){var e;return Object(w.d)(this,function(n){switch(n.label){case 0:return(e=Fr(t)).Mu.add(0),[4,Ic(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}})})}(n))]}})})})}(pd(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Oh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new va;return t.di.Ri(function(){return Object(w.b)(e,void 0,void 0,function(){var e;return Object(w.d)(this,function(r){switch(r.label){case 0:return e=Rl,[4,sd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(pd(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=pd(t),i=wa(e)?e:{next:e},s=new bh(i);return t.z_.Ri(function(){return Object(w.b)(n,void 0,void 0,function(){var t;return Object(w.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Fr(t).Hu.add(e),e.next()},[4,od(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}})})}),function(){s.r_(),t.z_.Ri(function(){return Object(w.b)(n,void 0,void 0,function(){var t;return Object(w.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Fr(t).Hu.delete(e)},[4,od(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}})})})}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new Vr(qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xd(this,Sf(this.o_,t))}catch(t){throw vd(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new bd(this,Tf(this.o_,t))}catch(t){throw vd(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Td(this,function(t,e){if(_h("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Vr(qr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new lf(t,null,function(t){return new Lo(ei.X(),t)}(e))}(this.o_,t))}catch(t){throw vd(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new va;return t.di.Ri(function(){return Object(w.b)(n,void 0,void 0,function(){var n;return Object(w.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return ed(t).then(function(t){return t.Nu})}(t)];case 1:return n=i.sent(),new Xf(t.di,n,e,r).run(),[2]}})})}),r.promise}(pd(t),function(n){return e(new hd(t,n))})}(this.o_,function(n){return t(new md(e,n))})},e.prototype.batch=function(){var t=this;return pd(this.o_),new yd(new cd(this.o_,function(e){return af(t.o_,e)}))},e}(vh);function pd(t){return t.H_||gd(t),t.H_.kf(),t.H_}function gd(t){var e=t.S_(),n=function(t,e,n){return new xr(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new Yf(t.P_,t.z_,n)}var md=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(w.c)(e,t),e.prototype.get=function(t){var e=this,n=Cd(t);return this.o_.get(n).then(function(t){return new Ed(e.U_,t)})},e.prototype.set=function(t,e,n){var r=Cd(t);return n?(wh("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Cd(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(w.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Cd(t);return this.o_.delete(e),this},e}(vh),yd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.set=function(t,e,n){var r=Cd(t);return n?(wh("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Cd(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(w.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Cd(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(vh),bd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new Hh(e),r}return Object(w.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new Vr(qr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new cf(n.o_,r,new ii(t)))},e.q_=function(t,n,r){return new e(n,new cf(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xd(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xd(this.firestore,Sf(this.o_,t))}catch(t){throw vd(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof vh&&(t=t.o_),t instanceof cf&&If(this.o_,t)},e.prototype.set=function(t,e){e=wh("DocumentReference.set",e);try{return function(t,e,n){var r=jh(t.firestore,Qh),i=Ad(t.j_,e,n);return af(r,Lf(Cf(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,fo.on()))}(this.o_,t,e)}catch(t){throw vd(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?sf(this.o_,t):sf.apply(void 0,Object(w.g)([this.o_,t,e],n))}catch(t){throw vd(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return af(jh((t=this.o_).firestore,Qh),[new Io(t.K_,fo.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_d(e),i=wd(e,function(e){return new Ed(t.firestore,new Jh(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))});return of(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=jh(t.firestore,Qh),r=pd(n),i=new rf(n),s=new va;return n.z_.Ri(function(){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return[4,rd(r)];case 1:return[4,function(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i,s;return Object(w.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Fr(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Oc.cs(t,e)})}(t,e)];case 1:return(r=o.sent())instanceof ko?n.resolve(r):r instanceof No?n.resolve(null):n.reject(new Vr(qr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=Va(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}})})}(e.sent(),t.K_,s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new Jh(n,i,t.K_,e,new Od(e instanceof ko&&e.an,!0),t.j_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=jh(t.firestore,Qh),r=pd(n),i=new va;return n.z_.Ri(function(){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return[4,od(r)];case 1:return[4,ad(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return uf(n,t,e)})}(this.o_):function(t){var e=this,n=jh(t.firestore,Qh),r=pd(n),i=new va;return n.z_.Ri(function(){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return[4,od(r)];case 1:return[4,ad(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return uf(n,t,e)})}(this.o_)).then(function(t){return new Ed(e.firestore,new Jh(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(vh);function vd(t,e,n){return t.message=t.message.replace(e,n),t}function _d(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!wa(r))return r}return{}}function wd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=wa(t[0])?t[0]:wa(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Od=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ed=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(w.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new bd(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return nf(this.o_,t.o_)},e}(vh),Sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Ed),Td=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(w.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,ff(this.o_,function(t,e,n){var r=e,i=Gh("where",t);return new df(i,r,n)}(t,n,r)))}catch(t){throw vd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ff(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Gh("orderBy",t);return new pf(r,n)}(t,n)))}catch(t){throw vd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ff(this.o_,function(t){return Ih("limit",t),new gf("limit",t,"F")}(t)))}catch(t){throw vd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ff(this.o_,function(t){return Ih("limitToLast",t),new gf("limitToLast",t,"L")}(t)))}catch(t){throw vd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ff(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mf("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw vd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ff(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mf("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw vd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ff(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yf("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw vd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ff(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yf("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw vd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return xf(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=jh(t.firestore,Qh),r=pd(n),i=new rf(n),s=new va;return n.z_.Ri(function(){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return[4,rd(r)];case 1:return[4,function(t,e,n){return Object(w.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(w.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,gc(t,e,!0)];case 1:return r=c.sent(),i=new vl(e,r.Bc),s=i.gh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=Va(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})}(e.sent(),t.tf,s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new tf(n,i,t,e)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=jh(t.firestore,Qh),r=pd(n),i=new rf(n),s=new va;return n.z_.Ri(function(){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return[4,od(r)];case 1:return[4,ud(e.sent(),n.z_,t.tf,{source:"server"},s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new tf(n,i,t,e)})}(this.o_):function(t){var e=this,n=jh(t.firestore,Qh),r=pd(n),i=new rf(n);Of(t.tf);var s=new va;return n.z_.Ri(function(){return Object(w.b)(e,void 0,void 0,function(){return Object(w.d)(this,function(e){switch(e.label){case 0:return[4,od(r)];case 1:return[4,ud(e.sent(),n.z_,t.tf,{source:"default"},s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new tf(n,i,t,e)})}(this.o_)).then(function(t){return new Id(e.firestore,t)})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_d(e),i=wd(e,function(e){return new Id(t.firestore,e)});return of(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(vh),jd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(w.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Sd(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(vh),Id=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(w.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Td(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new Sd(t.U_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new jd(e.U_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new Sd(n.U_,r))})},e.prototype.isEqual=function(t){return nf(this.o_,t.o_)},e}(vh),xd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(w.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new bd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new bd(this.firestore,void 0===t?Tf(this.o_):Tf(this.o_,t))}catch(t){throw vd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jh(t.firestore,Qh),r=Tf(t),i=Ad(t.j_,e);return af(n,Lf(Cf(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,fo.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new bd(e.firestore,t)})},e.prototype.isEqual=function(t){return If(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Td);function Cd(t){return t instanceof vh&&(t=t.o_),jh(t,cf)}function Ad(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Pd,Rd=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Kh.bind.apply(Kh,Object(w.g)([void 0],e))))||this}return Object(w.c)(e,t),e.documentId=function(){return new e(ri.et().J())},e.prototype.isEqual=function(t){return t instanceof vh&&(t=t.o_),t instanceof Kh&&this.o_.G_.isEqual(t.G_)},e}(vh),kd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(w.c)(e,t),e.serverTimestamp=function(){var t=new Ph("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ch("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Rh("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kh("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Nh("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(vh),Nd={Firestore:dd,GeoPoint:Dh,Timestamp:Jr,Blob:zh,Transaction:md,WriteBatch:yd,DocumentReference:bd,DocumentSnapshot:Ed,Query:Td,QueryDocumentSnapshot:Sd,QuerySnapshot:Id,CollectionReference:xd,FieldPath:Rd,FieldValue:kd,setLogLevel:function(t){Pr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Ir.a("firestore",function(t){return function(t,e){return new dd(t,new Qh(t,e),new fd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Nd)))})(Pd=O.a),Pd.registerVersion("@firebase/firestore","2.0.4");var Dd=n("UbJi");function Ld(t,e){return function(t,e=i.b){return new s.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Ud(t,e){return Ld(t,e).pipe(Object(d.a)(t=>({payload:t,type:"query"})))}function Md(t,e){return Ud(t,e).pipe(Object(u.a)(void 0),l(),Object(d.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Fd(t,e,n){return Md(t,n).pipe(Object(p.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return qd(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return qd(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qd(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(g.a)(),Object(d.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function qd(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Vd(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class zd{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Md(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(m.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Md(this.query,this.afs.schedulers.outsideAngular).pipe(Object(m.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Vd(t);return Fd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ud(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Bd(this.ref.doc(t),this.afs)}}class Bd{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Qd(n,e);return new zd(r,i,this.afs)}snapshotChanges(){return Ld(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(void 0),l(),Object(d.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(d.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(o.a)(this.ref.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}class Hd{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Md(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(m.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Md(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Vd(t);return Fd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ud(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}const Wd=new r.q("angularfire2.enableFirestorePersistence"),$d=new r.q("angularfire2.firestore.persistenceSettings"),Gd=new r.q("angularfire2.firestore.settings"),Kd=new r.q("angularfire2.firestore.use-emulator");function Qd(t,e=(t=>t)){return{query:e(t),ref:t}}let Xd=(()=>{class t{constructor(t,e,n,r,i,s,u,c,l){this.schedulers=new b.d(s),this.keepUnstableUntilFirst=Object(b.h)(this.schedulers);const h=Object(b.g)(t,s,e);!_.a.auth&&l&&Object(b.j)();const f=c;[this.firestore,this.persistenceEnabled$]=Object(b.f)(h.name+".firestore","AngularFirestore",h,()=>{const t=s.runOutsideAngular(()=>h.firestore());if(r&&t.settings(r),f&&t.useEmulator(...f),n&&!Object(v.o)(i)){const e=()=>{try{return Object(o.a)(t.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(a.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(a.a)(!1)]},[r,f,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Qd(n,e),s=this.schedulers.ngZone.run(()=>r);return new zd(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Hd(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Bd(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(b.c),r.Pb(b.b,8),r.Pb(Wd,8),r.Pb(Gd,8),r.Pb(r.B),r.Pb(r.z),r.Pb($d,8),r.Pb(Kd,8),r.Pb(Dd.b,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(b.c),Object(r.Pb)(b.b,8),Object(r.Pb)(Wd,8),Object(r.Pb)(Gd,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)($d,8),Object(r.Pb)(Kd,8),Object(r.Pb)(Dd.b,8))},token:t,providedIn:"any"}),t})()},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("zx2A");function i(t){return function(e){const n=new s(t),r=e.lift(n);return n.caught=r}}class s{constructor(t){this.selector=t}call(t,e){return e.subscribe(new o(t,this.selector,this.caught))}}class o extends r.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this);this.add(i);const s=Object(r.c)(n,i);s!==i&&this.add(s)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("GyhO"),i=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},JYkl:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.1","app")},Kj3r:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("D0XW");function s(t,e=i.a){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends r.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function u(t){t.debouncedNext()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},NJ9Y:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),s=n("BFxc"),o=n("XDbj"),a=n("xbPD"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(s.a)(1),n?Object(a.a)(e):Object(o.a)(()=>new r.a))}},NXyV:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("Cfvw"),s=n("EY2u");function o(t){return new r.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(s.b)()).subscribe(e)})}},ORJA:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("l7P3");function i(t){return{Request:Object(r.n)(t+" Request",Object(r.s)()),RequestSuccess:Object(r.n)(t+" Request Success",Object(r.s)()),RequestFailure:Object(r.n)(t+" Request Failure",Object(r.s)())}}},PUca:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t[t.creator=0]="creator",t[t.contributor=1]="contributor",t}({})},PqYM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("D0XW"),s=n("Y7HM"),o=n("z+Ro");function a(t=0,e,n){let a=-1;return Object(s.a)(e)?a=Number(e)<1?1:Number(e):Object(o.a)(e)&&(n=e),Object(o.a)(n)||(n=i.a),new r.a(e=>{const r=Object(s.a)(t)?t:+t-n.now();return n.schedule(u,r,{index:0,period:a,subscriber:e})})}function u(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},RLuz:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return H});var r={};n.r(r),n.d(r,"CreateEmailUser",function(){return a}),n.d(r,"SignInWithEmail",function(){return u}),n.d(r,"GetUserDataFromSignedInUser",function(){return c}),n.d(r,"SignOutUserActionTitle",function(){return l}),n.d(r,"SignOutUser",function(){return h});var i={};n.r(i),n.d(i,"SelectAuthenticationState",function(){return d}),n.d(i,"SelectAuthenticationIsLoading",function(){return p}),n.d(i,"SelectAuthenticationUser",function(){return g}),n.d(i,"SelectRegistrationErrorMessage",function(){return m}),n.d(i,"SelectLoginErrorMessage",function(){return y});var s=n("l7P3"),o=n("ORJA");const a=Object(o.a)("[Authentication] Create Email User"),u=Object(o.a)("[Authentication] Sign In With Email"),c=Object(o.a)("[Authentication] Get User Data From Signed In User"),l="[Authentication] Sign Out User",h=Object(s.n)(l);var f=n("YxpS");const d=Object(s.o)(f.a),p=Object(s.q)(d,t=>t.isLoading),g=Object(s.q)(d,t=>t.currentUser),m=Object(s.q)(d,t=>null===t.registerErrorMessage?"":t.registerErrorMessage),y=Object(s.q)(d,t=>null===t.loginErrorMessage?"":t.loginErrorMessage);var b=n("ofXK"),v=n("9jGm"),_=n("agSv"),w=n("AytR");const O={RequestHandler:Object(s.r)(a.Request,t=>Object.assign(Object.assign({},t),{isLoading:!0})),SuccessHandler:Object(s.r)(a.RequestSuccess,(t,{successResponse:e})=>Object.assign(Object.assign({},t),{currentUser:e,isLoading:!1,registerErrorMessage:null})),FailureHandler:Object(s.r)(a.RequestFailure,(t,{failureResponse:e})=>Object.assign(Object.assign({},t),{currentUser:null,isLoading:!1,registerErrorMessage:e}))};var E=n("PUca"),S=n("mnDg");const T={SuccessHandler:Object(s.r)(S.a.NewFrame.RequestSuccess,(t,{successResponse:e})=>function(t,e){const n={frameId:e.id,permissions:[E.a.creator],name:e.name};return Object.assign(Object.assign({},t),{currentUser:Object.assign(Object.assign({},t.currentUser),{frames:[...t.currentUser.frames,n]})})}(t,e))},j=Object(s.p)(f.b,O.RequestHandler,O.SuccessHandler,O.FailureHandler,Object(s.r)(u.Request,t=>Object.assign(Object.assign({},t),{isLoading:!0})),Object(s.r)(u.RequestSuccess,t=>Object.assign(Object.assign({},t),{isLoading:!1,loginErrorMessage:null})),Object(s.r)(u.RequestFailure,(t,{failureResponse:e})=>Object.assign(Object.assign({},t),{currentUser:null,isLoading:!1,loginErrorMessage:e})),Object(s.r)(c.Request,t=>Object.assign(Object.assign({},t),{isLoading:!0})),Object(s.r)(c.RequestSuccess,(t,{successResponse:e})=>Object.assign(Object.assign({},t),{currentUser:e,isLoading:!1,loginErrorMessage:null})),Object(s.r)(c.RequestFailure,(t,{failureResponse:e})=>Object.assign(Object.assign({},t),{currentUser:null,isLoading:!1,loginErrorMessage:e})),T.SuccessHandler,Object(s.r)(S.a.JoinFrame.RequestSuccess,(t,{successResponse:e})=>Object.assign(Object.assign({},t),{currentUser:Object.assign(Object.assign({},t.currentUser),{frames:[...t.currentUser.frames,e]})})));function I(t,e){return j(t,e)}function x(t){return(e,n)=>(n.type===l&&(e={}),t(e,n))}var C=n("lJxs"),A=n("5+tZ"),P=n("vkgz"),R=n("JIr8"),k=n("XqQ8"),N=n("CqXF"),D=n("mCNh"),L=n("LRne"),U=n("+2IB"),M=n("p26r"),F=n("fXoL"),q=n("jL29"),V=n("qoV+"),z=n("tyNb");let B=(()=>{class t{constructor(t,e,n,r){this.actions$=t,this.authenticationService=e,this.usernameService=n,this.router=r,this.signInWithEmail$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(u.Request),Object(C.a)(t=>t.request),this.signInUser())),this.createEmailUser$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(a.Request),Object(C.a)(t=>t.request),this.createNewEmailUserFlow(),this.handleNewEmailUserFlowOutcomes())),this.getUserData$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(c.Request),this.fetchUserDataFromSignedInUser(),this.handleFetchUserDataOutcomes())),this.signOutUser$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(h),Object(A.a)(()=>this.authenticationService.signOutUser()),Object(P.a)(()=>this.router.navigateByUrl(M.a.authentication))),{dispatch:!1}),this.navigateAfterAuthenticationComplete$=Object(v.c)(()=>this.actions$.pipe(Object(v.d)(a.RequestSuccess,u.RequestSuccess),Object(P.a)(()=>this.router.navigateByUrl(M.a.home))),{dispatch:!1})}handleNewEmailUserFlowOutcomes(){return Object(D.a)(Object(C.a)(t=>a.RequestSuccess({successResponse:t})),Object(R.a)(t=>Object(L.a)(a.RequestFailure({failureResponse:t.message}))))}createNewEmailUserFlow(){return Object(D.a)(this.createNewUserFromEmail(),this.initializeNewUserRecords())}createNewUserFromEmail(){return Object(k.a)(t=>this.authenticationService.createEmailUser(t))}initializeNewUserRecords(){return Object(A.a)(t=>{const e=this.orchestrateCreationOfNewUserRecords(t);return this.mapObservableTo(e,t)})}orchestrateCreationOfNewUserRecords(t){const e=new U.a;return e.appendActions(this.authenticationService.getUserDocumentSetBatchAction(t),this.usernameService.getUsernameDocumentSetBatchAction(t.id,t.username)),e.executeActions()}mapObservableTo(t,e){return t.pipe(Object(N.a)(e))}signInUser(){return Object(k.a)(t=>this.authenticationService.signInWithEmail(t).pipe(this.handleSignInUserOutcomes()))}handleSignInUserOutcomes(){return Object(D.a)(Object(C.a)(()=>u.RequestSuccess({successResponse:null})),Object(R.a)(t=>Object(L.a)(u.RequestFailure({failureResponse:t.message}))))}fetchUserDataFromSignedInUser(){return Object(D.a)(Object(A.a)(()=>this.authenticationService.getCurrentSignedInUser()),Object(A.a)(t=>this.authenticationService.getUserDocumentById(t.uid)))}handleFetchUserDataOutcomes(){return Object(D.a)(Object(C.a)(t=>c.RequestSuccess({successResponse:t})),Object(R.a)(t=>Object(L.a)(c.RequestFailure({failureResponse:t.message}))))}}return t.\u0275fac=function(e){return new(e||t)(F.Pb(v.a),F.Pb(q.a),F.Pb(V.a),F.Pb(z.a))},t.\u0275prov=F.Eb({token:t,factory:t.\u0275fac}),t})(),H=(()=>{class t{}return t.\u0275mod=F.Gb({type:t}),t.\u0275inj=F.Fb({factory:function(e){return new(e||t)},imports:[[b.c,s.j.forRoot({authentication:I},{metaReducers:[x],runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0,strictStateSerializability:!0,strictActionSerializability:!0}}),v.b.forRoot([B]),_.a.instrument({maxAge:25,logOnly:w.a.production}),S.b]]}),t})()},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new r.a))}},UXun:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("jtHE");function i(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let s,o,a=0,u=!1,c=!1;return function(l){let h;a++,!s||u?(u=!1,s=new r.a(t,e,i),h=s.subscribe(this),o=l.subscribe({next(t){s.next(t)},error(t){u=!0,s.error(t)},complete(){c=!0,o=void 0,s.complete()}})):h=s.subscribe(this),this.add(()=>{a--,h.unsubscribe(),o&&!c&&n&&0===a&&(o.unsubscribe(),o=void 0,s=void 0)})}}(i))}},UbJi:function(t,e,n){"use strict";n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v});var r=n("fXoL"),i=n("XNiG"),s=n("LRne"),o=n("HDdC"),a=n("Cfvw"),u=n("VRyK"),c=n("pxpQ"),l=n("eIep"),h=n("lJxs"),f=n("UXun"),d=n("SxV6");function p(t,e){return e?Object(l.a)(()=>t,e):Object(l.a)(()=>t)}var g=n("tf+s"),m=n("pLZG"),y=n("spgP"),b=n("ofXK");const v=new r.q("angularfire2.auth.use-emulator"),_=new r.q("angularfire2.auth.settings"),w=new r.q("angularfire2.auth.tenant-id"),O=new r.q("angularfire2.auth.langugage-code"),E=new r.q("angularfire2.auth.use-device-language"),S=new r.q("angularfire.auth.persistence");let T=(()=>{class t{constructor(t,e,r,v,_,w,O,E,S,T){const j=new y.d(v),I=Object(y.h)(j),x=new i.a,C=Object(s.a)(void 0).pipe(Object(c.b)(j.outsideAngular),Object(l.a)(()=>v.runOutsideAngular(()=>n.e(8).then(n.bind(null,"6nsN")))),Object(h.a)(()=>Object(y.g)(t,v,e)),Object(h.a)(t=>v.runOutsideAngular(()=>{const e=_,n=w;return Object(y.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=v.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),O&&(r.tenantId=O),r.languageCode=E,S&&r.useDeviceLanguage(),n&&(r.settings=n),T&&r.setPersistence(T),r},[e,O,E,S,n,T])})),Object(f.a)({bufferSize:1,refCount:!1}));if(Object(b.o)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(s.a)(null);else{C.pipe(Object(d.a)()).subscribe();const t=C.pipe(Object(l.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),I,Object(f.a)({bufferSize:1,refCount:!1})),e=t=>new o.a(e=>({unsubscribe:v.runOutsideAngular(()=>t(e))})),n=C.pipe(Object(l.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=C.pipe(Object(l.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(p(n),Object(g.a)(j.outsideAngular),Object(c.b)(j.insideAngular)),this.user=t.pipe(p(r),Object(g.a)(j.outsideAngular),Object(c.b)(j.insideAngular)),this.idToken=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdToken()):Object(s.a)(null))),this.idTokenResult=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdTokenResult()):Object(s.a)(null))),this.credential=Object(u.a)(t,x,this.authState.pipe(Object(m.a)(t=>!t))).pipe(Object(h.a)(t=>(null==t?void 0:t.user)?t:null),Object(g.a)(j.outsideAngular),Object(c.b)(j.insideAngular))}return Object(y.i)(this,C,v,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>x.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(y.c),r.Pb(y.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(v,8),r.Pb(_,8),r.Pb(w,8),r.Pb(O,8),r.Pb(E,8),r.Pb(S,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(y.c),Object(r.Pb)(y.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(v,8),Object(r.Pb)(_,8),Object(r.Pb)(w,8),Object(r.Pb)(O,8),Object(r.Pb)(E,8),Object(r.Pb)(S,8))},token:t,providedIn:"any"}),t})();Object(y.e)(T,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}])},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},Vaw3:function(t,e,n){"use strict";n.d(e,"a",function(){return Mt}),n.d(e,"b",function(){return qt});var r=n("HDdC"),i=n("LRne"),s=n("Cfvw"),o=n("UXun"),a=n("lJxs"),u=n("pxpQ"),c=n("eIep"),l=n("fXoL"),h=n("spgP"),f=n("zIRd"),d=n("JYkl"),p=n("qOnz"),g=n("/6Yf"),m=function(t){function e(n,r){var i=t.call(this,y(n),"Firebase Storage: "+r+" ("+y(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(d.c)(e,t),e.prototype.codeEquals=function(t){return y(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(p.c);function y(t){return"storage/"+t}function b(){return new m("unknown","An unknown error occurred, please check the error payload for server response.")}function v(){return new m("canceled","User canceled the upload/download.")}function _(){return new m("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function w(t){return new m("invalid-argument",t)}function O(){return new m("app-deleted","The Firebase app was deleted.")}function E(t){return new m("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function S(t,e){return new m("invalid-format","String does not match format '"+t+"': "+e)}function T(t){throw new m("internal-error","Internal error: "+t)}var j={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},I=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function x(t,e){switch(t){case j.RAW:return new I(C(e));case j.BASE64:case j.BASE64URL:return new I(A(t,e));case j.DATA_URL:return new I((n=new P(e)).base64?A(j.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw S(j.DATA_URL,"Malformed data URL.")}return C(e)}(n.rest),new P(e).contentType)}var n;throw b()}function C(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function A(t,e){switch(t){case j.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw S(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case j.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw S(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(c){throw S(t,"Invalid character found")}for(var a=new Uint8Array(o.length),u=0;u<o.length;u++)a[u]=o.charCodeAt(u);return a}var P=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw S(j.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),R={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function k(t){switch(t){case"running":case"pausing":case"canceling":return R.RUNNING;case"paused":return R.PAUSED;case"success":return R.SUCCESS;case"canceled":return R.CANCELED;case"error":default:return R.ERROR}}var N=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),D=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=N.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=N.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=N.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw T("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw T("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw T("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw T("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),L=function(){function t(){}return t.prototype.createXhrIo=function(){return new D},t}();function U(t){return"string"==typeof t||t instanceof String}function M(t){return F()&&t instanceof Blob}function F(){return"undefined"!=typeof Blob}function q(t,e,n,r){if(r<e)throw new m("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new m("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}function V(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=V();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(F())return new Blob(t);throw new m("unsupported-environment","This browser doesn't seem to support creating Blobs")}var B=function(){function t(t,e){var n=0,r="";M(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(M(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(F()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(z.apply(null,r))}var i=e.map(function(t){return U(t)?x(j.RAW,t).data:t.data_}),s=0;i.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),H=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new m("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var s="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<o.length;a++){var u=o[a],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new m("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function W(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function $(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function G(t){return"https://firebasestorage.googleapis.com/v0"+t}function K(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Q(t,e){return e}var X=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Q}}(),Y=null;function J(){if(Y)return Y;var t=[];t.push(new X("bucket")),t.push(new X("generation")),t.push(new X("metageneration")),t.push(new X("name","fullPath",!0));var e=new X("name");e.xform=function(t,e){return function(t){return!U(t)||t.length<2?t:$(t)}(e)},t.push(e);var n=new X("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new X("timeCreated")),t.push(new X("updated")),t.push(new X("md5Hash",null,!0)),t.push(new X("cacheControl",null,!0)),t.push(new X("contentDisposition",null,!0)),t.push(new X("contentEncoding",null,!0)),t.push(new X("contentLanguage",null,!0)),t.push(new X("contentType",null,!0)),t.push(new X("metadata","customMetadata",!0)),Y=t}function Z(t,e,n){var r=W(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new H(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function tt(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var et=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function nt(t){if(!t)throw b()}function rt(t,e){return function(n,r){var i=Z(t,r,e);return nt(null!==i),i}}function it(t){return function(e,n){var r;return(r=401===e.getStatus()?new m("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new m("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new m("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function st(t){var e=it(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new m("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ot(t,e,n){var r=G(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new et(r,"GET",rt(t,n),i);return s.errorHandler=st(e),s}function at(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var ut=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function ct(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){nt(!1)}return nt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var lt=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),ht=function(){return function(t,e,n,r,i,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=s}}();function ft(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var dt=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=J(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=at(e,r,i),a={name:o.fullPath},u=G(s),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=tt(o,n),h=new et(u,"POST",function(t){var e;ct(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){nt(!1)}return nt(U(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=it(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new et(n,"POST",function(t){var e=ct(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){nt(!1)}n||nt(!1);var i=Number(n);return nt(!isNaN(i)),new ut(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=it(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new ut(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var u=new ut(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new m("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw _();var p=new et(n,"POST",function(t,n){var i,o=ct(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===o?rt(e,s)(t,n):null,new ut(a,c,"final"===o,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=it(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(a){return t._error=a,void t._transition("error")}var o=t._ref.storage.makeRequest(s,i);t._request=o,o.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=ot(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var u=at(e,r,i),c=tt(u,n),l=B.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw _();var h={name:u.fullPath},f=G(s),d=t.maxUploadRetryTime,p=new et(f,"POST",rt(t,n),d);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=it(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=v(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=k(this._state);return new ht(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new lt(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(k(this._state)){case R.SUCCESS:ft(this._resolve.bind(null,this.snapshot))();break;case R.CANCELED:case R.ERROR:ft(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(k(this._state)){case R.RUNNING:case R.PAUSED:t.next&&ft(t.next.bind(t,this.snapshot))();break;case R.SUCCESS:t.complete&&ft(t.complete.bind(t))();break;case R.CANCELED:case R.ERROR:t.error&&ft(t.error.bind(t,this._error))();break;default:t.error&&ft(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),pt=function(){function t(t,e){this._service=t,this._location=e instanceof H?e:H.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new H(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return $(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new H(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw E(t)},t}();function gt(t){var e={prefixes:[],items:[]};return mt(t,e).then(function(){return e})}function mt(t,e,n){return Object(d.b)(this,void 0,void 0,function(){var r,i,s;return Object(d.d)(this,function(o){switch(o.label){case 0:return[4,yt(t,{pageToken:n})];case 1:return r=o.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(s=e.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,mt(t,e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function yt(t,e){return Object(d.b)(this,void 0,void 0,function(){var n,r,i;return Object(d.d)(this,function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&q("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=G(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new et(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=W(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t.makeStorageReference(new H(e,o));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new H(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return nt(null!==i),i}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=it(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function bt(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new H(t._location.bucket,n);return new pt(t.storage,r)}var vt=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),_t=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new vt(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new vt(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new vt(t,i,i._ref))}:{next:e.next?function(t){return e.next(new vt(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),wt=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Ot(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Ot(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Ot=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(bt(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new _t(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new dt(t,new B(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=j.RAW),this._throwIfRoot("putString"),new _t(function(t,e,n,r){void 0===n&&(n=j.RAW),t._throwIfRoot("putString");var i=x(n,e),s=Object(d.a)({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new dt(t,new B(i.data,!0),s)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return gt(this._delegate).then(function(e){return new wt(e,t.storage)})},t.prototype.list=function(t){var e=this;return yt(this._delegate,t).then(function(t){return new wt(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(d.b)(this,void 0,void 0,function(){var e,n;return Object(d.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=ot(t.storage,t._location,J()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(d.b)(this,void 0,void 0,function(){var n,r;return Object(d.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=G(e.fullServerUrl()),s=tt(n,r),o=t.maxOperationRetryTime,a=new et(i,"PATCH",rt(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=st(e),a}(t.storage,t._location,e,J()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(d.b)(this,void 0,void 0,function(){var e,n;return Object(d.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=G(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new et(r,"GET",function(t,e){return function(n,r){var i=Z(t,r,e);return nt(null!==i),function(t,e){var n=W(e);if(null===n)return null;if(!U(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return G("/b/"+i(t.bucket)+"/o/"+i(n))+K({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return s.errorHandler=st(e),s}(t.storage,t._location,J()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new m("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(d.b)(this,void 0,void 0,function(){var e,n;return Object(d.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=G(e.fullServerUrl()),r=new et(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=st(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw E(t)},t}(),Et=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),St=function(){function t(t,e,n,r,i,s,o,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(u){s(u)}else null!==o?((r=b()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?O():v():new m("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Tt(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new Tt(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===N.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new Tt(o,n))}else{var a=n.getErrorCode()===N.ABORT;e(!1,new Tt(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(d.g)([null,t],e));else{var r;u()||o?l.call.apply(l,Object(d.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var p=!1;function g(t){p||(p=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,g(!0)},r),g}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Tt=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function jt(t){return/^[A-Za-z]+:\/\//.test(t)}function It(t,e){if(t instanceof Pt){var n=t;if(null==n._bucket)throw new m("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new pt(n,n._bucket);return null!=e?It(r,e):r}if(void 0!==e){if(e.includes(".."))throw w('`path` param cannot contain ".."');return bt(t,e)}return t}function xt(t,e){if(e&&jt(e)){if(t instanceof Pt)return new pt(t,e);throw w("To use ref(service, url), the first argument must be a Storage instance.")}return It(t,e)}var Ct,At,Pt=function(){function t(t,e,n,r){var i,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?H.makeFromBucketSpec(r):null==(s=null==(i=this.app.options)?void 0:i.storageBucket)?null:H.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){q("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){q("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(d.b)(this,void 0,void 0,function(){var t,e;return Object(d.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new pt(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Et(O());var r=function(t,e,n,r){var i=K(t.urlParams),s=t.url+i,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==f.a?f.a.SDK_VERSION:"AppManager")}(o),new St(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),Rt=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(jt(t))throw w("ref() expected a child path but got a URL, use refFromURL instead.");return new Ot(xt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!jt(t))throw w("refFromURL() expected a full URL but got a child path, use ref() instead.");try{H.makeFromUrl(t)}catch(e){throw w("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ot(xt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function kt(t){const e=function(t){return new r.a(e=>{const n=t=>e.next(t);t.on("state_changed",n,r=>{n(t.snapshot),(t=>{e.error(t)})(r)},()=>{n(t.snapshot),e.complete()})}).pipe(Object(o.a)({bufferSize:1,refCount:!1}))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(a.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function Nt(t,e,n){return{getDownloadURL:()=>Object(i.a)(void 0).pipe(Object(u.b)(e.outsideAngular),Object(c.a)(()=>t.getDownloadURL()),n),getMetadata:()=>Object(i.a)(void 0).pipe(Object(u.b)(e.outsideAngular),Object(c.a)(()=>t.getMetadata()),n),delete:()=>Object(s.a)(t.delete()),child:r=>Nt(t.child(r),e,n),updateMetadata:e=>Object(s.a)(t.updateMetadata(e)),put:(e,n)=>kt(t.put(e,n)),putString:(e,n,r)=>kt(t.putString(e,n,r)),listAll:()=>Object(s.a)(t.listAll())}}At={TaskState:R,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:j,Storage:Pt,Reference:Ot},(Ct=f.a).INTERNAL.registerComponent(new g.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Rt(n,new Pt(n,r,new L,e))},"PUBLIC").setServiceProps(At).setMultipleInstances(!0)),Ct.registerVersion("@firebase/storage","0.4.2"),n("ofXK");const Dt=new l.q("angularfire2.storageBucket"),Lt=new l.q("angularfire2.storage.maxUploadRetryTime"),Ut=new l.q("angularfire2.storage.maxOperationRetryTime");let Mt=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new h.d(i),this.keepUnstableUntilFirst=Object(h.h)(this.schedulers);const a=Object(h.g)(t,i,e);this.storage=Object(h.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return Nt(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return Nt(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return Nt(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(h.c),l.Pb(h.b,8),l.Pb(Dt,8),l.Pb(l.B),l.Pb(l.z),l.Pb(Lt,8),l.Pb(Ut,8))},t.\u0275prov=Object(l.Eb)({factory:function(){return new t(Object(l.Pb)(h.c),Object(l.Pb)(h.b,8),Object(l.Pb)(Dt,8),Object(l.Pb)(l.B),Object(l.Pb)(l.z),Object(l.Pb)(Lt,8),Object(l.Pb)(Ut,8))},token:t,providedIn:"any"}),t})(),Ft=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(e){return new(e||t)}}),t})(),qt=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(e){return new(e||t)},providers:[Mt],imports:[Ft]}),t})()},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("sVev"),i=n("7o/Q");function s(t=u){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},XqQ8:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e){return e?n=>n.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends s.b{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YxpS:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n("uFlw");const r="authentication",i={currentUser:null,isLoading:!1,registerErrorMessage:null,loginErrorMessage:null}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n("SeVD"),o=n("HDdC");function a(t,e,n,r,a=new i(t,n,r)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(s.a)(e)(a)}},abKY:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o});class r{constructor(t){this.documentReference=t}}class i extends r{constructor(t){super(t)}}class s extends r{constructor(t,e,n){super(t),this.data=e,this.options=n}}class o extends r{constructor(t,e){super(t),this.data=e}}},agSv:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("l7P3"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EY2u"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("LRne"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("VRyK"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("qgXg"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jtHE"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("w1tV"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("bOdf"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("tS1D"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1G5W"),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("zP0r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("pxpQ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("zp1y"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("Kqap");function DevToolsFeatureOptions(){}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("@ngrx/devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("@ngrx/devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(t){const e={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}};let n="function"==typeof t?t():t;const r=Object.assign({},e,{features:n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||e.features},n);if(r.maxAge&&r.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got "+r.maxAge);return r}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(t){this.timestamp=t,this.type=RESET}}class Rollback{constructor(t){this.timestamp=t,this.type=ROLLBACK}}class Commit{constructor(t){this.timestamp=t,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(t){this.id=t,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(t,e,n=!0){this.start=t,this.end=e,this.active=n,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(t){this.index=t,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(t){this.actionId=t,this.type=JUMP_TO_ACTION}}class ImportState{constructor(t){this.nextLiftedState=t,this.type=IMPORT_STATE}}class LockChanges{constructor(t){this.status=t,this.type=LOCK_CHANGES}}class PauseRecording{constructor(t){this.status=t,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class t extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a{}return t.\u0275fac=function(e){return \u0275DevtoolsDispatcher_BaseFactory(e||t)},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Eb({token:t,factory:t.\u0275fac}),t})();const \u0275DevtoolsDispatcher_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb(DevtoolsDispatcher);function difference(t,e){return t.filter(t=>e.indexOf(t)<0)}function unliftState(t){const{computedStates:e,currentStateIndex:n}=t;if(n>=e.length){const{state:t}=e[e.length-1];return t}const{state:r}=e[n];return r}function unliftAction(t){return t.actionsById[t.nextActionId-1]}function liftAction(t){return new PerformAction(t,+Date.now())}function sanitizeActions(t,e){return Object.keys(e).reduce((n,r)=>{const i=Number(r);return n[i]=sanitizeAction(t,e[i],i),n},{})}function sanitizeAction(t,e,n){return Object.assign(Object.assign({},e),{action:t(e.action,n)})}function sanitizeStates(t,e){return e.map((e,n)=>({state:sanitizeState(t,e.state,n),error:e.error}))}function sanitizeState(t,e,n){return t(e,n)}function shouldFilterActions(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function filterLiftedState(t,e,n,r){const i=[],s={},o=[];return t.stagedActionIds.forEach((a,u)=>{const c=t.actionsById[a];c&&(u&&isActionFiltered(t.computedStates[u],c,e,n,r)||(s[a]=c,i.push(a),o.push(t.computedStates[u])))}),Object.assign(Object.assign({},t),{stagedActionIds:i,actionsById:s,computedStates:o})}function isActionFiltered(t,e,n,r,i){const s=n&&!n(t,e.action),o=r&&!e.action.type.match(r.map(t=>escapeRegExp(t)).join("|")),a=i&&e.action.type.match(i.map(t=>escapeRegExp(t)).join("|"));return s||o||a}function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("Redux Devtools Extension");function ReduxDevtoolsExtensionConnection(){}function ReduxDevtoolsExtensionConfig(){}function ReduxDevtoolsExtension(){}let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(t,e,n){this.config=e,this.dispatcher=n,this.devtoolsExtension=t,this.createActionStreams()}notify(t,e){if(this.devtoolsExtension)if(t.type===PERFORM_ACTION){if(e.isLocked||e.isPaused)return;const n=unliftState(e);if(shouldFilterActions(this.config)&&isActionFiltered(n,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const r=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,n,e.currentStateIndex):n,i=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,t,e.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(i,r))}else{const t=Object.assign(Object.assign({},e),{stagedActionIds:e.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,e.actionsById):e.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,e.computedStates):e.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,t,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.a(t=>{const e=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=e,e.init(),e.subscribe(e=>t.next(e)),e.unsubscribe}):Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.b)()}createActionStreams(){const t=this.createChangesObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)()),e=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.START)),n=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.STOP)),r=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.DISPATCH),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)(t=>t.type===IMPORT_STATE?this.dispatcher.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(()=>t),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.a)(1)):Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t))),i=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.ACTION),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),s=r.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n));this.start$=e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),this.actions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>i)),this.liftedActions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>s))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(t){const e={name:t.name,features:t.features,serialize:t.serialize};return!1!==t.maxAge&&(e.maxAge=t.maxAge),e}sendToReduxDevtools(t){try{t()}catch(e){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",e)}}}return DevtoolsExtension.\u0275fac=function(t){return new(t||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Eb({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function ComputedState(){}function LiftedAction(){}function LiftedActions(){}function LiftedState(){}function computeNextEntry(t,e,n,r,i){if(r)return{state:n,error:"Interrupted by an error up the chain"};let s,o=n;try{o=t(n,e)}catch(a){s=a.toString(),i.handleError(a.stack||a)}return{state:o,error:s}}function recomputeStates(t,e,n,r,i,s,o,a,u){if(e>=t.length&&t.length===s.length)return t;const c=t.slice(0,e),l=s.length-(u?1:0);for(let h=e;h<l;h++){const t=s[h],e=i[t].action,u=c[h-1],l=u?u.state:r,f=u?u.error:void 0,d=o.indexOf(t)>-1?u:computeNextEntry(n,e,l,f,a);c.push(d)}return u&&c.push(t[t.length-1]),c}function liftInitialState(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(t,e,n,r,i={}){return s=>(o,a)=>{let{monitorState:u,actionsById:c,nextActionId:l,stagedActionIds:h,skippedActionIds:f,committedState:d,currentStateIndex:p,computedStates:g,isLocked:m,isPaused:y}=o||e;function b(t){let e=t,n=h.slice(1,e+1);for(let r=0;r<n.length;r++){if(g[r+1].error){e=r,n=h.slice(1,e+1);break}delete c[n[r]]}f=f.filter(t=>-1===n.indexOf(t)),h=[0,...h.slice(e+1)],d=g[e].state,g=g.slice(e),p=p>e?p-e:0}function v(){c={0:liftAction(INIT_ACTION)},l=1,h=[0],f=[],d=g[p].state,p=0,g=[]}o||(c=Object.create(c));let _=0;switch(a.type){case LOCK_CHANGES:m=a.status,_=1/0;break;case PAUSE_RECORDING:y=a.status,y?(h=[...h,l],c[l]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),l++,_=h.length-1,g=g.concat(g[g.length-1]),p===h.length-2&&p++,_=1/0):v();break;case RESET:c={0:liftAction(INIT_ACTION)},l=1,h=[0],f=[],d=t,p=0,g=[];break;case COMMIT:v();break;case ROLLBACK:c={0:liftAction(INIT_ACTION)},l=1,h=[0],f=[],p=0,g=[];break;case TOGGLE_ACTION:{const{id:t}=a,e=f.indexOf(t);f=-1===e?[t,...f]:f.filter(e=>e!==t),_=h.indexOf(t);break}case SET_ACTIONS_ACTIVE:{const{start:t,end:e,active:n}=a,r=[];for(let i=t;i<e;i++)r.push(i);f=n?difference(f,r):[...f,...r],_=h.indexOf(t);break}case JUMP_TO_STATE:p=a.index,_=1/0;break;case JUMP_TO_ACTION:{const t=h.indexOf(a.actionId);-1!==t&&(p=t),_=1/0;break}case SWEEP:h=difference(h,f),f=[],p=Math.min(p,h.length-1);break;case PERFORM_ACTION:{if(m)return o||e;if(y||o&&isActionFiltered(o.computedStates[p],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){const t=g[g.length-1];g=[...g.slice(0,-1),computeNextEntry(s,a.action,t.state,t.error,n)],_=1/0;break}i.maxAge&&h.length===i.maxAge&&b(1),p===h.length-1&&p++;const t=l++;c[t]=a,h=[...h,t],_=h.length-1;break}case IMPORT_STATE:({monitorState:u,actionsById:c,nextActionId:l,stagedActionIds:h,skippedActionIds:f,committedState:d,currentStateIndex:p,computedStates:g,isLocked:m,isPaused:y}=a.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b:_=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,_,s,d,c,h,f,n,y),b(h.length-i.maxAge),_=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l:if(g.filter(t=>t.error).length>0)_=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,_,s,d,c,h,f,n,y),b(h.length-i.maxAge),_=1/0);else{if(!y&&!m){p===h.length-1&&p++;const t=l++;c[t]=new PerformAction(a,+Date.now()),h=[...h,t],_=h.length-1,g=recomputeStates(g,_,s,d,c,h,f,n,y)}g=g.map(t=>Object.assign(Object.assign({},t),{state:s(t.state,RECOMPUTE_ACTION)})),p=h.length-1,i.maxAge&&h.length>i.maxAge&&b(h.length-i.maxAge),_=1/0}break;default:_=1/0}return g=recomputeStates(g,_,s,d,c,h,f,n,y),u=r(u,a),{monitorState:u,actionsById:c,nextActionId:l,stagedActionIds:h,skippedActionIds:f,committedState:d,currentStateIndex:p,computedStates:g,isLocked:m,isPaused:y}}}let StoreDevtools=(()=>{class t{constructor(t,e,n,r,i,s,o,a){const u=liftInitialState(o,a.monitor),c=liftReducerWith(o,u,s,a.monitor,a),l=Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(e.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.a)(1)),r.actions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(liftAction)),t,r.liftedActions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.b)(rxjs__WEBPACK_IMPORTED_MODULE_6__.b)),h=n.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(c)),f=new rxjs__WEBPACK_IMPORTED_MODULE_7__.a(1),d=l.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(h),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(({state:t},[e,n])=>{let i=n(t,e);return e.type!==PERFORM_ACTION&&shouldFilterActions(a)&&(i=filterLiftedState(i,a.predicate,a.actionsSafelist,a.actionsBlocklist)),r.notify(e,i),{state:i,action:e}},{state:u,action:null})).subscribe(({state:t,action:e})=>{f.next(t),e.type===PERFORM_ACTION&&i.next(e.action)}),p=r.start$.subscribe(()=>{this.refresh()}),g=f.asObservable(),m=g.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(unliftState));this.extensionStartSubscription=p,this.stateSubscription=d,this.dispatcher=t,this.liftedState=g,this.state=m}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new PerformAction(t,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(t){this.dispatch(new ToggleAction(t))}jumpToAction(t){this.dispatch(new JumpToAction(t))}jumpToState(t){this.dispatch(new JumpToState(t))}importState(t){this.dispatch(new ImportState(t))}lockChanges(t){this.dispatch(new LockChanges(t))}pauseRecording(t){this.dispatch(new PauseRecording(t))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.e),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.m),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pb(STORE_DEVTOOLS_CONFIG))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Eb({token:t,factory:t.\u0275fac}),t})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(t,e){return Boolean(t)||e.monitor!==noMonitor}function createReduxDevtoolsExtension(){return"object"==typeof window&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:null}function createStateObservable(t){return t.state}let StoreDevtoolsModule=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:e},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.g,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.d,useExisting:DevtoolsDispatcher}]}}}return t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gb({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Fb({factory:function(e){return new(e||t)}}),t})()},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},cp0P:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("DH7j"),s=n("lJxs"),o=n("XoHu"),a=n("Cfvw");function u(...t){if(1===t.length){const e=t[0];if(Object(i.a)(e))return c(e,null);if(Object(o.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return c(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return c(t=1===t.length&&Object(i.a)(t[0])?t[0]:t,null).pipe(Object(s.a)(t=>e(...t)))}return c(t,null)}function c(t,e){return new r.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let u=0;u<r;u++){const c=Object(a.a)(t[u]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),i[u]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends s.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(s.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return x}),n.d(e,"b",function(){return Au}),n.d(e,"c",function(){return Tu}),n.d(e,"d",function(){return Eu}),n.d(e,"e",function(){return Su}),n.d(e,"f",function(){return _c}),n.d(e,"g",function(){return lc}),n.d(e,"h",function(){return Oa}),n.d(e,"i",function(){return Vu}),n.d(e,"j",function(){return Qo}),n.d(e,"k",function(){return ku}),n.d(e,"l",function(){return Zo}),n.d(e,"m",function(){return vr}),n.d(e,"n",function(){return nu}),n.d(e,"o",function(){return ns}),n.d(e,"p",function(){return l}),n.d(e,"q",function(){return I}),n.d(e,"r",function(){return bs}),n.d(e,"s",function(){return ma}),n.d(e,"t",function(){return ya}),n.d(e,"u",function(){return Ru}),n.d(e,"v",function(){return ka}),n.d(e,"w",function(){return fc}),n.d(e,"x",function(){return Ra}),n.d(e,"y",function(){return sc}),n.d(e,"z",function(){return Hu}),n.d(e,"A",function(){return h}),n.d(e,"B",function(){return Cu}),n.d(e,"C",function(){return xu}),n.d(e,"D",function(){return ea}),n.d(e,"E",function(){return ta}),n.d(e,"F",function(){return Sr}),n.d(e,"G",function(){return ra}),n.d(e,"H",function(){return wn}),n.d(e,"I",function(){return d}),n.d(e,"J",function(){return gc}),n.d(e,"K",function(){return xa}),n.d(e,"L",function(){return Ju}),n.d(e,"M",function(){return F}),n.d(e,"N",function(){return sa}),n.d(e,"O",function(){return ia}),n.d(e,"P",function(){return Da}),n.d(e,"Q",function(){return K}),n.d(e,"R",function(){return oc}),n.d(e,"S",function(){return Xe}),n.d(e,"T",function(){return L}),n.d(e,"U",function(){return Qe}),n.d(e,"V",function(){return bc}),n.d(e,"W",function(){return ec}),n.d(e,"X",function(){return Pu}),n.d(e,"Y",function(){return is}),n.d(e,"Z",function(){return Lo}),n.d(e,"ab",function(){return vn}),n.d(e,"bb",function(){return en}),n.d(e,"cb",function(){return qe}),n.d(e,"db",function(){return ze}),n.d(e,"eb",function(){return $e}),n.d(e,"fb",function(){return He}),n.d(e,"gb",function(){return Be}),n.d(e,"hb",function(){return We}),n.d(e,"ib",function(){return Ro}),n.d(e,"jb",function(){return yc}),n.d(e,"kb",function(){return ko}),n.d(e,"lb",function(){return No}),n.d(e,"mb",function(){return Ve}),n.d(e,"nb",function(){return N}),n.d(e,"ob",function(){return xs}),n.d(e,"pb",function(){return Ws}),n.d(e,"qb",function(){return Hs}),n.d(e,"rb",function(){return Po}),n.d(e,"sb",function(){return Pt}),n.d(e,"tb",function(){return p}),n.d(e,"ub",function(){return Fe}),n.d(e,"vb",function(){return _s}),n.d(e,"wb",function(){return Cn}),n.d(e,"xb",function(){return $o}),n.d(e,"yb",function(){return ci}),n.d(e,"zb",function(){return ks}),n.d(e,"Ab",function(){return lo}),n.d(e,"Bb",function(){return mu}),n.d(e,"Cb",function(){return st}),n.d(e,"Db",function(){return ft}),n.d(e,"Eb",function(){return b}),n.d(e,"Fb",function(){return v}),n.d(e,"Gb",function(){return ct}),n.d(e,"Hb",function(){return dt}),n.d(e,"Ib",function(){return Ls}),n.d(e,"Jb",function(){return zs}),n.d(e,"Kb",function(){return Vs}),n.d(e,"Lb",function(){return qs}),n.d(e,"Mb",function(){return Bs}),n.d(e,"Nb",function(){return gr}),n.d(e,"Ob",function(){return Io}),n.d(e,"Pb",function(){return xt}),n.d(e,"Qb",function(){return Us}),n.d(e,"Rb",function(){return Ou}),n.d(e,"Sb",function(){return $s}),n.d(e,"Tb",function(){return yu}),n.d(e,"Ub",function(){return Ae}),n.d(e,"Vb",function(){return Ce}),n.d(e,"Wb",function(){return Qs}),n.d(e,"Xb",function(){return tu}),n.d(e,"Yb",function(){return eu}),n.d(e,"Zb",function(){return Js}),n.d(e,"ac",function(){return Ys}),n.d(e,"bc",function(){return Ms}),n.d(e,"cc",function(){return Xa}),n.d(e,"dc",function(){return Ya}),n.d(e,"ec",function(){return pu}),n.d(e,"fc",function(){return Ds}),n.d(e,"gc",function(){return Or}),n.d(e,"hc",function(){return re}),n.d(e,"ic",function(){return On}),n.d(e,"jc",function(){return En}),n.d(e,"kc",function(){return lt}),n.d(e,"lc",function(){return ho}),n.d(e,"mc",function(){return co}),n.d(e,"nc",function(){return Ns}),n.d(e,"oc",function(){return wu}),n.d(e,"pc",function(){return So}),n.d(e,"qc",function(){return To}),n.d(e,"rc",function(){return jo}),n.d(e,"sc",function(){return gu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}function c(t,e,n){return u(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const l=c("Inject",t=>({token:t})),h=c("Optional"),f=c("Self"),d=c("SkipSelf");function p(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(p).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function g(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function v(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return w(t,E)||w(t,T)}function w(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(S)||t.hasOwnProperty(j))?t[S]:null}const E=m({\u0275prov:m}),S=m({\u0275inj:m}),T=m({ngInjectableDef:m}),j=m({ngInjectorDef:m});class I{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const x=new I("AnalyzeForEntryComponents");var C=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({});const A="undefined"!=typeof globalThis&&globalThis,P="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,k="undefined"!=typeof global&&global,N=A||k||P||R,D=m({__forward_ref__:m});function L(t){return t.__forward_ref__=L,t.toString=function(){return p(this())},t}function U(t){return M(t)?t():t}function M(t){return"function"==typeof t&&t.hasOwnProperty(D)&&t.__forward_ref__===L}const F=Function;function q(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),q(r,e)):e!==t&&e.push(r)}return e}function V(t,e){t.forEach(t=>Array.isArray(t)?V(t,e):e(t))}function z(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function B(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function H(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function W(t,e,n){let r=G(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function $(t,e){const n=G(t,e);if(n>=0)return t[1|n]}function G(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var K=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Q={},X=[],Y=m({\u0275cmp:m}),J=m({\u0275dir:m}),Z=m({\u0275pipe:m}),tt=m({\u0275mod:m}),et=m({\u0275loc:m}),nt=m({\u0275fac:m}),rt=m({__NG_ELEMENT_ID__:m});let it=0;function st(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===C.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||X,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||K.Emulated,id:"c",styles:t.styles||X,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=it++,n.inputs=ht(t.inputs,e),n.outputs=ht(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ot):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(at):null,n})}function ot(t){return pt(t)||function(t){return t[J]||null}(t)}function at(t){return function(t){return t[Z]||null}(t)}const ut={};function ct(t){const e={type:t.type,bootstrap:t.bootstrap||X,declarations:t.declarations||X,imports:t.imports||X,exports:t.exports||X,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{ut[t.id]=t.type}),e}function lt(t,e){return u(()=>{const n=gt(t,!0);n.declarations=e.declarations||X,n.imports=e.imports||X,n.exports=e.exports||X})}function ht(t,e){if(null==t)return Q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ft=st;function dt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function pt(t){return t[Y]||null}function gt(t,e){const n=t[tt]||null;if(!n&&!0===e)throw new Error(`Type ${p(t)} does not have '\u0275mod' property.`);return n}function mt(t){return"string"==typeof t?t:null==t?"":""+t}function yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():mt(t)}var bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let vt;function _t(t){const e=vt;return vt=t,e}function wt(t,e,n){const r=_(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&bt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${p(t)}]`)}const Ot={},Et=/\n/gm,St=m({provide:String,useValue:m});let Tt=void 0;function jt(t){const e=Tt;return Tt=t,e}function It(t,e=bt.Default){if(void 0===Tt)throw new Error("inject() must be called from an injection context");return null===Tt?wt(t,void 0,e):Tt.get(t,e&bt.Optional?null:void 0,e)}function xt(t,e=bt.Default){return(vt||It)(U(t),e)}function Ct(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=bt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof h||"Optional"===i.ngMetadataName||i===h?n|=bt.Optional:i instanceof d||"SkipSelf"===i.ngMetadataName||i===d?n|=bt.SkipSelf:i instanceof f||"Self"===i.ngMetadataName||i===f?n|=bt.Self:t=i instanceof l||i===l?i.token:i}e.push(xt(t,n))}else e.push(xt(r))}return e}let At=void 0;function Pt(t){At=t}function Rt(){return void 0!==At?At:"undefined"!=typeof document?document:void 0}function kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Nt(t){return Array.isArray(t)&&!0===t[1]}function Dt(t){return 0!=(8&t.flags)}function Lt(t){return 2==(2&t.flags)}function Ut(t){return 1==(1&t.flags)}function Mt(t){return null!==t.template}function Ft(t){return!!t.listen}const qt={createRenderer:(t,e)=>Rt()};function Vt(t){for(;Array.isArray(t);)t=t[0];return t}function zt(t,e){return Vt(e[t])}function Bt(t,e){return Vt(e[t.index])}function Ht(t,e){return t.data[e]}function Wt(t,e){return t[e]}function $t(t,e){const n=e[t];return kt(n)?n:n[0]}function Gt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Kt(t){return 4==(4&t[2])}function Qt(t){return 128==(128&t[2])}function Xt(t,e){return null==e?null:t[e]}function Yt(t){t[18]=0}function Jt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Zt={lFrame:Oe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function te(){return Zt.bindingsEnabled}function ee(){return Zt.lFrame.lView}function ne(){return Zt.lFrame.tView}function re(t){Zt.lFrame.contextLView=t}function ie(){let t=se();for(;null!==t&&64===t.type;)t=t.parent;return t}function se(){return Zt.lFrame.currentTNode}function oe(t,e){const n=Zt.lFrame;n.currentTNode=t,n.isParent=e}function ae(){return Zt.lFrame.isParent}function ue(){Zt.lFrame.isParent=!1}function ce(){return Zt.isInCheckNoChangesMode}function le(t){Zt.isInCheckNoChangesMode=t}function he(){const t=Zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fe(){return Zt.lFrame.bindingIndex++}function de(t){const e=Zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pe(t,e){const n=Zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ge(e)}function ge(t){Zt.lFrame.currentDirectiveIndex=t}function me(){return Zt.lFrame.currentQueryIndex}function ye(t){Zt.lFrame.currentQueryIndex=t}function be(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ve(t,e,n){if(n&bt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&bt.Host||(r=be(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Zt.lFrame=we();return r.currentTNode=e,r.lView=t,!0}function _e(t){const e=we(),n=t[1];Zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function we(){const t=Zt.lFrame,e=null===t?null:t.child;return null===e?Oe(t):e}function Oe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ee(){const t=Zt.lFrame;return Zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Se=Ee;function Te(){const t=Ee();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function je(){return Zt.lFrame.selectedIndex}function Ie(t){Zt.lFrame.selectedIndex=t}function xe(){const t=Zt.lFrame;return Ht(t.tView,t.selectedIndex)}function Ce(){Zt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Ae(){Zt.lFrame.currentNamespace=null}let Pe;function Re(t){var e;return(null===(e=function(){if(void 0===Pe&&(Pe=null,N.trustedTypes))try{Pe=N.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Pe}())||void 0===e?void 0:e.createHTML(t))||t}class ke{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Ne extends ke{getTypeName(){return"HTML"}}class De extends ke{getTypeName(){return"Style"}}class Le extends ke{getTypeName(){return"Script"}}class Ue extends ke{getTypeName(){return"URL"}}class Me extends ke{getTypeName(){return"ResourceURL"}}function Fe(t){return t instanceof ke?t.changingThisBreaksApplicationSecurity:t}function qe(t,e){const n=Ve(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Ve(t){return t instanceof ke&&t.getTypeName()||null}function ze(t){return new Ne(t)}function Be(t){return new De(t)}function He(t){return new Le(t)}function We(t){return new Ue(t)}function $e(t){return new Me(t)}let Ge=!0,Ke=!1;function Qe(){return Ke=!0,Ge}function Xe(){if(Ke)throw new Error("Cannot enable prod mode after platform setup.");Ge=!1}class Ye{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Re(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Je{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Re(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Re(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ze=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function en(t){return(t=String(t)).match(Ze)||t.match(tn)?t:(Qe()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function nn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function rn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const sn=nn("area,br,col,hr,img,wbr"),on=nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),an=nn("rp,rt"),un=rn(an,on),cn=rn(sn,rn(on,nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rn(an,nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),un),ln=nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hn=nn("srcset"),fn=rn(ln,hn,nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dn=nn("script,style,template");class pn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!cn.hasOwnProperty(e))return this.sanitizedSomething=!0,!dn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!fn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ln[s]&&(o=en(o)),hn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>en(t.trim())).join(", ")),this.buf.push(" ",e,'="',yn(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();cn.hasOwnProperty(e)&&!sn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(yn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const gn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mn=/([^\#-~ |!])/g;function yn(t){return t.replace(/&/g,"&amp;").replace(gn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(mn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bn;function vn(t,e){let n=null;try{bn=bn||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Re(""),"text/html")}catch(t){return!1}}()?new Ye:new Je(t)}(t);let r=e?String(e):"";n=bn.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=bn.getInertBodyElement(r)}while(r!==s);const o=new pn,a=o.sanitizeChildren(_n(n)||n);return Qe()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=_n(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function _n(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function On(t){const e=Sn();return e?e.sanitize(wn.HTML,t)||"":qe(t,"HTML")?Fe(t):vn(Rt(),mt(t))}function En(t){const e=Sn();return e?e.sanitize(wn.URL,t)||"":qe(t,"URL")?Fe(t):en(mt(t))}function Sn(){const t=ee();return t&&t[12]}function Tn(t,e){return t.hasOwnProperty(nt)?t[nt]:null}class jn extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function In(t,e){const n=e?" in "+e:"";throw new jn("201",`No provider for ${yt(t)} found${n}`)}class xn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Cn(){return An}function An(t){return t.type.prototype.ngOnChanges&&(t.setInput=Rn),Pn}function Pn(){const t=kn(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Rn(t,e,n,r){const i=kn(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new xn(u&&u.currentValue,e,o===Q),t[r]=e}function kn(t){return t.__ngSimpleChanges__||null}function Nn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Dn(t,e,n){Mn(t,e,3,n)}function Ln(t,e,n,r){(3&t[2])===n&&Mn(t,e,n,r)}function Un(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Mn(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Fn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Fn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}Cn.ngInherit=!0;class qn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Vn(t,e,n){const r=Ft(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Bn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function zn(t){return 3===t||4===t||6===t}function Bn(t){return 64===t.charCodeAt(0)}function Hn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Wn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Wn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function $n(t){return-1!==t}function Gn(t){return 32767&t}function Kn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Qn=!0;function Xn(t){const e=Qn;return Qn=t,e}let Yn=0;function Jn(t,e){const n=tr(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Zn(r.data,t),Zn(e,null),Zn(r.blueprint,null));const i=er(t,e),s=t.injectorIndex;if($n(i)){const t=Gn(i),n=Kn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Zn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function er(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function nr(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(rt)&&(r=n[rt]),null==r&&(r=n[rt]=Yn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function rr(t,e,n){if(n&bt.Optional)return t;In(e,"NodeInjector")}function ir(t,e,n,r){if(n&bt.Optional&&void 0===r&&(r=null),0==(n&(bt.Self|bt.Host))){const i=t[9],s=_t(void 0);try{return i?i.get(e,r,n&bt.Optional):wt(e,r,n&bt.Optional)}finally{_t(s)}}return rr(r,e,n)}function sr(t,e,n,r=bt.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(rt)?t[rt]:void 0;return"number"==typeof e?e>=0?255&e:ar:e}(n);if("function"==typeof s){if(!ve(e,t,r))return r&bt.Host?rr(i,n,r):ir(e,n,r,i);try{const t=s();if(null!=t||r&bt.Optional)return t;In(n)}finally{Se()}}else if("number"==typeof s){let i=null,o=tr(t,e),a=-1,u=r&bt.Host?e[16][6]:null;for((-1===o||r&bt.SkipSelf)&&(a=-1===o?er(t,e):e[o+8],-1!==a&&fr(r,!1)?(i=e[1],o=Gn(a),e=Kn(a,e)):o=-1);-1!==o;){const t=e[1];if(hr(s,o,t.data)){const t=ur(o,e,n,i,r,u);if(t!==or)return t}a=e[o+8],-1!==a&&fr(r,e[1].data[o+8]===u)&&hr(s,o,e)?(i=t,o=Gn(a),e=Kn(a,e)):o=-1}}}return ir(e,n,r,i)}const or={};function ar(){return new dr(ie(),ee())}function ur(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=cr(a,o,n,null==r?Lt(a)&&Qn:r!=o&&0!=(3&a.type),i&bt.Host&&s===a);return null!==u?lr(e,o,u,a):or}function cr(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Mt(t)&&t.type===n)return u}return null}function lr(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof qn){const o=i;o.resolving&&function(t,e){throw new jn("200","Circular dependency in DI detected for "+t)}(yt(s[n]));const a=Xn(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?_t(o.injectImpl):null;ve(t,r,bt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=An(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&_t(u),Xn(a),o.resolving=!1,Se()}}return i}function hr(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function fr(t,e){return!(t&bt.Self||t&bt.Host&&e)}class dr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return sr(this._tNode,this._lView,t,void 0,e)}}function pr(t){const e=t;if(M(t))return()=>{const t=pr(U(e));return t?t():null};let n=Tn(e);if(null===n){const t=O(e);n=t&&t.factory}return n||null}function gr(t){return u(()=>{const e=t.prototype.constructor,n=e[nt]||pr(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[nt]||pr(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function mr(t){return t.ngDebugContext}function yr(t){return t.ngOriginalError}function br(t,...e){t.error(...e)}class vr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||br}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?mr(t)?mr(t):this._findContext(yr(t)):null}_findOriginalError(t){let e=yr(t);for(;e&&yr(e);)e=yr(e);return e}}function _r(t,e){t.__ngContext__=e}const wr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(N))();function Or(t){return{name:"document",target:t.ownerDocument}}function Er(t){return t instanceof Function?t():t}var Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Tr(t,e){return(void 0)(t,e)}function jr(t){const e=t[3];return Nt(e)?e[3]:e}function Ir(t){return Cr(t[13])}function xr(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!Nt(t);)t=t[4];return t}function Ar(t,e,n,r,i){if(null!=r){let s,o=!1;Nt(r)?s=r:kt(r)&&(o=!0,r=r[0]);const a=Vt(r);0===t&&null!==n?null==i?Mr(e,n,a):Ur(e,n,a,i||null,!0):1===t&&null!==n?Ur(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){Ft(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Vt(n)&&Ar(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Gr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Pr(t,e,n){return Ft(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Jt(i,-1)),n.splice(r,1)}function kr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Rr(s,r),e>0&&(t[n-1][4]=r[4]);const o=B(t,10+e);Gr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Nr(t,e){if(!(256&e[2])){const n=e[11];Ft(n)&&n.destroyNode&&Gr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Dr(t[1],t);for(;e;){let n=null;if(kt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)kt(e)&&Dr(e[1],e),e=e[3];null===e&&(e=t),kt(e)&&Dr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Dr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof qn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Vt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Ft(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Nt(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Lr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===K.None||e===K.Emulated)return null}return Bt(r,n)}(t,e.parent,n)}function Ur(t,e,n,r,i){Ft(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Mr(t,e,n){Ft(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):Mr(t,e,n)}function qr(t,e){return Ft(t)?t.parentNode(e):e.parentNode}function Vr(t,e,n){return zr(t,e,n)}let zr=function(t,e,n){return 40&t.type?Bt(t,n):null};function Br(t,e,n,r){const i=Lr(t,r,e),s=e[11],o=Vr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fr(s,i,n[a],o,!1);else Fr(s,i,n,o,!1)}function Hr(t,e){if(null!==e){const n=e.type;if(3&n)return Bt(e,t);if(4&n)return Wr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Hr(t,n);{const n=t[e.index];return Nt(n)?Wr(-1,n):Vt(n)}}if(32&n)return Tr(e,t)()||Vt(t[e.index]);{const n=t[16],r=n[6],i=jr(n),s=r.projection[e.projection];return null!=s?Hr(i,s):Hr(t,e.next)}}return null}function Wr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Hr(t,r)}return e[7]}function $r(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&_r(Vt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)$r(t,e,n.child,r,i,s,!1),Ar(e,t,i,a,s);else if(32&u){const o=Tr(n,r);let u;for(;u=o();)Ar(e,t,i,u,s);Ar(e,t,i,a,s)}else 16&u?Kr(t,e,r,n,i,s):Ar(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Gr(t,e,n,r,i,s){$r(n,r,t.firstChild,e,i,s,!1)}function Kr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ar(e,t,i,a[u],s);else $r(t,e,a,o[3],i,s,!0)}function Qr(t,e,n){Ft(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xr(t,e,n){Ft(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Yr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Jr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Yr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Zr(t){return 4===t.type&&"ng-template"!==t.value}function ti(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ei(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(zn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ti(t,u,n)||""===u&&1===e.length){if(ni(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Jr(t.attrs,c,n)){if(ni(r))return!1;o=!0}continue}const l=ri(8&r?"class":u,i,Zr(t),n);if(-1===l){if(ni(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Yr(e,c,0)||2&r&&c!==t){if(ni(r))return!1;o=!0}}}}else{if(!o&&!ni(r)&&!ni(u))return!1;if(o&&ni(u))continue;o=!1,r=u|1&r}}return ni(r)||o}function ni(t){return 0==(1&t)}function ri(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ii(t,e,n=!1){for(let r=0;r<e.length;r++)if(ei(t,e[r],n))return!0;return!1}function si(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function oi(t,e){return t?":not("+e.trim()+")":e}function ai(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ni(o)||(e+=oi(s,i),i=""),r=o,s=s||!ni(r);n++}return""!==i&&(e+=oi(s,i)),e}const ui={};function ci(t){li(ne(),ee(),je()+t,ce())}function li(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Dn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ln(e,r,0,n)}Ie(n)}function hi(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function di(t){return 2|t}function pi(t){return(131068&t)>>2}function gi(t,e){return-131069&t|e<<2}function mi(t){return 1|t}function yi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ye(i),n.contentQueries(2,e[s],s)}}}function bi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Yt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function vi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=se(),o=ae(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Zt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return oe(s,!0),s}function _i(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wi(t,e,n){_e(e);try{const r=t.viewQuery;null!==r&&Xi(1,r,n);const i=t.template;null!==i&&Si(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yi(t,e),t.staticViewQueries&&Xi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Te()}}function Oi(t,e,n,r){const i=e[2];if(256==(256&i))return;_e(e);const s=ce();try{Yt(e),Zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Si(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Dn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ln(e,n,0,null),Un(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=xr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Jt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=xr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Qt(n)&&Oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&yi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Dn(e,n)}else{const n=t.contentHooks;null!==n&&Ln(e,n,1),Un(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ie(~r);else{const i=r,s=n[++t],o=n[++t];pe(s,i),o(2,e[i])}}}finally{Ie(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Bi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Xi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Dn(e,n)}else{const n=t.viewHooks;null!==n&&Ln(e,n,2),Un(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Jt(e[3],-1))}finally{Te()}}function Ei(t,e,n,r){const i=e[10],s=!ce(),o=Kt(e);try{s&&!o&&i.begin&&i.begin(),o&&wi(t,e,r),Oi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Si(t,e,n,r,i){const s=je();try{Ie(-1),2&r&&e.length>20&&li(t,e,20,ce()),n(r,i)}finally{Ie(s)}}function Ti(t,e,n){te()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Jn(n,e),_r(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Mt(r);s&&Fi(e,n,r);const u=lr(e,t,a,n);_r(u,e),null!==o&&qi(0,a-i,u,r,0,o),s&&($t(n.index,e)[8]=u)}}(t,e,n,Bt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Zt.lFrame.currentDirectiveIndex;try{Ie(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ge(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ni(r,i)}}finally{Ie(-1),ge(o)}}(t,e,n))}function ji(t,e,n=Bt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ii(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=xi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function xi(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ui);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ci(t,e,n,r){const i=Ji(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Ai(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Pi(t,e,n,r,i,s,o,a){const u=Bt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ts(t,n,c,r,i),Lt(e)&&function(t,e){const n=$t(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ft(s)?s.setProperty(u,r,i):Bn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ri(t,e,n,r){let i=!1;if(te()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ii(n,o.selectors,!1)&&(i||(i=[]),nr(Jn(n,e),t,o.type),Mt(o)?(Di(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ui(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=_i(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Hn(n.mergedAttrs,c.hostAttrs),Mi(t,n,e,u,c),Li(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Zr(e)?null:Vi(n,i);s.push(c),o=Ai(n,u,o),a=Ai(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new jn("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Hn(n.mergedAttrs,n.attrs),i}function ki(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ni(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Di(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mt(e)&&(n[""]=t)}}function Ui(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Mi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Tn(i.type)),o=new qn(s,Mt(i),null);t.blueprint[r]=o,n[r]=o,ki(t,e,0,r,_i(t,n,i.hostVars,ui),i)}function Fi(t,e,n){const r=Bt(e,t),i=Ii(n),s=t[10],o=$i(t,bi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function qi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Bi(t,e){const n=$t(e,t);if(Qt(n)){const t=n[1];80&n[2]?Oi(t,n,t.template,n[8]):n[5]>0&&Hi(n)}}function Hi(t){for(let n=Ir(t);null!==n;n=xr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Oi(t,e,t.template,e[8])}else e[5]>0&&Hi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=$t(e[n],t);Qt(r)&&r[5]>0&&Hi(r)}}function Wi(t,e){const n=$t(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),wi(r,n,n[8])}function $i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Gi(t){for(;t;){t[2]|=64;const e=jr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ki(t,e,n){const r=e[10];r.begin&&r.begin();try{Oi(t,e,t.template,n)}catch(i){throw Zi(e,i),i}finally{r.end&&r.end()}}function Qi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Gt(n),i=r[1];Ei(i,r,i.template,n)}}(t[8])}function Xi(t,e,n){ye(0),e(t,n)}const Yi=(()=>Promise.resolve(null))();function Ji(t){return t[7]||(t[7]=[])}function Zi(t,e){const n=t[9],r=n?n.get(vr,null):null;r&&r.handleError(e)}function ts(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function es(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=g(i,t):2==s&&(r=g(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ns=new I("INJECTOR",-1);class rs{get(t,e=Ot){if(e===Ot){const e=new Error(`NullInjectorError: No provider for ${p(t)}!`);throw e.name="NullInjectorError",e}return e}}const is=new I("Set Injector scope."),ss={},os={},as=[];let us=void 0;function cs(){return void 0===us&&(us=new rs),us}function ls(t,e=null,n=null,r){return new hs(t,n,e||cs(),r)}class hs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&V(e,n=>this.processProvider(n,t,e)),V([t],t=>this.processInjectorType(t,[],i)),this.records.set(ns,ps(void 0,this));const s=this.records.get(is);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:p(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ot,n=bt.Default){this.assertNotDestroyed();const r=jt(this);try{if(!(n&bt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof I)&&_(t);e=n&&this.injectableDefInScope(n)?ps(fs(t),ss):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&bt.Self?cs():this.parent).get(t,e=n&bt.Optional&&e===Ot?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(p(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=p(e);if(Array.isArray(e))i=e.map(p).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):p(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Et,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{jt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(p(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=U(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{V(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];V(r,t=>this.processProvider(t,n,r||as))}}this.injectorDefTypes.add(s),this.records.set(s,ps(r.factory,ss));const a=r.providers;if(null!=a&&!o){const e=t;V(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ms(t=U(t))?t:U(t&&t.provide);const i=function(t,e,n){return gs(t)?ps(void 0,t.useValue):ps(ds(t),ss)}(t);if(ms(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ps(void 0,ss,!0),e.factory=()=>Ct(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ss&&(e.value=os,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function fs(t){const e=_(t),n=null!==e?e.factory:Tn(t);if(null!==n)return n;const r=O(t);if(null!==r)return r.factory;if(t instanceof I)throw new Error(`Token ${p(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=H(e,"?");throw new Error(`Can't resolve all parameters for ${p(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ds(t,e,n){let r=void 0;if(ms(t)){const e=U(t);return Tn(e)||fs(e)}if(gs(t))r=()=>U(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Ct(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>xt(U(t.useExisting));else{const e=U(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Tn(e)||fs(e);r=()=>new e(...Ct(t.deps))}var i;return r}function ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gs(t){return null!==t&&"object"==typeof t&&St in t}function ms(t){return"function"==typeof t}const ys=function(t,e,n){return function(t,e=null,n=null,r){const i=ls(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let bs=(()=>{class t{static create(t,e){return Array.isArray(t)?ys(t,e,""):ys(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Ot,t.NULL=new rs,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>xt(ns)}),t.__NG_ELEMENT_ID__=-1,t})();function vs(t,e){Nn(Gt(t)[1],ie())}function _s(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ws(t.inputs),e.declaredInputs=ws(t.declaredInputs),e.outputs=ws(t.outputs);const n=i.hostBindings;n&&Ss(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Os(t,s),o&&Es(t,o),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),Mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_s&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hn(i.hostAttrs,n=Hn(n,i.hostAttrs))}}(r)}function ws(t){return t===Q?{}:t===X?[]:t}function Os(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Es(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ss(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ts=null;function js(){if(!Ts){const t=N.Symbol;if(t&&t.iterator)Ts=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ts=n)}}}return Ts}class Is{constructor(t){this.wrapped=t}static wrap(t){return new Is(t)}static unwrap(t){return Is.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Is}}function xs(t){return!!Cs(t)&&(Array.isArray(t)||!(t instanceof Map)&&js()in t)}function Cs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function As(t,e,n){return t[e]=n}function Ps(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Rs(t,e,n,r){const i=Ps(t,e,n);return Ps(t,e+1,r)||i}function ks(t,e,n,r){const i=ee();return Ps(i,fe(),e)&&(ne(),function(t,e,n,r,i,s){const o=Bt(t,e);!function(t,e,n,r,i,s,o){if(null==s)Ft(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?mt(s):o(s,r||"",i);Ft(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(xe(),i,t,e,n,r)),ks}function Ns(t,e,n,r,i,s,o,a){const u=ee(),c=ne(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=vi(e,t,4,o||null,Xt(c,a));Ri(e,n,l,Xt(c,u)),Nn(e,l);const h=l.tViews=xi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];oe(h,!1);const f=u[11].createComment("");Br(c,u,f,h),_r(f,u),$i(u,u[l]=zi(f,u,f,h)),Ut(h)&&Ti(c,u,h),null!=o&&ji(u,h,a)}function Ds(t){return Wt(Zt.lFrame.contextLView,20+t)}function Ls(t,e=bt.Default){const n=ee();return null===n?xt(t,e):sr(ie(),n,U(t),e)}function Us(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(zn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ie(),t)}function Ms(t,e,n){const r=ee();return Ps(r,fe(),e)&&Pi(ne(),xe(),r,t,e,r[11],n,!1),Ms}function Fs(t,e,n,r,i){const s=i?"class":"style";ts(t,n,e.inputs[s],s,r)}function qs(t,e,n,r){const i=ee(),s=ne(),o=20+t,a=i[11],u=i[o]=Pr(a,e,Zt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=vi(e,t,2,i,Xt(a,s));return Ri(e,n,u,Xt(a,o)),null!==u.attrs&&es(u,u.attrs,!1),null!==u.mergedAttrs&&es(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];oe(c,!0);const l=c.mergedAttrs;null!==l&&Vn(a,u,l);const h=c.classes;null!==h&&Xr(a,u,h);const f=c.styles;null!==f&&Qr(a,u,f),64!=(64&c.flags)&&Br(s,i,u,c),0===Zt.lFrame.elementDepthCount&&_r(u,i),Zt.lFrame.elementDepthCount++,Ut(c)&&(Ti(s,i,c),function(t,e,n){if(Dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&ji(i,c)}function Vs(){let t=ie();ae()?ue():(t=t.parent,oe(t,!1));const e=t;Zt.lFrame.elementDepthCount--;const n=ne();n.firstCreatePass&&(Nn(n,t),Dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Fs(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Fs(n,e,ee(),e.stylesWithoutHost,!1)}function zs(t,e,n,r){qs(t,e,n,r),Vs()}function Bs(){return ee()}function Hs(t){return!!t&&"function"==typeof t.then}function Ws(t){return!!t&&"function"==typeof t.subscribe}function $s(t,e,n=!1,r){const i=ee(),s=ne(),o=ie();return function(t,e,n,r,i,s,o=!1,a){const u=Ut(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ji(e);let h=!0;if(3&r.type){const f=Bt(r,e),d=a?a(f):Q,p=d.target||f,g=l.length,m=a?t=>a(Vt(t[r.index])).target:r.index;if(Ft(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ks(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Ks(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),$s}function Gs(t,e,n){try{return!1!==e(n)}catch(r){return Zi(t,r),!1}}function Ks(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?$t(t.index,e):e;0==(32&e[2])&&Gi(o);let a=Gs(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Gs(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Qs(t=1){return function(t){return(Zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Zt.lFrame.contextLView))[8]}(t)}function Xs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ii(t,s,!0):si(r,s))return i}else n=i}return n}function Ys(t){const e=ee()[16][6];if(!e.projection){const n=e.projection=H(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Xs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Js(t,e=0,n){const r=ee(),i=ne(),s=vi(i,20+t,16,null,n||null);null===s.projection&&(s.projection=e),ue(),64!=(64&s.flags)&&function(t,e,n){Kr(e[11],0,e,n,Lr(t,n,e),Vr(n.parent||e[6],n,e))}(i,r,s)}const Zs=[];function to(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?fi(s):pi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];eo(t[a],e)&&(u=!0,t[a+1]=r?mi(n):di(n)),a=r?fi(n):pi(n)}u&&(t[n+1]=r?di(s):mi(s))}function eo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&G(t,e)>=0}const no={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ro(t){return t.substring(no.key,no.keyEnd)}function io(t){return t.substring(no.value,no.valueEnd)}function so(t,e){const n=no.textEnd;let r=no.key=oo(t,e,n);return n===r?-1:(r=no.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=ao(t,r,n),r=no.value=oo(t,r,n),r=no.valueEnd=function(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const u=t.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=uo(t,u,o,n):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=uo(t,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(t,r,n),ao(t,r,n))}function oo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ao(t,e,n,r){return(e=oo(t,e,n))<n&&e++,e}function uo(t,e,n,r){let i=-1,s=n;for(;s<r;){const n=t.charCodeAt(s++);if(n==e&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function co(t,e,n){return po(t,e,n,!1),co}function lo(t,e){return po(t,e,null,!0),lo}function ho(t){!function(t,e,n,r){const i=ne(),s=de(2);i.firstUpdatePass&&mo(i,null,s,false);const o=ee();if(n!==ui&&Ps(o,s,n)){const r=i.data[je()];if(Eo(r,false)&&!go(i,s)){let t=r.stylesWithoutHost;null!==t&&(n=g(t,n||"")),Fs(i,r,o,n,false)}else!function(t,e,n,r,i,s,o,a){i===ui&&(i=Zs);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,o!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&_o(t,e,n,r,d,p,false,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,r,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Zs;const r=[],i=Fe(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(vo,fo,t)}function fo(t,e){for(let n=function(t){return function(t){no.key=0,no.keyEnd=0,no.value=0,no.valueEnd=0,no.textEnd=t.length}(t),so(t,oo(t,0,no.textEnd))}(e);n>=0;n=so(e,n))vo(t,ro(e),io(e))}function po(t,e,n,r){const i=ee(),s=ne(),o=de(2);s.firstUpdatePass&&mo(s,t,o,r),e!==ui&&Ps(i,o,e)&&_o(s,s.data[je()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=p(Fe(t)))),t}(e,n),r,o)}function go(t,e){return e>=t.expandoStartIndex}function mo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[je()],o=go(t,n);Eo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bo(n=yo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=yo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==pi(r))return t[fi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=yo(null,t,e,n[1],r),n=bo(n,e.attrs,r),function(t,e,n,r){t[fi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bo(r,t[s].hostAttrs,n);return bo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fi(o),u=pi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||G(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=fi(t[a+1]);t[r+1]=hi(e,a),0!==e&&(t[e+1]=gi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=hi(a,0),0!==a&&(t[a+1]=gi(t[a+1],r)),a=r;else t[r+1]=hi(u,0),0===a?a=r:t[u+1]=gi(t[u+1],r),u=r;l&&(t[r+1]=di(t[r+1])),to(t,c,r,!0),to(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&G(s,e)>=0&&(n[r+1]=mi(n[r+1]))}(e,c,t,r,s),o=hi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function yo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=bo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),W(t,o,!!n||e[++s]))}return void 0===t?null:t}function vo(t,e,n){W(t,e,Fe(n))}function _o(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Oo(1==(1&c)?wo(u,e,n,i,pi(c),o):void 0)||(Oo(s)||2==(2&c)&&(s=wo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Ft(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Sr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Sr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,zt(je(),n),i,s))}function wo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===ui&&(l=c?Zs:void 0);let h=c?$(l,r):u===r?l:void 0;if(s&&!Oo(h)&&(h=$(e,r)),Oo(h)&&(a=h,o))return a;const f=t[i+1];i=o?fi(f):pi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=$(t,r))}return a}function Oo(t){return void 0!==t}function Eo(t,e){return 0!=(t.flags&(e?16:32))}function So(t,e=""){const n=ee(),r=ne(),i=t+20,s=r.firstCreatePass?vi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Ft(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Br(r,n,o,s),oe(s,!1)}function To(t){return jo("",t,""),To}function jo(t,e,n){const r=ee(),i=function(t,e,n,r){return Ps(t,fe(),n)?e+mt(n)+r:ui}(r,t,e,n);return i!==ui&&function(t,e,n){const r=zt(e,t);!function(t,e,n){Ft(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,je(),i),jo}function Io(t,e,n){const r=ee();return Ps(r,fe(),e)&&Pi(ne(),xe(),r,t,e,r[11],n,!0),Io}const xo=void 0;var Co=["en",[["a","p"],["AM","PM"],xo],[["AM","PM"],xo,xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xo,"{1} 'at' {0}",xo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ao={};function Po(t,e,n){"string"!=typeof e&&(n=e,e=t[Lo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ao[e]=t,n&&(Ao[e][Lo.ExtraData]=n)}function Ro(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Do(e);if(n)return n;const r=e.split("-")[0];if(n=Do(r),n)return n;if("en"===r)return Co;throw new Error(`Missing locale data for the locale "${t}".`)}function ko(t){return Ro(t)[Lo.CurrencyCode]||null}function No(t){return Ro(t)[Lo.PluralCase]}function Do(t){return t in Ao||(Ao[t]=N.ng&&N.ng.common&&N.ng.common.locales&&N.ng.common.locales[t]),Ao[t]}var Lo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Uo="en-US";function Mo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Uo=t.toLowerCase().replace(/_/g,"-"))}function Fo(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(let s=0;s<t.length;s++)Fo(t[s],e,n,r,i);else{const s=ne(),o=ee();let a=ms(t)?t:U(t.provide),u=ds(t);const c=ie(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(ms(t)||!t.multi){const r=new qn(u,i,Ls),d=zo(a,e,i?l:l+f,h);-1===d?(nr(Jn(c,o),s,a),qo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=zo(a,e,l+f,h),p=zo(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){nr(Jn(c,o),s,a);const l=function(t,e,n,r,i){const s=new qn(t,n,Ls);return s.multi=[],s.index=e,s.componentProviders=0,Vo(s,i,r&&!n),s}(i?Ho:Bo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),qo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else qo(s,t,d>-1?d:p,Vo(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function qo(t,e,n,r){const i=ms(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Vo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Bo(t,e,n,r){return Wo(this.multi,[])}function Ho(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=lr(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Wo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Wo(i,s);return s}function Wo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $o(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ne();if(r.firstCreatePass){const i=Mt(t);Fo(n,r.data,r.blueprint,i,!0),Fo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Go{}class Ko{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${p(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Qo=(()=>{class t{}return t.NULL=new Ko,t})();function Xo(...t){}function Yo(t,e){return new Zo(Bt(t,e))}const Jo=function(){return Yo(ie(),ee())};let Zo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Jo,t})();class ta{}let ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>na(),t})();const na=function(){const t=ee(),e=$t(ie().index,t);return function(t){return t[11]}(kt(e)?e:t)};let ra=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class ia{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sa=new ia("11.0.2");class oa{constructor(){}supports(t){return xs(t)}create(t){return new ua(t)}}const aa=(t,e)=>e;class ua{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||aa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<fa(n,r,i)?e:n,o=fa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xs(t))throw new Error(`Error trying to diff '${p(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[js()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ca(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ha),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ha),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ca{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class la{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ha{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new la,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class da{constructor(){}supports(t){return t instanceof Map||Cs(t)}create(){return new pa}}class pa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Cs(t)))throw new Error(`Error trying to diff '${p(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ga(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ga{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ma=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new oa])}),t})(),ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new da])}),t})();function ba(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Vt(s)),Nt(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ba(e[1],e,n,r)}const o=n.type;if(8&o)ba(t,e,n.child,r);else if(32&o){const t=Tr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=jr(t);ba(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class va{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return ba(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Nr(this._lView[1],this._lView)}onDestroy(t){Ci(this._lView[1],this._lView,null,t)}markForCheck(){Gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){le(!0);try{Ki(t,e,n)}finally{le(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Gr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class _a extends va{constructor(t){super(t),this._view=t}detectChanges(){Qi(this._view)}checkNoChanges(){!function(t){le(!0);try{Qi(t)}finally{le(!1)}}(this._view)}get context(){return null}}const wa=Ea;let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=wa,t.__ChangeDetectorRef__=!0,t})();function Ea(t=!1){return function(t,e,n){if(!n&&Lt(t)){const n=$t(t.index,e);return new va(n,n)}return 47&t.type?new va(e[16],e):null}(ie(),ee(),t)}const Sa=[new da],Ta=new ma([new oa]),ja=new ya(Sa),Ia=function(){return Pa(ie(),ee())};let xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ia,t})();const Ca=xa,Aa=class extends Ca{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=bi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),wi(e,n,t),new va(n)}};function Pa(t,e){return 4&t.type?new Aa(e,t,Yo(t,e)):null}class Ra{}class ka{}const Na=function(){return qa(ie(),ee())};let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=Na,t})();const La=Da,Ua=class extends La{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Yo(this._hostTNode,this._hostLView)}get injector(){return new dr(this._hostTNode,this._hostLView)}get parentInjector(){const t=er(this._hostTNode,this._hostLView);if($n(t)){const e=Kn(t,this._hostLView),n=Gn(t);return new dr(e[1].data[n+8],e)}return new dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ma(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Ra,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(Nt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ua(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],z(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Wr(i,s),a=n[11],u=qr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Gr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),z(Fa(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ma(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);n&&(B(Fa(this._lContainer),e),Nr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);return n&&null!=B(Fa(this._lContainer),e)?new va(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ma(t){return t[8]}function Fa(t){return t[8]||(t[8]=[])}function qa(t,e){let n;const r=e[t.index];if(Nt(r))n=r;else{let i;if(8&t.type)i=Vt(r);else{const n=e[11];i=n.createComment("");const r=Bt(t,e);Ur(n,qr(n,r),i,function(t,e){return Ft(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=zi(r,e,i,t),$i(e,n)}return new Ua(n,t,e)}const Va={};class za extends Qo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=pt(t);return new Wa(e,this.ngModule)}}function Ba(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ha=new I("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wr});class Wa extends Go{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ai).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ba(this.componentDef.inputs)}get outputs(){return Ba(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Va,i);return s!==Va||r===Va?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ta,qt),o=i.get(ra,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ft(t))return t.selectRootElement(e,n===K.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Pr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:wr,clean:Yi,playerHandler:null,flags:0},f=xi(0,null,null,1,0,null,null,null,null,null),d=bi(null,f,h,l,null,null,s,a,o,i);let p,g;_e(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=vi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(es(a,u,!0),null!==t&&(Vn(i,t,u),null!==a.classes&&Xr(i,t,a.classes),null!==a.styles&&Qr(i,t,a.styles)));const c=r.createRenderer(t,e),l=bi(n,Ii(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(nr(Jn(a,n),o,e.type),Di(o,a),Ui(a,n.length,1)),$i(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Vn(a,c,["ng-version",sa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ni(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Vn(a,c,t),e&&e.length>0&&Xr(a,c,e.join(" "))}if(g=Ht(f,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ie();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Mi(t,r,e,_i(t,e,1,null),n));const i=lr(e,t,r.directiveStart,r);_r(i,e);const s=Bt(r,e);return s&&_r(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=ie();e.contentQueries(1,o,t.directiveStart)}const a=ie();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ie(a.index),ki(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ni(e,o)),o}(t,this.componentDef,d,h,[vs]),wi(f,d,null)}finally{Te()}return new $a(this.componentType,p,Yo(g,d),d,g)}}class $a extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new _a(r),this.componentType=t}get injector(){return new dr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ga=new Map;class Ka extends Ra{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new za(this);const n=gt(t),r=t[et]||null;r&&Mo(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=ls(t,e,[{provide:Ra,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],p(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=bs.THROW_IF_NOT_FOUND,n=bt.Default){return t===bs||t===Ra||t===ns?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qa extends ka{constructor(t){super(),this.moduleType=t,null!==gt(t)&&function(t){const e=new Set;!function t(n){const r=gt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${p(e)} vs ${p(e.name)}`)}(i,Ga.get(i),n),Ga.set(i,n));const s=Er(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Ka(this.moduleType,t)}}function Xa(t,e,n,r){return Za(ee(),he(),t,e,n,r)}function Ya(t,e,n,r,i,s,o){return function(t,e,n,r,i,s,o,a,u){const c=e+n;return function(t,e,n,r,i,s){const o=Rs(t,e,n,r);return Rs(t,e+2,i,s)||o}(t,c,i,s,o,a)?As(t,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):Ja(t,c+4)}(ee(),he(),t,e,n,r,i,s,o)}function Ja(t,e){const n=t[e];return n===ui?void 0:n}function Za(t,e,n,r,i,s){const o=e+n;return Ps(t,o,i)?As(t,o+1,s?r.call(s,i):r(i)):Ja(t,o+1)}function tu(t,e){const n=ne();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new jn("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Tn(r.type)),o=_t(Ls);try{const t=Xn(!1),e=s();return Xn(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,e),e}finally{_t(o)}}function eu(t,e,n){const r=t+20,i=ee(),s=Wt(i,r);return function(t,e){return Is.isWrapped(e)&&(e=Is.unwrap(e),t[Zt.lFrame.bindingIndex]=ui),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Za(i,he(),e,s.transform,n,s):s.transform(n))}const nu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function ru(){return this._results[js()]()}class iu{constructor(){this.dirty=!0,this._results=[],this.changes=new nu,this.length=0;const t=js(),e=iu.prototype;e[t]||(e[t]=ru)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=q(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class su{constructor(t){this.queryList=t,this.matches=null}clone(){return new su(this.queryList)}setDirty(){this.queryList.setDirty()}}class ou{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ou(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==_u(t,e).matches&&this.queries[e].setDirty()}}class au{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class uu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new uu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class cu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new cu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,lu(e,i)),this.matchTNodeWithReadOption(t,e,cr(e,t,i,!1,!1))}else n===xa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,cr(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Zo||r===Da||r===xa&&4&e.type)this.addMatch(e.index,-2);else{const n=cr(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function lu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function hu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Yo(t,e):4&t.type?Pa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Zo?Yo(e,t):n===xa?Pa(e,t):n===Da?qa(e,t):void 0}(t,e,r):lr(t,t[1],n,e)}function fu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:hu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function du(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=fu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&du(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];du(n[1],n,i,r)}}}}}return r}function pu(t){const e=ee(),n=ne(),r=me();ye(r+1);const i=_u(n,r);if(t.dirty&&Kt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?du(n,e,r,[]):fu(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function gu(t,e,n){!function(t,e,n,r,i,s){t.firstCreatePass&&vu(t,new au(n,r,false,i),-1),bu(t,e)}(ne(),ee(),t,e,n)}function mu(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(vu(t,new au(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),bu(t,e)}(ne(),ee(),e,n,r,0,ie(),t)}function yu(){return t=ee(),e=me(),t[19].queries[e].queryList;var t,e}function bu(t,e){const n=new iu;Ci(t,e,n,n.destroy),null===e[19]&&(e[19]=new ou),e[19].queries.push(new su(n))}function vu(t,e,n){null===t.queries&&(t.queries=new uu),t.queries.track(new cu(e,n))}function _u(t,e){return t.queries.getByIndex(e)}function wu(t,e){return Pa(t,e)}function Ou(t=bt.Default){const e=Ea(!0);if(null!=e||t&bt.Optional)return e;In("ChangeDetectorRef")}const Eu=new I("Application Initializer");let Su=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Xo,this.reject=Xo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Hs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(xt(Eu,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Tu=new I("AppId"),ju={provide:Tu,useFactory:function(){return`${Iu()}${Iu()}${Iu()}`},deps:[]};function Iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xu=new I("Platform Initializer"),Cu=new I("Platform ID"),Au=new I("appBootstrapListener");let Pu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Ru=new I("LocaleId"),ku=new I("DefaultCurrencyCode");class Nu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Du=function(t){return new Qa(t)},Lu=Du,Uu=function(t){return Promise.resolve(Du(t))},Mu=function(t){const e=Du(t),n=Er(gt(t).declarations).reduce((t,e)=>{const n=pt(e);return n&&t.push(new Wa(n)),t},[]);return new Nu(e,n)},Fu=Mu,qu=function(t){return Promise.resolve(Mu(t))};let Vu=(()=>{class t{constructor(){this.compileModuleSync=Lu,this.compileModuleAsync=Uu,this.compileModuleAndAllComponentsSync=Fu,this.compileModuleAndAllComponentsAsync=qu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const zu=(()=>Promise.resolve(0))();function Bu(t){"undefined"==typeof Zone?zu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Hu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nu(!1),this.onMicrotaskEmpty=new nu(!1),this.onStable=new nu(!1),this.onError=new nu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=N.requestAnimationFrame,e=N.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(N,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ku(t),Gu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ku(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Qu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Xu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Qu(t),e.invoke(r,i,s,o,a)}finally{Xu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ku(t),Gu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,$u,Wu,Wu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Wu(){}const $u={};function Gu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ku(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Qu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xu(t){t._nesting--,Gu(t)}class Yu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nu,this.onMicrotaskEmpty=new nu,this.onStable=new nu,this.onError=new nu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ju=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hu.assertNotInAngularZone(),Bu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(xt(Hu))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),Zu=(()=>{class t{constructor(){this._applications=new Map,rc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return rc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class tc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ec(t){rc=t}let nc,rc=new tc;const ic=new I("AllowMultipleToken");class sc{constructor(t,e){this.name=t,this.token=e}}function oc(t,e,n=[]){const r="Platform: "+e,i=new I(r);return(e=[])=>{let s=ac();if(!s||s.injector.get(ic,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:is,useValue:"platform"});!function(t){if(nc&&!nc.destroyed&&!nc.injector.get(ic,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nc=t.get(uc);const e=t.get(xu,null);e&&e.forEach(t=>t())}(bs.create({providers:t,name:r}))}return function(t){const e=ac();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ac(){return nc&&!nc.destroyed?nc:null}let uc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Yu:("zone.js"===t?void 0:t)||new Hu({enableLongStackTrace:Qe(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Hu,useValue:n}];return n.run(()=>{const e=bs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(vr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>hc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Hs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Su);return t.runInitializers(),t.donePromise.then(()=>(Mo(i.injector.get(Ru,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=cc({},e);return function(t,e,n){const r=new Qa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(lc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${p(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(xt(bs))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function cc(t,e){return Array.isArray(e)?e.reduce(cc,t):Object.assign(Object.assign({},t),e)}let lc=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Qe(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Hu.assertNotInAngularZone(),Bu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Hu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Go?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ra),i=n.create(bs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Ju,null);return s&&i.injector.get(Zu).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Qe()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;hc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Au,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),hc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(xt(Hu),xt(Pu),xt(bs),xt(vr),xt(Qo),xt(Su))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function hc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fc{}class dc{}const pc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||pc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>mc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>mc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(xt(Vu),xt(dc,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function mc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const yc=function(t){return null},bc=oc(null,"core",[{provide:Cu,useValue:"unknown"},{provide:uc,deps:[bs]},{provide:Zu,deps:[]},{provide:Pu,deps:[]}]),vc=[{provide:lc,useClass:lc,deps:[Hu,Pu,bs,vr,Qo,Su]},{provide:Ha,deps:[Hu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Su,useClass:Su,deps:[[new h,Eu]]},{provide:Vu,useClass:Vu,deps:[]},ju,{provide:ma,useFactory:function(){return Ta},deps:[]},{provide:ya,useFactory:function(){return ja},deps:[]},{provide:Ru,useFactory:function(t){return Mo(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(Ru),new h,new d]]},{provide:ku,useValue:"USD"}];let _c=(()=>{class t{constructor(t){}}return t.\u0275mod=ct({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(xt(lc))},providers:vc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},itXk:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("z+Ro"),i=n("DH7j"),s=n("l7GE"),o=n("ZUHj"),a=n("yCtX");const u={};function c(...t){let e=void 0,n=void 0;return Object(r.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(u),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(o.a)(this,e,void 0,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===u?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jL29:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("Cfvw"),i=n("lJxs"),s=n("IzEk"),o=n("AytR"),a=n("abKY"),u=n("yGuB"),c=n("fXoL"),l=n("UbJi"),h=n("I/3d");let f=(()=>{class t{constructor(t,e){this.afAuth=t,this.afStore=e}createEmailUser(t){return Object(r.a)(this.afAuth.createUserWithEmailAndPassword(t.email,t.password)).pipe(this.createUserFromNewUserRequest(t))}signInWithEmail(t){return Object(r.a)(this.afAuth.signInWithEmailAndPassword(t.email,t.password))}getUserDocumentById(t){return Object(r.a)(this.getUserDocumentReference(t).get()).pipe(this.mapDocumentToUser())}getUserDocumentSetBatchAction(t){return new a.b(this.getUserDocumentReference(t.id).ref,t)}userIsSignedIn(){return this.getCurrentSignedInUser().pipe(Object(i.a)(t=>null!==t))}getCurrentSignedInUser(){return this.afAuth.user.pipe(Object(s.a)(1))}signOutUser(){return Object(r.a)(this.afAuth.signOut())}addFrameToUserUpdateBatchAction(t,e){return new a.c(this.getUserDocumentReference(e).ref,{frames:u.a.arrayUnion(t)})}getUserDocumentReference(t){return this.afStore.collection(o.a.firebaseCollections.users.name).doc(t)}createUserFromNewUserRequest(t){return Object(i.a)(e=>({id:e.user.uid,username:t.username,email:t.email,imageIds:[],frames:[]}))}mapDocumentToUser(){return Object(i.a)(t=>{if(t.exists)return t.data();throw new Error("No associated user document was found for the user id")})}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(l.a),c.Pb(h.a))},t.\u0275prov=c.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},jhN1:function(t,e,n){"use strict";n.d(e,"a",function(){return U}),n.d(e,"b",function(){return P}),n.d(e,"c",function(){return D}),n.d(e,"d",function(){return w});var r=n("ofXK"),i=n("fXoL");class s extends r.p{constructor(){super()}supportsDOMEvents(){return!0}}class o extends s{static makeCurrent(){Object(r.t)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=u||(u=document.querySelector("base"),u)?u.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.s)(document.cookie,t)}}let a,u=null;const c=new i.q("TRANSITION_ID"),l=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=Object(r.r)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.d,i.r],multi:!0}];class h{static init(){Object(i.W)(new h)}addToWindow(t){i.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.nb.getAllAngularRootElements=()=>t.getAllRootElements(),i.nb.frameworkStabilizers||(i.nb.frameworkStabilizers=[]),i.nb.frameworkStabilizers.push(t=>{const e=i.nb.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r.r)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const f=new i.q("EventManagerPlugins");let d=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(f),i.Pb(i.z))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})();class p{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r.r)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})(),m=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(r.r)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(r.d))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})();const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function v(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?v(t,i,n):(i=i.replace(b,t),n.push(i))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let w=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new O(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new E(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.Q.ShadowDom:return new S(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=v(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(d),i.Pb(m),i.Pb(i.c))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})();class O{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.F.DashCase|i.F.Important)?t.style.setProperty(e,n,r&i.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class E extends O{constructor(t,e,n,r){super(t),this.component=n;const i=v(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class S extends O{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=v(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let T=(()=>{class t extends p{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(r.d))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})();const j=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},x={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},C={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let A=(()=>{class t extends p{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.r)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(j.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&x.hasOwnProperty(e)&&(e=x[e]))}return I[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),j.forEach(r=>{r!=n&&(0,C[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(r.d))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Eb)({factory:function(){return Object(i.Pb)(k)},token:t,providedIn:"root"}),t})();function R(t){return new k(t.get(r.d))}let k=(()=>{class t extends P{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.H.NONE:return e;case i.H.HTML:return Object(i.cb)(e,"HTML")?Object(i.ub)(e):Object(i.ab)(this._doc,String(e));case i.H.STYLE:return Object(i.cb)(e,"Style")?Object(i.ub)(e):e;case i.H.SCRIPT:if(Object(i.cb)(e,"Script"))return Object(i.ub)(e);throw new Error("unsafe value used in a script context");case i.H.URL:return Object(i.mb)(e),Object(i.cb)(e,"URL")?Object(i.ub)(e):Object(i.bb)(String(e));case i.H.RESOURCE_URL:if(Object(i.cb)(e,"ResourceURL"))return Object(i.ub)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i.db)(t)}bypassSecurityTrustStyle(t){return Object(i.gb)(t)}bypassSecurityTrustScript(t){return Object(i.fb)(t)}bypassSecurityTrustUrl(t){return Object(i.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(i.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(r.d))},t.\u0275prov=Object(i.Eb)({factory:function(){return R(Object(i.Pb)(i.o))},token:t,providedIn:"root"}),t})();const N=[{provide:i.B,useValue:r.q},{provide:i.C,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.d,useFactory:function(){return Object(i.sb)(document),document},deps:[]}],D=Object(i.R)(i.V,"browser",N),L=[[],{provide:i.Y,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:f,useClass:T,multi:!0,deps:[r.d,i.z,i.B]},{provide:f,useClass:A,multi:!0,deps:[r.d]},[],{provide:w,useClass:w,deps:[d,m,i.c]},{provide:i.E,useExisting:w},{provide:g,useExisting:m},{provide:m,useClass:m,deps:[r.d]},{provide:i.L,useClass:i.L,deps:[i.z]},{provide:d,useClass:d,deps:[f,i.z]},[]];let U=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:c,useExisting:i.c},l]}}}return t.\u0275mod=i.Gb({type:t}),t.\u0275inj=i.Fb({factory:function(e){return new(e||t)(i.Pb(t,12))},providers:L,imports:[r.c,i.f]}),t})();"undefined"!=typeof window&&window},jtHE:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("XNiG"),i=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),u=n("Ylt2");class c extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?c=s.a.EMPTY:(this.observers.push(t),c=new u.a(this,t)),r&&t.add(t=new o.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class l{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},l7P3:function(t,e,n){"use strict";n.d(e,"a",function(){return b}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return W}),n.d(e,"e",function(){return H}),n.d(e,"f",function(){return Q}),n.d(e,"g",function(){return J}),n.d(e,"h",function(){return nt}),n.d(e,"i",function(){return Ct}),n.d(e,"j",function(){return At}),n.d(e,"k",function(){return xt}),n.d(e,"l",function(){return $}),n.d(e,"m",function(){return z}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return lt}),n.d(e,"p",function(){return Mt}),n.d(e,"q",function(){return ut}),n.d(e,"r",function(){return Ut}),n.d(e,"s",function(){return g}),n.d(e,"t",function(){return it});var r=n("fXoL"),i=n("2Vo4"),s=n("HDdC"),o=n("XNiG"),a=n("qgXg"),u=n("pxpQ"),c=n("zp1y"),l=n("Kqap"),h=n("lJxs"),f=n("/uUt");const d={};function p(t,e){if(d[t]=(d[t]||0)+1,"function"==typeof e)return m(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return m(t,()=>({type:t}));case"props":return m(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function g(){return{_as:"props",_p:void 0}}function m(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const y="@ngrx/store/init";let b=(()=>{class t extends i.a{constructor(){super({type:y})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const v=[b],_=new r.q("@ngrx/store Internal Root Guard"),w=new r.q("@ngrx/store Internal Initial State"),O=new r.q("@ngrx/store Initial State"),E=new r.q("@ngrx/store Reducer Factory"),S=new r.q("@ngrx/store Internal Reducer Factory Provider"),T=new r.q("@ngrx/store Initial Reducers"),j=new r.q("@ngrx/store Internal Initial Reducers"),I=new r.q("@ngrx/store Store Features"),x=new r.q("@ngrx/store Internal Store Reducers"),C=new r.q("@ngrx/store Internal Feature Reducers"),A=new r.q("@ngrx/store Internal Feature Configs"),P=new r.q("@ngrx/store Internal Store Features"),R=new r.q("@ngrx/store Internal Feature Reducers Token"),k=new r.q("@ngrx/store Feature Reducers"),N=new r.q("@ngrx/store User Provided Meta Reducers"),D=new r.q("@ngrx/store Meta Reducers"),L=new r.q("@ngrx/store Internal Resolved Meta Reducers"),U=new r.q("@ngrx/store User Runtime Checks Config"),M=new r.q("@ngrx/store Internal User Runtime Checks Config"),F=new r.q("@ngrx/store Internal Runtime Checks"),q=new r.q("@ngrx/store Check if Action types are unique");function V(t,e={}){const n=Object.keys(t),r={};for(let s=0;s<n.length;s++){const e=n[s];"function"==typeof t[e]&&(r[e]=t[e])}const i=Object.keys(r);return function(t,n){t=void 0===t?e:t;let s=!1;const o={};for(let e=0;e<i.length;e++){const a=i[e],u=t[a],c=(0,r[a])(u,n);o[a]=c,s=s||c!==u}return s?o:t}}function z(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function B(t,e){return Array.isArray(e)&&e.length>0&&(t=z.apply(null,[...e,t])),(e,n)=>{const r=t(e);return(t,e)=>r(t=void 0===t?n:t,e)}}class H extends s.a{}class W extends b{}const $="@ngrx/store/update-reducers";let G=(()=>{class t extends i.a{constructor(t,e,n,r){super(r(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=r}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:r,initialState:i,key:s})=>{const o="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?z(...t):t=>t;return(t,n)=>(t=e(t),(e,r)=>t(e=void 0===e?n:e,r))}(r)(e,i):B(n,r)(e,i);return t[s]=o,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:$,features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(W),r.Pb(O),r.Pb(T),r.Pb(E))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const K=[G,{provide:H,useExisting:G},{provide:W,useExisting:b}];let Q=(()=>{class t extends o.a{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return X(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const X=r.Nb(Q),Y=[Q];class J extends s.a{}let Z=(()=>{class t extends i.a{constructor(t,e,n,r){super(r);const i={state:r},s=t.pipe(Object(u.b)(a.b)).pipe(Object(c.a)(e)).pipe(Object(l.a)(tt,i));this.stateSubscription=s.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(b),r.Pb(H),r.Pb(Q),r.Pb(O))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t.INIT=y,t})();function tt(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}const et=[Z,{provide:J,useExisting:Z}];let nt=(()=>{class t extends s.a{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return it.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(J),r.Pb(b),r.Pb(G))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const rt=[nt];function it(t,e,...n){return function(r){let i;if("string"==typeof t){const s=[e,...n].filter(Boolean);i=r.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(h.a)(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=null!=r?r[t[i]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(n)}(t,...s))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);i=r.pipe(Object(h.a)(n=>t(n,e)))}return i.pipe(Object(f.a)())}}function st(t,e){return t===e}function ot(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}function at(t,e=st,n=st){let r,i=null,s=null;return{memoized:function(){if(void 0!==r)return r.result;if(!i)return s=t.apply(null,arguments),i=arguments,s;if(!ot(arguments,i,e))return s;const o=t.apply(null,arguments);return i=arguments,n(s,o)?s:(s=o,o)},reset:function(){i=null,s=null},setResult:function(t){r={result:t}},clearResult:function(){r=void 0}}}function ut(...t){return function(t,e={stateFn:ct}){return function(...n){let r=n;if(Array.isArray(r[0])){const[t,...e]=r;r=[...t,...e]}const i=r.slice(0,r.length-1),s=r[r.length-1],o=i.filter(t=>t.release&&"function"==typeof t.release),a=t(function(...t){return s.apply(null,t)}),u=at(function(t,n){return e.stateFn.apply(null,[t,i,n,a])});return Object.assign(u.memoized,{release:function(){u.reset(),a.reset(),o.forEach(t=>t.release())},projector:a.memoized,setResult:u.setResult,clearResult:u.clearResult})}}(at)(...t)}function ct(t,e,n,r){if(void 0===n){const n=e.map(e=>e(t));return r.memoized.apply(null,n)}const i=e.map(e=>e(t,n));return r.memoized.apply(null,[...i,n])}function lt(t){return ut(e=>{const n=e[t];return!Object(r.U)()||t in e||console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},t=>t)}const ht="https://ngrx.io/guide/store/configuration/runtime-checks";function ft(t){return void 0===t}function dt(t){return null===t}function pt(t){return Array.isArray(t)}function gt(t){return"object"==typeof t&&null!==t}function mt(t){return"function"==typeof t}function yt(t){Object.freeze(t);const e=mt(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!gt(e)&&!mt(e)||Object.isFrozen(e)||yt(e)}}),t}function bt(t,e=[]){return(ft(t)||dt(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;const i=t[r];return function(t){return mt(t)&&t.hasOwnProperty("\u0275cmp")}(i)?n:!(ft(i)||dt(i)||function(t){return"number"==typeof t}(i)||function(t){return"boolean"==typeof t}(i)||function(t){return"string"==typeof t}(i)||pt(i))&&(function(t){if(!function(t){return gt(t)&&!pt(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(i)?bt(i,[...e,r]):{path:[...e,r],value:i})},!1)}function vt(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${ht}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function _t(t){return Object(r.U)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function wt({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,r){e.action(r)&&vt(bt(r),"action");const i=t(n,r);return e.state()&&vt(bt(i),"state"),i}}(n,{action:e=>t&&!Et(e),state:()=>e}):n}function Ot({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,r){const i=e.action(r)?yt(r):r,s=t(n,i);return e.state()?yt(s):s}}(n,{action:e=>t&&!Et(e),state:()=>e}):n}function Et(t){return t.type.startsWith("@ngrx")}function St({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,i){if(e.action(i)&&!r.z.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${ht}#strictactionwithinngzone`);return t(n,i)}}(e,{action:e=>t&&!Et(e)}):e}function Tt(){return[{provide:q,multi:!0,deps:[F],useFactory:It}]}function jt(t){return t}function It(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(d).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${ht}#strictactiontypeuniqueness`)}let xt=(()=>{class t{constructor(t,e,n,r,i,s){}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(b),r.Pb(H),r.Pb(Q),r.Pb(nt),r.Pb(_,8),r.Pb(q,8))}}),t})(),Ct=(()=>{class t{constructor(t,e,n,r,i){this.features=t,this.featureReducers=e,this.reducerManager=n;const s=t.map((t,n)=>{const r=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:r,initialState:Nt(t.initialState)})});n.addFeatures(s)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(P),r.Pb(k),r.Pb(G),r.Pb(xt),r.Pb(q,8))}}),t})(),At=(()=>{class t{static forRoot(t,e={}){return{ngModule:xt,providers:[{provide:_,useFactory:Lt,deps:[[nt,new r.A,new r.I]]},{provide:w,useValue:e.initialState},{provide:O,useFactory:Nt,deps:[w]},{provide:j,useValue:t},{provide:x,useExisting:t instanceof r.q?t:j},{provide:T,deps:[r.r,j,[new r.p(x)]],useFactory:Pt},{provide:N,useValue:e.metaReducers?e.metaReducers:[]},{provide:L,deps:[D,N],useFactory:Dt},{provide:S,useValue:e.reducerFactory?e.reducerFactory:V},{provide:E,deps:[S,L],useFactory:B},v,K,Y,et,rt,(n=e.runtimeChecks,[{provide:M,useValue:n},{provide:U,useFactory:jt,deps:[M]},{provide:F,deps:[U],useFactory:_t},{provide:D,multi:!0,deps:[F],useFactory:Ot},{provide:D,multi:!0,deps:[F],useFactory:wt},{provide:D,multi:!0,deps:[F],useFactory:St}]),Tt()]};var n}static forFeature(t,e,n={}){return{ngModule:Ct,providers:[{provide:A,multi:!0,useValue:n},{provide:I,multi:!0,useValue:{key:t,reducerFactory:n instanceof r.q||!n.reducerFactory?V:n.reducerFactory,metaReducers:n instanceof r.q||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof r.q||!n.initialState?void 0:n.initialState}},{provide:P,deps:[r.r,A,I],useFactory:Rt},{provide:C,multi:!0,useValue:e},{provide:R,multi:!0,useExisting:e instanceof r.q?e:C},{provide:k,multi:!0,deps:[r.r,C,[new r.p(R)]],useFactory:kt},Tt()]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})();function Pt(t,e){return e instanceof r.q?t.get(e):e}function Rt(t,e,n){return n.map((n,i)=>{if(e[i]instanceof r.q){const r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:V,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function kt(t,e){return e.map(e=>e instanceof r.q?t.get(e):e)}function Nt(t){return"function"==typeof t?t():t}function Dt(t,e){return t.concat(e)}function Lt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Ut(...t){return{reducer:t.pop(),types:t.reduce((t,e)=>[...t,e.type],[])}}function Mt(t,...e){const n=new Map;for(let r of e)for(let t of r.types)if(n.has(t)){const e=n.get(t);n.set(t,(t,n)=>r.reducer(e(t,n),n))}else n.set(t,r.reducer);return function(e=t,r){const i=n.get(r.type);return i?i(e,r):e}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lf9s:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("fXoL"),i=n("I/3d");let s=(()=>{class t{constructor(t){this.afStore=t}GetCreateFrameRequest(t){return{data:t,id:this.afStore.createId()}}GetCreateFrameImageRequest(t,e){return{frameId:t,id:this.afStore.createId(),data:e}}CreateRequestToModel(t){return Object.assign(Object.assign(Object.assign({},t),t.data),{images:[]})}CreateImageRequestToModel(t){return Object.assign({id:t.id},t.data)}CreateFrameModel(t,e){return Object.assign(Object.assign({},t.data()),{id:t.id,images:this.CreateImageModels(e)})}CreateImageModels(t){return t.map(t=>Object.assign({id:t.id},t.data()))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(i.a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})()},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mnDg:function(t,e,n){"use strict";n.d(e,"b",function(){return dt}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i});var r={};n.r(r),n.d(r,"NewFrame",function(){return u}),n.d(r,"NewFrameImage",function(){return c}),n.d(r,"SelectFrame",function(){return l}),n.d(r,"LoadFrame",function(){return h}),n.d(r,"JoinFrame",function(){return f}),n.d(r,"JoinFrameNoOp",function(){return d}),n.d(r,"UpdateSideNavVisibility",function(){return p}),n.d(r,"UploadImagesRequest",function(){return g}),n.d(r,"UpdateUploadPercentageRequest",function(){return m}),n.d(r,"LiveImageListenerRequest",function(){return y}),n.d(r,"LiveImageListenerNewImages",function(){return b}),n.d(r,"LiveImageListenerStopRequest",function(){return v});var i={};n.r(i),n.d(i,"SelectFrameState",function(){return _}),n.d(i,"SelectFrameStoreIsLoading",function(){return w}),n.d(i,"SelectSelectedFrame",function(){return O}),n.d(i,"SelectUploadPercentage",function(){return E}),n.d(i,"SelectSideNavVisibility",function(){return S}),n.d(i,"SelectFrameImages",function(){return T});var s=n("uFlw"),o=n("l7P3"),a=n("ORJA");const u=Object(a.a)("[Frame] Create New Frame"),c=Object(a.a)("[Frame] Create New Image"),l=Object(a.a)("[Frame] Select Frame"),h=Object(a.a)("[Frame] Load Frame"),f=Object(a.a)("[Frame] Join Frame"),d=Object(o.n)("[Frame] Join Frame NoOp"),p=Object(o.n)("[Frame] Update SideNav Visibility",Object(o.s)()),g=Object(o.n)("[Frame] Upload Images",Object(o.s)()),m=Object(o.n)("[Frame] Update Image Upload Percentage Request",Object(o.s)()),y=Object(o.n)("[Frame] Live Image Listener Request"),b=Object(o.n)("[Frame] Live Image Listener Request Success",Object(o.s)()),v=Object(o.n)("[Frame] Live Image Listener Stop Request"),_=Object(o.o)(s.a),w=Object(o.q)(_,t=>t.isLoading),O=Object(o.q)(_,t=>t.frames.find(e=>e.id===t.selectedFrameId)),E=Object(o.q)(_,t=>t.imageUploadPercentage),S=Object(o.q)(_,t=>t.showSideNav),T=Object(o.q)(O,t=>t.images);var j=n("ofXK"),I=n("9jGm");function x(t,e){const n=[...t.frames],r=n.findIndex(e=>e.id===t.selectedFrameId),i=n.splice(r,1).pop(),s=Object.assign(Object.assign({},i),{images:[...i.images,...e]});return Object.assign(Object.assign({},t),{frames:[...n,s],isLoading:!1,error:null})}const C=t=>Object.assign(Object.assign({},t),{isLoading:!0,error:null}),A=Object(o.p)(s.b,Object(o.r)(u.Request,C),Object(o.r)(u.RequestSuccess,(t,{successResponse:e})=>Object.assign(Object.assign({},t),{frames:[...t.frames,e],selectedFrameId:e.id,isLoading:!1,error:null})),Object(o.r)(u.RequestFailure,(t,{failureResponse:e})=>Object.assign(Object.assign({},t),{isLoading:!1,error:e})),Object(o.r)(c.Request,C),Object(o.r)(c.RequestSuccess,(t,{successResponse:e})=>x(t,[e])),Object(o.r)(c.RequestFailure,(t,{failureResponse:e})=>Object.assign(Object.assign({},t),{isLoading:!1,error:e})),Object(o.r)(l.RequestSuccess,(t,{successResponse:e})=>Object.assign(Object.assign({},t),{selectedFrameId:e})),Object(o.r)(h.Request,C),Object(o.r)(h.RequestSuccess,(t,{successResponse:e})=>Object.assign(Object.assign({},t),{frames:[...t.frames,e],selectedFrameId:e.id,isLoading:!1,error:null})),Object(o.r)(h.RequestFailure,(t,{failureResponse:e})=>Object.assign(Object.assign({},t),{isLoading:!1,error:e})),Object(o.r)(m,(t,{percentage:e})=>Object.assign(Object.assign({},t),{imageUploadPercentage:e})),Object(o.r)(p,(t,{visible:e})=>Object.assign(Object.assign({},t),{showSideNav:e})),Object(o.r)(b,(t,{newImages:e})=>x(t,e)));function P(t,e){return A(t,e)}var R=n("XNiG"),k=n("LRne"),N=n("mCNh"),D=n("VRyK"),L=n("itXk"),U=n("zp1y"),M=n("lJxs"),F=n("XqQ8"),q=n("JIr8"),V=n("vkgz"),z=n("5+tZ"),B=n("eIep"),H=n("1G5W"),W=n("NJ9Y"),$=n("CqXF"),G=n("+2IB"),K=n("YxpS"),Q=n("fXoL"),X=n("cp0P"),Y=n("Cfvw"),J=n("xgIS"),Z=n("zP0r"),tt=n("IzEk"),et=n("AytR"),nt=n("abKY"),rt=n("yGuB"),it=n("I/3d"),st=n("lf9s"),ot=n("Vaw3");let at=(()=>{class t{constructor(t,e,n){this.afStore=t,this.frameTranslator=e,this.afStorage=n}loadFrame(t){const e=this.getFrameDocumentReference(t).get(),n=this.getFrameImageCollectionReference(t).get();return Object(X.a)(e,n).pipe(Object(M.a)(([t,e])=>this.frameTranslator.CreateFrameModel(t,e.docs)))}uploadImages(t,e){const n=et.a.imageUploadProperties.cacheControlValues.reduce((t,e,n,r)=>t+e+(n===r.length-1?"":", "),""),r=t.map(t=>this.getImageDeminsions(t).pipe(Object(M.a)(r=>{const i=e+"/"+(new Date).toUTCString()+"-"+t.name;return{imageReference:this.afStorage.ref(i),uploadTask:this.afStorage.upload(i,t,{cacheControl:n}),storagePath:i,deminsions:r}})));return Object(X.a)(r)}getLiveImageListener(t){return this.getFrameImageCollectionReference(t).snapshotChanges().pipe(Object(Z.a)(1),Object(M.a)(t=>t.map(t=>t.payload.doc)),Object(M.a)(t=>this.frameTranslator.CreateImageModels(t)))}getFrameIdByAccessToken(t){const e=this.getFrameCollectionReference().ref.where("accessToken.token","==",t.toUpperCase()).limit(1).get();return Object(Y.a)(e)}getFrameRequest(t,e){const n={name:e,creator:{userId:t.id,usesrname:t.username},participants:[],accessToken:this.getFrameAccessToken()};return this.frameTranslator.GetCreateFrameRequest(n)}getFrameDocumentSetBatchAction(t){return new nt.b(this.getFrameDocumentReference(t.id).ref,t.data)}getFrameImageDocumentSetBatchAction(t){return new nt.b(this.getFrameImageDocumentReference(t.frameId,t.id).ref,t.data)}addParticipantToFrameUpdateBatchAction(t,e){const n={userId:e.id,usesrname:e.username};return new nt.c(this.getFrameDocumentReference(t).ref,{participants:rt.a.arrayUnion(n)})}getImageDeminsions(t){const e=new FileReader;return e.readAsArrayBuffer(t),Object(J.a)(e,"load").pipe(Object(tt.a)(1),Object(z.a)(()=>{const n=this.toBase64(e.result),r=new Image(100,100);return r.src=`data:${t.type};base64,${n}`,Object(J.a)(r,"load").pipe(Object(tt.a)(1),Object(M.a)(()=>({width:r.naturalWidth,height:r.naturalHeight})))}))}toBase64(t){let e="";return new Uint8Array(t).forEach(t=>e+=String.fromCharCode(t)),window.btoa(e)}getFrameAccessToken(){const t=new Date;return t.setDate(t.getDate()+60),{token:(1e64*Math.random()).toString(36).substr(0,6).toUpperCase(),expiresUtc:t.toUTCString()}}getFrameCollectionReference(){return this.afStore.collection(et.a.firebaseCollections.frames.name)}getFrameDocumentReference(t){return this.getFrameCollectionReference().doc(t)}getFrameImageDocumentReference(t,e=null){return this.getFrameImageCollectionReference(t).doc(e)}getFrameImageCollectionReference(t){const e=et.a.firebaseCollections.frames.images.name;return this.getFrameDocumentReference(t).collection(e)}}return t.\u0275fac=function(e){return new(e||t)(Q.Pb(it.a),Q.Pb(st.a),Q.Pb(ot.a))},t.\u0275prov=Q.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ut=n("PUca");let ct=(()=>{class t{CreateUserFrameMetadataFromCreateFrameRequest(t){return{frameId:t.id,name:t.data.name,permissions:[ut.a.creator]}}CreateUserFrameMetadataForJoiningFrame(t){return{frameId:t.id,name:t.data().name,permissions:[ut.a.contributor]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Q.Eb({token:t,factory:t.\u0275fac}),t})();var lt=n("jL29"),ht=n("v2G1");let ft=(()=>{class t{constructor(t,e,n,r,i,o,a){this.actions$=t,this.store$=e,this.frameService=n,this.frameTranslator=r,this.userTranslator=i,this.authenticationService=o,this.alertService=a,this.liveListenerCork$=new R.a,this.uploadImages$=Object(I.c)(()=>this.actions$.pipe(Object(I.d)(g),Object(U.a)(this.store$),Object(M.a)(([t,e])=>[t.Images,e]),this.handleImageUpload())),this.createNewFrame$=Object(I.c)(()=>this.actions$.pipe(Object(I.d)(u.Request),Object(U.a)(this.store$),Object(M.a)(([t,e])=>this.frameService.getFrameRequest(e[K.a].currentUser,t.request)),Object(F.a)(t=>this.OrchestrateFrameCreation(t).pipe(Object(M.a)(t=>u.RequestSuccess({successResponse:t})),Object(q.a)(t=>Object(k.a)(u.RequestFailure({failureResponse:t.message}))),Object(V.a)({complete:()=>this.alertService.alert({message:"New Frame Created!",type:"success"}),error:()=>this.alertService.alert({message:"Something Went Wrong!",type:"error"})}))))),this.createNewFrameImage$=Object(I.c)(()=>this.actions$.pipe(Object(I.d)(c.Request),Object(M.a)(t=>t.request),Object(z.a)(t=>this.OrchestrateFrameImageCreation(t)),Object(M.a)(t=>c.RequestSuccess({successResponse:t})),Object(q.a)(t=>Object(k.a)(c.RequestFailure({failureResponse:t.message}))))),this.frameSelect$=Object(I.c)(()=>this.actions$.pipe(Object(I.d)(l.Request),Object(U.a)(this.store$),Object(M.a)(([t,e])=>{const n=t.request;return void 0===e[s.a].frames.find(t=>t.id===n)?h.Request({request:n}):l.RequestSuccess({successResponse:n})}),Object(q.a)(t=>Object(k.a)(l.RequestFailure({failureResponse:t.message}))))),this.loadFrame$=Object(I.c)(()=>this.actions$.pipe(Object(I.d)(h.Request),Object(M.a)(t=>t.request),Object(z.a)(t=>this.frameService.loadFrame(t)),Object(M.a)(t=>h.RequestSuccess({successResponse:t})),Object(q.a)(t=>Object(k.a)(h.RequestFailure({failureResponse:t.message}))))),this.liveImageListener$=Object(I.c)(()=>this.actions$.pipe(Object(I.d)(y),Object(U.a)(this.store$),Object(M.a)(([t,e])=>e[s.a].selectedFrameId),Object(B.a)(t=>this.frameService.getLiveImageListener(t).pipe(this.getOnlyNewImages(),Object(H.a)(this.liveListenerCork$.asObservable()))),Object(M.a)(t=>b({newImages:t})))),this.liveImageListenerStop$=Object(I.c)(()=>this.actions$.pipe(Object(I.d)(v),Object(V.a)(()=>this.liveListenerCork$.next(!0))),{dispatch:!1}),this.joinFrame$=Object(I.c)(()=>this.actions$.pipe(Object(I.d)(f.Request),Object(z.a)(t=>this.frameService.getFrameIdByAccessToken(t.request)),Object(U.a)(this.store$),this.joinFrameIfEligible()))}handleImageUpload(){return Object(N.a)(Object(z.a)(([t,e])=>this.frameService.uploadImages(t,e[K.a].currentUser.id).pipe(Object(z.a)(t=>{const n=this.createFrameImageOnUploadComplete(t,e);n.push(this.createUploadPercentageTracker(t));const r=t.length>1?"s":"";return Object(D.a)(...n).pipe(Object(V.a)({complete:()=>this.alertService.alert({message:`Image${r} Uploaded Successfully!`,type:"success"})}))}))))}createUploadPercentageTracker(t){return Object(L.b)(...this.getUploadSnapshots(t)).pipe(Object(M.a)(t=>{const e=t.reduce((t,e)=>t+e,0)/t.length;return m({percentage:e>=100?null:e})}))}getUploadSnapshots(t){return t.map(t=>t.uploadTask.percentageChanges())}createFrameImageOnUploadComplete(t,e){const n=e[K.a].currentUser.username,r=e[s.a].selectedFrameId,i=e[K.a].currentUser.id;return t.map(t=>t.uploadTask.snapshotChanges().pipe(Object(W.a)(),Object(z.a)(()=>t.imageReference.getDownloadURL()),this.mapToCreateImageRequest(i,t.storagePath,n,r,t.deminsions)))}mapToCreateImageRequest(t,e,n,r,i){return Object(M.a)(s=>{const o=this.frameTranslator.GetCreateFrameImageRequest(r,{userId:t,downloadUrl:s,storagePath:e,username:n,dimensions:i});return c.Request({request:o})})}OrchestrateFrameCreation(t){const e=new G.a,n=this.userTranslator.CreateUserFrameMetadataFromCreateFrameRequest(t);return e.appendActions(this.authenticationService.addFrameToUserUpdateBatchAction(n,t.data.creator.userId),this.frameService.getFrameDocumentSetBatchAction(t)),e.executeActions().pipe(Object($.a)(this.frameTranslator.CreateRequestToModel(t)))}OrchestrateFrameImageCreation(t){const e=new G.a;return e.appendActions(this.frameService.getFrameImageDocumentSetBatchAction(t)),e.executeActions().pipe(Object($.a)(this.frameTranslator.CreateImageRequestToModel(t)))}orchestrateJoiningFrame(t,e){const n=new G.a,r=this.userTranslator.CreateUserFrameMetadataForJoiningFrame(t);return n.appendActions(this.authenticationService.addFrameToUserUpdateBatchAction(r,e.id),this.frameService.addParticipantToFrameUpdateBatchAction(t.id,e)),n.executeActions().pipe(Object($.a)(r))}getOnlyNewImages(){return Object(N.a)(Object(U.a)(this.store$),Object(M.a)(([t,e])=>{const n=e[s.a].selectedFrameId,r=e[s.a].frames.find(t=>t.id===n).images.map(t=>t.id);return t.filter(t=>!r.includes(t.id))}))}joinFrameIfEligible(){return Object(z.a)(([t,e])=>t.size<1?(this.alertService.alert({message:"No frame found for that access key!",type:"inform"}),Object(k.a)(d())):e[K.a].currentUser.frames.find(e=>e.frameId===t.docs[0].id)?(this.alertService.alert({message:"You're already a participant!",type:"inform"}),Object(k.a)(d())):this.orchestrateJoiningFrame(t.docs[0],e[K.a].currentUser).pipe(Object(M.a)(t=>f.RequestSuccess({successResponse:t})),Object(q.a)(t=>Object(k.a)(f.RequestFailure({failureResponse:t.message})))))}}return t.\u0275fac=function(e){return new(e||t)(Q.Pb(I.a),Q.Pb(o.h),Q.Pb(at),Q.Pb(st.a),Q.Pb(ct),Q.Pb(lt.a),Q.Pb(ht.a))},t.\u0275prov=Q.Eb({token:t,factory:t.\u0275fac}),t})(),dt=(()=>{class t{}return t.\u0275mod=Q.Gb({type:t}),t.\u0275inj=Q.Fb({factory:function(e){return new(e||t)},providers:[st.a,ct],imports:[[j.c,o.j.forFeature(s.a,P),I.b.forFeature([ft])]]}),t})()},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},nYR2:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("quSY");function s(t){return e=>e.lift(new o(t))}class o{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends r.a{constructor(t,e){super(t),this.add(new i.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"b",function(){return z}),n.d(e,"c",function(){return B}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return E}),n.d(e,"h",function(){return b}),n.d(e,"i",function(){return P}),n.d(e,"j",function(){return k}),n.d(e,"k",function(){return D}),n.d(e,"l",function(){return w}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return $}),n.d(e,"o",function(){return W}),n.d(e,"p",function(){return a}),n.d(e,"q",function(){return H}),n.d(e,"r",function(){return s}),n.d(e,"s",function(){return A}),n.d(e,"t",function(){return o});var r=n("fXoL");let i=null;function s(){return i}function o(t){i||(i=t)}class a{}const u=new r.q("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Pb)(f)}const h=new r.q("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=Object(r.Eb)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f(Object(r.Pb)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Pb)(u).location;return new w(Object(r.Pb)(c),e&&e.origin||"")}const _=new r.q("appBaseHref");let w=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(c),r.Pb(_,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(c),r.Pb(_,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(b),r.Pb(c))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Eb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Pb)(b),Object(r.Pb)(c))}function T(t){return t.replace(/\/index.html$/,"")}var j=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const I=r.lb;class x{}let C=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case j.Zero:return"zero";case j.One:return"one";case j.Two:return"two";case j.Few:return"few";case j.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let P=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.s),r.Ib(r.t),r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class R{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new R(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new L,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){U("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){U("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class L{constructor(){this.$implicit=null,this.ngIf=null}}function U(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}class M{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class F{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const q=new F,V=new M;let z=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return q;if(Object(r.pb)(e))return V;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t})(),B=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:C}]}),t})();const H="browser";function W(t){return"server"===t}let $=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new G(Object(r.Pb)(u),window,Object(r.Pb)(r.m))}),t})();class G{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=K(this.window.history)||K(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function K(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},p26r:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r={authentication:"authentication",home:"home"}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("JYkl");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},"qoV+":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("AytR"),i=n("lJxs"),s=n("abKY"),o=n("fXoL"),a=n("I/3d");let u=(()=>{class t{constructor(t){this.afStore=t}getUsernameDocumentSetBatchAction(t,e){const n=this.initializeUsernameDocumentData(t,e);return new s.b(this.getUsernameDocumentReference().ref,n)}usernameExists(t){return t=this.trimUsername(t),this.afStore.collection(r.a.firebaseCollections.usernames.name,e=>e.where("usernameTrimmed","==",t).limit(1)).get().pipe(Object(i.a)(t=>!t.empty))}initializeUsernameDocumentData(t,e){return{userId:t,username:e,usernameTrimmed:this.trimUsername(e),usernamePermutations:this.getPermutations(e)}}getUsernameCollectionReference(){return this.afStore.collection(r.a.firebaseCollections.usernames.name)}getUsernameDocumentReference(){return this.getUsernameCollectionReference().doc()}trimUsername(t){return t.toLowerCase().trim()}getPermutations(t){const e=(t=this.trimUsername(t)).split("").reduce((t,e,n)=>0===n?[e]:[...t,t[t.length-1]+e],[]);return e.slice(2,e.length)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(a.a))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return j}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.2");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[b,u.z,[new u.A,v]]};let j=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},tS1D:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("D0XW");const i=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();var s=n("zx2A");class o{constructor(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}call(t,e){return e.subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class a extends s.b{constructor(t,e,n,r,i){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(s.c)(e,new s.a(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(a.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var u=n("z6cu");function c(t,e=r.a){return function(t,e,n=r.a){return r=>{let i=(s=t)instanceof Date&&!isNaN(+s);var s;let a=i?+t-n.now():Math.abs(t);return r.lift(new o(a,i,e,n))}}(t,Object(u.a)(new i),e)}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return tn}),n.d(e,"b",function(){return fn}),n.d(e,"c",function(){return en});var r=n("ofXK"),i=n("fXoL"),s=n("LRne"),o=n("Cfvw"),a=n("2Vo4"),u=n("itXk"),c=n("HDdC"),l=n("sVev"),h=n("NXyV"),f=n("EY2u"),d=n("XNiG"),p=n("lJxs"),g=n("0EUg"),m=n("NJ9Y"),y=n("eIep"),b=n("IzEk"),v=n("JX91"),_=n("Kqap"),w=n("pLZG"),O=n("JIr8"),E=n("bOdf"),S=n("SxV6"),T=n("5+tZ"),j=n("vkgz"),I=n("BFxc"),x=n("nYR2"),C=n("bHdf");class A{constructor(t,e){this.id=t,this.url=e}}class P extends A{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class R extends A{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class k extends A{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class N extends A{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class D extends A{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L extends A{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U extends A{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class M extends A{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F extends A{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class V{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ${constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class G{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function K(t){return new G(t)}function Q(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function X(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Y(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!J(t[i],e[i]))return!1;return!0}function J(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Z(t){return Array.prototype.concat.apply([],t)}function tt(t){return t.length>0?t[t.length-1]:null}function et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function nt(t){return Object(i.pb)(t)?t:Object(i.qb)(t)?Object(o.a)(Promise.resolve(t)):Object(s.a)(t)}function rt(t,e,n){return n?function(t,e){return Y(t,e)}(t.queryParams,e.queryParams)&&it(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>J(t[n],e[n]))}(t.queryParams,e.queryParams)&&st(t.root,e.root)}function it(t,e){if(!lt(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!it(t.children[n],e.children[n]))return!1}return!0}function st(t,e){return ot(t,e,e.segments)}function ot(t,e,n){if(t.segments.length>n.length)return!!lt(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!lt(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!st(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!lt(t.segments,r)&&!!t.children.primary&&ot(t.children.primary,e,i)}}class at{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=K(this.queryParams)),this._queryParamMap}toString(){return pt.serialize(this)}}class ut{constructor(t,e){this.segments=t,this.children=e,this.parent=null,et(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gt(this)}}class ct{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=K(this.parameters)),this._parameterMap}toString(){return Ot(this)}}function lt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ht(t,e){let n=[];return et(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),et(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class ft{}class dt{parse(t){const e=new It(t);return new at(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+mt(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${bt(e)}=${bt(t)}`).join("&"):`${bt(e)}=${bt(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const pt=new dt;function gt(t){return t.segments.map(t=>Ot(t)).join("/")}function mt(t,e){if(!t.hasChildren())return gt(t);if(e){const e=t.children.primary?mt(t.children.primary,!1):"",n=[];return et(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${mt(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=ht(t,(e,n)=>"primary"===n?[mt(t.children.primary,!1)]:[`${n}:${mt(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${gt(t)}/${e[0]}`:`${gt(t)}/(${e.join("//")})`}}function yt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bt(t){return yt(t).replace(/%3B/gi,";")}function vt(t){return yt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _t(t){return decodeURIComponent(t)}function wt(t){return _t(t.replace(/\+/g,"%20"))}function Ot(t){return`${vt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${vt(t)}=${vt(e[t])}`).join("")}`;var e}const Et=/^[^\/()?;=#]+/;function St(t){const e=t.match(Et);return e?e[0]:""}const Tt=/^[^=?&#]+/,jt=/^[^?&#]+/;class It{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ut(t,e)),n}parseSegment(){const t=St(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ct(_t(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=St(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=St(this.remaining);t&&(n=t,this.capture(n))}t[_t(e)]=_t(n)}parseQueryParam(t){const e=function(t){const e=t.match(Tt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(jt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=wt(e),i=wt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=St(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new ut([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ct(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ct(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=At(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return At(t,this._root).map(t=>t.value)}}function Ct(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ct(t,n);if(e)return e}return null}function At(t,e){if(t===e.value)return[e];for(const n of e.children){const r=At(t,n);if(r.length)return r.unshift(e),r}return[]}class Pt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class kt extends xt{constructor(t,e){super(t),this.snapshot=e,Ft(this,t)}toString(){return this.snapshot.toString()}}function Nt(t,e){const n=function(t,e){const n=new Ut([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Mt("",new Pt(n,[]))}(t,e),r=new a.a([new ct("",{})]),i=new a.a({}),s=new a.a({}),o=new a.a({}),u=new a.a(""),c=new Dt(r,i,o,u,s,"primary",e,n.root);return c.snapshot=n.root,new kt(new Pt(c,[]),n)}class Dt{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(p.a)(t=>K(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(p.a)(t=>K(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ut{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=K(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=K(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mt extends xt{constructor(t,e){super(e),this.url=t,Ft(this,e)}toString(){return qt(this._root)}}function Ft(t,e){e.value._routerState=t,e.children.forEach(e=>Ft(t,e))}function qt(t){const e=t.children.length>0?` { ${t.children.map(qt).join(", ")} } `:"";return`${t.value}${e}`}function Vt(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Y(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Y(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Y(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Y(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function zt(t,e){var n,r;return Y(t.params,e.params)&&lt(n=t.url,r=e.url)&&n.every((t,e)=>Y(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||zt(t.parent,e.parent))}function Bt(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Bt(t,e,r);return Bt(t,e)})}(t,e,n);return new Pt(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Ht(e,t),t}{const n=new Dt(new a.a((r=e.value).url),new a.a(r.params),new a.a(r.queryParams),new a.a(r.fragment),new a.a(r.data),r.outlet,r.component,r),i=e.children.map(e=>Bt(t,e));return new Pt(n,i)}}var r}function Ht(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ht(t.children[n],e.children[n])}function Wt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function $t(t){return"object"==typeof t&&null!=t&&t.outlets}function Gt(t,e,n,r,i){let s={};return r&&et(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new at(n.root===t?e:Kt(n.root,t,e),s,i)}function Kt(t,e,n){const r={};return et(t.children,(t,i)=>{r[i]=t===e?n:Kt(t,e,n)}),new ut(t.segments,r)}class Qt{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Wt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find($t);if(r&&r!==tt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xt{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Yt(t,e,n){if(t||(t=new ut([],{})),0===t.segments.length&&t.hasChildren())return Jt(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if($t(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!ne(a,u,e))return s;r+=2}else{if(!ne(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ut(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new ut(t.segments.slice(r.pathIndex),t.children),Jt(e,0,i)}return r.match&&0===i.length?new ut(t.segments,{}):r.match&&!t.hasChildren()?Zt(t,e,n):r.match?Jt(t,0,i):Zt(t,e,n)}function Jt(t,e,n){if(0===n.length)return new ut(t.segments,{});{const r=function(t){return $t(t[0])?t[0].outlets:{primary:t}}(n),i={};return et(r,(n,r)=>{null!==n&&(i[r]=Yt(t.children[r],e,n))}),et(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ut(t.segments,i)}}function Zt(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if($t(s)){const t=te(s.outlets);return new ut(r,t)}if(0===i&&Wt(n[0])){r.push(new ct(t.segments[e].path,n[0])),i++;continue}const o=$t(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Wt(a)?(r.push(new ct(o,ee(a))),i+=2):(r.push(new ct(o,{})),i++)}return new ut(r,{})}function te(t){const e={};return et(t,(t,n)=>{null!==t&&(e[n]=Zt(new ut([],{}),0,t))}),e}function ee(t){const e={};return et(t,(t,n)=>e[n]=""+t),e}function ne(t,e,n){return t==n.path&&Y(e,n.parameters)}class re{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Vt(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Rt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),et(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Rt(t),i=t.value.component?n.children:e;et(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Rt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new W(t.value.snapshot))}),t.children.length&&this.forwardEvent(new B(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Vt(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ie(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ie(t){Vt(t.value),t.children.forEach(ie)}class se{constructor(t,e){this.routes=t,this.module=e}}function oe(t){return"function"==typeof t}function ae(t){return t instanceof at}const ue=Symbol("INITIAL_VALUE");function ce(){return Object(y.a)(t=>Object(u.b)(...t.map(t=>t.pipe(Object(b.a)(1),Object(v.a)(ue)))).pipe(Object(_.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ue)return t;if(r===ue&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ae(r))return r}return t},t)},ue),Object(w.a)(t=>t!==ue),Object(p.a)(t=>ae(t)?t:!0===t),Object(b.a)(1)))}let le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Jb(0,"router-outlet")},directives:function(){return[en]},encapsulation:2}),t})();function he(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];fe(r,de(e,r))}}function fe(t,e){t.children&&he(t.children,e)}function de(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function pe(t){const e=t.children&&t.children.map(pe),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=le),n}function ge(t){return t.outlet||"primary"}class me{constructor(t){this.segmentGroup=t||null}}class ye{constructor(t){this.urlTree=t}}function be(t){return new c.a(e=>e.error(new me(t)))}function ve(t){return new c.a(e=>e.error(new ye(t)))}function _e(t){return new c.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class we{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(p.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(O.a)(t=>{if(t instanceof ye)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof me)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(p.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(O.a)(t=>{if(t instanceof me)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ut([],{primary:t}):t;return new at(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(p.a)(t=>new ut([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(s.a)({});const n=[],r=[],i={};return et(t,(t,s)=>{const o=e(s,t).pipe(Object(p.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),s.a.apply(null,n.concat(r)).pipe(Object(g.a)(),Object(m.a)(),Object(p.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,a){const c=function(t){return t.reduce((t,e)=>{const n=ge(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);c.has(i)||c.set(i,[]);const h=n=>Object(o.a)(n).pipe(Object(E.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,a).pipe(Object(O.a)(t=>{if(t instanceof me)return Object(s.a)(null);throw t}))),Object(S.a)(t=>null!==t),Object(O.a)(t=>{if(t instanceof l.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(s.a)(new ut([],{}));throw new me(e)}throw t})),f=Array.from(c.entries()).map(([t,e])=>{const n=h(e);return t===i?n:n.pipe(Object(p.a)(()=>null),Object(O.a)(()=>Object(s.a)(null)))});return Object(o.a)(f).pipe(t=>t.lift(new u.a(void 0)),Object(S.a)(),Object(p.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return ge(r)!==s&&""!==r.path?be(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):be(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ve(i):this.lineralizeSegments(n,i).pipe(Object(T.a)(n=>{const i=new ut(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Oe(e,r,i);if(!o)return be(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ve(l):this.lineralizeSegments(r,l).pipe(Object(T.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(p.a)(t=>(n._loadedConfig=t,new ut(r,{})))):Object(s.a)(new ut(r,{}));const{matched:i,consumedSegments:o,lastChild:a}=Oe(e,n,r);if(!i)return be(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(T.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Se(t,e,n)&&"primary"!==ge(n))}(t,n,r)?{segmentGroup:Ee(new ut(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==ge(r)&&(n[ge(r)]=new ut([],{}));return n}(r,new ut(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Se(t,e,n))}(t,n,r)?{segmentGroup:Ee(new ut(t.segments,function(t,e,n,r){const i={};for(const s of n)Se(t,e,s)&&!r[ge(s)]&&(i[ge(s)]=new ut([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,u,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(p.a)(t=>new ut(o,t))):0===r.length&&0===a.length?Object(s.a)(new ut(o,{})):this.expandSegment(n,i,r,a,"primary",!0).pipe(Object(p.a)(t=>new ut(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(s.a)(new se(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(s.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(T.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(p.a)(t=>(e._loadedConfig=t,t))):function(t){return new c.a(e=>e.error(Q(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(s.a)(new se([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(s.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&oe(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!oe(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return nt(s)});return Object(s.a)(i).pipe(ce(),Object(j.a)(t=>{if(!ae(t))return;const e=Q(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(p.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(s.a)(n);if(r.numberOfChildren>1||!r.children.primary)return _e(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new at(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return et(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return et(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new ut(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Oe(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||X)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ee(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ut(t.segments.concat(e.segments),e.children)}return t}function Se(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Te{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class je{constructor(t,e){this.component=t,this.route=e}}function Ie(t,e,n){const r=t._root;return Ce(r,e?e._root:null,n,[r.value])}function xe(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ce(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Rt(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!lt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lt(t.url,e.url)||!Y(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zt(t,e)||!Y(t.queryParams,e.queryParams);case"paramsChange":default:return!zt(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Te(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ce(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new je(a.outlet.component,o))}else o&&Ae(e,a,i),i.canActivateChecks.push(new Te(r)),Ce(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),et(s,(t,e)=>Ae(t,n.getContext(e),i)),i}function Ae(t,e,n){const r=Rt(t),i=t.value;et(r,(t,r)=>{Ae(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new je(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pe(t,e){return null!==t&&e&&e(new H(t)),Object(s.a)(!0)}function Re(t,e){return null!==t&&e&&e(new z(t)),Object(s.a)(!0)}function ke(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(s.a)(!0);const i=r.map(r=>Object(h.a)(()=>{const i=xe(r,e,n);let s;if(function(t){return t&&oe(t.canActivate)}(i))s=nt(i.canActivate(e,t));else{if(!oe(i))throw new Error("Invalid CanActivate guard");s=nt(i(e,t))}return s.pipe(Object(S.a)())}));return Object(s.a)(i).pipe(ce())}function Ne(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(h.a)(()=>{const i=e.guards.map(i=>{const s=xe(i,e.node,n);let o;if(function(t){return t&&oe(t.canActivateChild)}(s))o=nt(s.canActivateChild(r,t));else{if(!oe(s))throw new Error("Invalid CanActivateChild guard");o=nt(s(r,t))}return o.pipe(Object(S.a)())});return Object(s.a)(i).pipe(ce())}));return Object(s.a)(i).pipe(ce())}class De{}class Le{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Fe(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ut([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Pt(n,e),i=new Mt(this.url,r);return this.inheritParamsAndData(i._root),Object(s.a)(i)}catch(t){return new c.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Lt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ht(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof De))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new De}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new De;if((t.outlet||"primary")!==r)throw new De;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?tt(n).parameters:{};i=new Ut(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(t),r,t.component,t,Ue(e),Me(e)+n.length,Be(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new De;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||X)(n,t,e);if(!r)throw new De;const i={};et(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Ut(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ze(t),r,t.component,t,Ue(e),Me(e)+s.length,Be(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Fe(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Pt(i,t)]}if(0===a.length&&0===c.length)return[new Pt(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Pt(i,l)]}}function Ue(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Me(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Fe(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>qe(t,e,n)&&"primary"!==Ve(n))}(t,n,r)){const i=new ut(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Ve(s)){const n=new ut([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ve(s)]=n}return i}(t,e,r,new ut(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qe(t,e,n))}(t,n,r)){const s=new ut(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(qe(t,n,a)&&!i[Ve(a)]){const n=new ut([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Ve(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new ut(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function qe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ve(t){return t.outlet||"primary"}function ze(t){return t.data||{}}function Be(t){return t.resolve||{}}function He(t){return function(e){return e.pipe(Object(y.a)(e=>{const n=t(e);return n?Object(o.a)(n).pipe(Object(p.a)(()=>e)):Object(o.a)([e])}))}}class We extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const $e=new i.q("ROUTES");class Ge{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(p.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new se(Z(r.injector.get($e)).map(pe),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(o.a)(this.loader.load(t)):nt(t()).pipe(Object(T.a)(t=>t instanceof i.v?Object(s.a)(t):Object(o.a)(this.compiler.compileModuleAsync(t))))}}class Ke{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qe,this.attachRef=null}}class Qe{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ke,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Xe{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ye(t){throw t}function Je(t,e,n){return e.parse("/")}function Ze(t,e){return Object(s.a)(null)}let tn=(()=>{class t{constructor(t,e,n,r,s,o,u,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new d.a,this.errorHandler=Ye,this.malformedUriErrorHandler=Je,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ze,afterPreactivation:Ze},this.urlHandlingStrategy=new Xe,this.routeReuseStrategy=new We,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.x),this.console=s.get(i.X);const l=s.get(i.z);this.isNgZoneEnabled=l instanceof i.z,this.resetConfig(c),this.currentUrlTree=new at(new ut([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ge(o,u,t=>this.triggerEvent(new q(t)),t=>this.triggerEvent(new V(t))),this.routerState=Nt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(w.a)(t=>0!==t.id),Object(p.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(y.a)(t=>{let n=!1,r=!1;return Object(s.a)(t).pipe(Object(j.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(y.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(s.a)(t).pipe(Object(y.a)(t=>{const n=this.transitions.getValue();return e.next(new P(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?f.a:[t]}),Object(y.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,a=this.config,function(t){return t.pipe(Object(y.a)(t=>function(t,e,n,r,i){return new we(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(p.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(j.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(T.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Le(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(p.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(j.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(j.a)(t=>{const n=new D(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:a}=t,u=new P(n,this.serializeUrl(r),i,o);e.next(u);const c=Nt(r,this.rootComponentType).snapshot;return Object(s.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),f.a}),He(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(j.a)(t=>{const e=new L(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(p.a)(t=>Object.assign(Object.assign({},t),{guards:Ie(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(T.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(s.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(o.a)(t).pipe(Object(T.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);const a=o.map(s=>{const o=xe(s,e,i);let a;if(function(t){return t&&oe(t.canDeactivate)}(o))a=nt(o.canDeactivate(t,e,n,r));else{if(!oe(o))throw new Error("Invalid CanDeactivate guard");a=nt(o(t,e,n,r))}return a.pipe(Object(S.a)())});return Object(s.a)(a).pipe(ce())}(t.component,t.route,n,e,r)),Object(S.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(T.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(o.a)(e).pipe(Object(E.a)(e=>Object(o.a)([Re(e.route.parent,r),Pe(e.route,r),Ne(t,e.path,n),ke(t,e.route,n)]).pipe(Object(g.a)(),Object(S.a)(t=>!0!==t,!0))),Object(S.a)(t=>!0!==t,!0))}(r,a,t,e):Object(s.a)(n)),Object(p.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(j.a)(t=>{if(ae(t.guardsResult)){const e=Q(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(j.a)(t=>{const e=new U(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(w.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new k(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),He(t=>{if(t.guards.canActivateChecks.length)return Object(s.a)(t).pipe(Object(j.a)(t=>{const e=new M(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(y.a)(t=>{let n=!1;return Object(s.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(T.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(s.a)(t);let a=0;return Object(o.a)(n).pipe(Object(E.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(s.a)({});const a={};return Object(o.a)(i).pipe(Object(T.a)(i=>function(t,e,n,r){const i=xe(t,e,r);return nt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(j.a)(t=>{a[i]=t}))),Object(I.a)(1),Object(T.a)(()=>Object.keys(a).length===i.length?Object(s.a)(a):f.a))}(t._resolve,t,e,r).pipe(Object(p.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Lt(t,n).resolve),null)))}(t.route,e,r,i)),Object(j.a)(()=>a++),Object(I.a)(1),Object(T.a)(e=>a===n.length?Object(s.a)(t):f.a))}))}),Object(j.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new k(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(j.a)(t=>{const e=new F(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),He(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(p.a)(t=>{const e=function(t,e,n){const r=Bt(t,e._root,n?n._root:void 0);return new kt(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(j.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,a=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(p.a)(t=>(new re(a,t.targetRouterState,t.currentRouterState,u).activate(i),t))),Object(j.a)({next(){n=!0},complete(){n=!0}}),Object(x.a)(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new k(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(O.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ae(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new k(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new N(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return f.a}));var i,a,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){he(t),this.config=t.map(pe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Gt(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qt(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return et(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Qt(n,e,r)}(n);if(s.toRoot())return Gt(e.root,new ut([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Xt(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Xt(t,t===e.root,0)}const r=Wt(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Xt(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Jt(o.segmentGroup,o.index,s.commands):Yt(o.segmentGroup,o.index,s.commands);return Gt(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ae(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ae(t))return rt(this.currentUrlTree,t,e);const n=this.parseUrl(t);return rt(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new R(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.M),i.Pb(ft),i.Pb(Qe),i.Pb(r.g),i.Pb(i.r),i.Pb(i.w),i.Pb(i.i),i.Pb(void 0))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})(),en=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new nn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Ib(Qe),i.Ib(i.P),i.Ib(i.j),i.Qb("name"),i.Ib(i.h))},t.\u0275dir=i.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class nn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Dt?this.route:t===Qe?this.childContexts:this.parent.get(t,e)}}class rn{}class sn{preload(t,e){return Object(s.a)(null)}}let on=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ge(e,n,e=>t.triggerEvent(new q(e)),e=>t.triggerEvent(new V(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(w.a)(t=>t instanceof R),Object(E.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(o.a)(n).pipe(Object(C.a)(),Object(p.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(T.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(tn),i.Pb(i.w),i.Pb(i.i),i.Pb(i.r),i.Pb(rn))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})(),an=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof P?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof R&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new $(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(tn),i.Pb(r.n),i.Pb(void 0))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})();const un=new i.q("ROUTER_CONFIGURATION"),cn=new i.q("ROUTER_FORROOT_GUARD"),ln=[r.g,{provide:ft,useClass:dt},{provide:tn,useFactory:function(t,e,n,i,s,o,a,u={},c,l){const h=new tn(null,t,e,n,i,s,o,Z(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=Object(r.r)();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ft,Qe,r.g,i.r,i.w,i.i,$e,un,[class{},new i.A],[class{},new i.A]]},Qe,{provide:Dt,useFactory:function(t){return t.routerState.root},deps:[tn]},{provide:i.w,useClass:i.J},on,sn,class{preload(t,e){return e().pipe(Object(O.a)(()=>Object(s.a)(null)))}},{provide:un,useValue:{enableTracing:!1}}];function hn(){return new i.y("Router",tn)}let fn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ln,mn(e),{provide:cn,useFactory:gn,deps:[[tn,new i.A,new i.I]]},{provide:un,useValue:n||{}},{provide:r.h,useFactory:pn,deps:[r.m,[new i.p(r.a),new i.A],un]},{provide:an,useFactory:dn,deps:[tn,r.n,un]},{provide:rn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:sn},{provide:i.y,multi:!0,useFactory:hn},[yn,{provide:i.d,multi:!0,useFactory:bn,deps:[yn]},{provide:_n,useFactory:vn,deps:[yn]},{provide:i.b,multi:!0,useExisting:_n}]]}}static forChild(e){return{ngModule:t,providers:[mn(e)]}}}return t.\u0275mod=i.Gb({type:t}),t.\u0275inj=i.Fb({factory:function(e){return new(e||t)(i.Pb(cn,8),i.Pb(tn,8))}}),t})();function dn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new an(t,e,n)}function pn(t,e,n={}){return n.useHash?new r.e(t,e):new r.l(t,e)}function gn(t){return"guarded"}function mn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:$e,multi:!0,useValue:t}]}let yn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new d.a}appInitializer(){return this.injector.get(r.f,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(tn),r=this.injector.get(un);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(s.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(un),n=this.injector.get(on),r=this.injector.get(an),s=this.injector.get(tn),o=this.injector.get(i.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(i.r))},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac}),t})();function bn(t){return t.appInitializer.bind(t)}function vn(t){return t.bootstrapListener.bind(t)}const _n=new i.q("Router Initializer")},uFlw:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});const r="frame",i={frames:[],selectedFrameId:null,isLoading:!1,imageUploadPercentage:null,showSideNav:!1,error:null}},v2G1:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2Vo4"),i=n("fXoL");let s=(()=>{class t{constructor(){this._alerts$=new r.a(null)}alert(t){this._alerts$.next(t)}getAlerts(){return this._alerts$.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},wHSu:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return o});var r={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},i={prefix:"fas",iconName:"camera",icon:[512,512,[],"f030","M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"]},s={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},o={prefix:"fas",iconName:"user-circle",icon:[496,512,[],"f2bd","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"]}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(t,e,n,c){return Object(s.a)(n)&&(c=n,n=void 0),c?a(t,e,n).pipe(Object(o.a)(t=>Object(i.a)(t)?c(...t):c(t))):new r.a(r=>{u(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function u(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)u(t[s],e,n,r,i)}r.add(s)}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},yGuB:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("Jgta");const i=r.a.firestore.FieldValue,s=()=>r.a.firestore().batch()},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("JYkl"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(d);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var b=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zP0r:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.total=t}call(t,e){return e.subscribe(new o(t,this.total))}}class o extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i=n("AytR"),s=n("jhN1"),o=n("tyNb"),a=n("XNiG"),u=n("mCNh"),c=n("VRyK"),l=n("GyhO"),h=n("PqYM"),f=n("pLZG"),d=n("bOdf"),p=n("LRne"),g=n("lJxs"),m=n("JX91"),y=n("1G5W"),b=n("vkgz"),v=n("7o/Q"),_=n("4I5i");function w(t){return e=>e.lift(new O(t))}class O{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new _.a}call(t,e){return e.subscribe(0===this._skipCount?new v.a(t):new E(t,this._skipCount))}}class E extends v.a{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{const r=n%e,i=this._ring,s=i[r];i[r]=t,this.destination.next(s)}}}var S=n("wHSu"),T=n("v2G1"),j=n("ofXK");function I(t,e){1&t&&r.Jb(0,"div",4)}const x=function(t,e,n,r){return{success:t,error:e,clickable:n,inform:r}};function C(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",1),r.Sb("click",function(){r.hc(t);const n=e.ngIf;return r.Wb().onClose(n)}),r.Lb(1,"div",2),r.Lb(2,"span"),r.pc(3),r.Kb(),r.nc(4,I,1,0,"div",3),r.Kb(),r.Kb()}if(2&t){const t=e.ngIf;r.bc("ngClass",r.dc(3,x,"success"===t.type,"error"===t.type,t.closable,"inform"===t.type)),r.yb(3),r.qc(t.message),r.yb(1),r.bc("ngIf",t.closable)}}let A=(()=>{class t{constructor(t){this.alertService=t,this.DEFAULT_ALERT_DURATION=5e3,this.DELAY_BETWEEN_ALERTS=500,this.alerts$=this.alertService.getAlerts().pipe(this.setUpAlertQueueing()),this.alertEnder$=new a.a,this.faTimes=S.c}ngOnInit(){}onClose(t){t.closable&&this.alertEnder$.next(1)}setUpAlertQueueing(){return Object(u.a)(Object(f.a)(t=>!!t),this.ensureOptionalProperties(),Object(d.a)(t=>{const e=this.setAlert$(t),n=this.setAlertEnder$(t),r=this.ensureDelay(t),i=Object(c.a)(e,n).pipe(function(...t){return e=>Object(l.a)(e,Object(p.a)(...t))}(null));return Object(l.a)(i,r)}))}ensureOptionalProperties(){return Object(g.a)(t=>(t.durationMs=t.durationMs?t.durationMs:this.DEFAULT_ALERT_DURATION,t.closable=void 0===t.closable||t.closable,t))}setAlert$(t){return Object(h.a)(t.durationMs+5e3).pipe(Object(m.a)(t),Object(y.a)(this.alertEnder$.asObservable()))}setAlertEnder$(t){return Object(h.a)(t.durationMs).pipe(Object(b.a)(()=>this.alertEnder$.next(1)),Object(y.a)(this.alertEnder$.asObservable()),w(1))}ensureDelay(t){return Object(h.a)(this.DELAY_BETWEEN_ALERTS).pipe(w(1))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(T.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-alert"]],decls:2,vars:3,consts:[["class","alert",3,"ngClass","click",4,"ngIf"],[1,"alert",3,"ngClass","click"],[1,"message"],["class","close",4,"ngIf"],[1,"close"]],template:function(t,e){1&t&&(r.nc(0,C,5,8,"div",0),r.Xb(1,"async")),2&t&&r.bc("ngIf",r.Yb(1,1,e.alerts$))},directives:[j.k,j.i],pipes:[j.b],styles:['.alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;bottom:20px;right:20px;z-index:100000;background-color:#f5f0f6;text-align:center;opacity:.8}.success[_ngcontent-%COMP%]{border-left:10px solid #649742}.error[_ngcontent-%COMP%]{border-left:10px solid #d8000c}.inform[_ngcontent-%COMP%]{border-left:10px solid #2b4162}.close[_ngcontent-%COMP%]{font-size:.75rem}.message[_ngcontent-%COMP%]{padding:1rem 1.25rem;display:flex;flex-direction:column}@media (max-width:767px){.alert[_ngcontent-%COMP%]{max-width:60%}}@media (max-width:1023px){.close[_ngcontent-%COMP%]:after{content:"(tap to dismiss)"}}@media (min-width:1024px){.close[_ngcontent-%COMP%]:after{content:"(click to dismiss)"}}']}),t})(),P=(()=>{class t{constructor(){this.title="lpf-renewed"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Lb(0,"router-outlet"),r.Jb(1,"app-alert"),r.Kb())},directives:[o.c,A],styles:[""]}),t})();class R{}function k(t,e=null){return{type:2,steps:t,options:e}}function N(t){return{type:6,styles:t,offset:null}}function D(t){Promise.resolve(null).then(t)}class L{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){D(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class U{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?D(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function M(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function F(t){switch(t.length){case 0:return new L;case 1:return t[0];default:return new U(t)}}function q(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function V(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&z(n,"start",t)));break;case"done":t.onDone(()=>r(n&&z(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&z(n,"destroy",t)))}}function z(t,e,n){const r=n.totalTime,i=B(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function B(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function H(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function W(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let $=(t,e)=>!1,G=(t,e)=>!1,K=(t,e,n)=>[];const Q=M();(Q||"undefined"!=typeof Element)&&($=(t,e)=>t.contains(e),G=(()=>{if(Q||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):G}})(),K=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let X=null,Y=!1;function J(t){X||(X=("undefined"!=typeof document?document.body:null)||{},Y=!!X.style&&"WebkitAppearance"in X.style);let e=!0;return X.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in X.style,!e&&Y)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in X.style),e}const Z=G,tt=$,et=K;function nt(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let rt=(()=>{class t{validateStyleProperty(t){return J(t)}matchesElement(t,e){return Z(t,e)}containsElement(t,e){return tt(t,e)}query(t,e,n){return et(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new L(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t{}return t.NOOP=new rt,t})();function st(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ot(parseFloat(e[1]),e[2])}function ot(t,e){switch(e){case"s":return 1e3*t;default:return t}}function at(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=ot(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=ot(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function ut(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ct(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else ut(t,n);return n}function lt(t,e,n){return n?e+":"+n+";":""}function ht(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=lt(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=lt(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function ft(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=_t(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),M()&&ht(t))}function dt(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=_t(e);t.style[n]=""}),M()&&ht(t))}function pt(t){return Array.isArray(t)?1==t.length?t[0]:k(t):t}const gt=new RegExp("{{\\s*(.+?)\\s*}}","g");function mt(t){let e=[];if("string"==typeof t){let n;for(;n=gt.exec(t);)e.push(n[1]);gt.lastIndex=0}return e}function yt(t,e,n){const r=t.toString(),i=r.replace(gt,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function bt(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const vt=/-+([a-z0-9])/g;function _t(t){return t.replace(vt,(...t)=>t[1].toUpperCase())}function wt(t,e){return 0===t||0===e}function Ot(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=St(t,e)})}}return e}function Et(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function St(t,e){return window.getComputedStyle(t)[e]}function Tt(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(xt(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(xt(o,i))}(t,n,e)):n.push(t),n}const jt=new Set(["true","1"]),It=new Set(["false","0"]);function xt(t,e){const n=jt.has(t)||It.has(t),r=jt.has(e)||It.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?jt.has(t):It.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?jt.has(e):It.has(e)),o&&a}}const Ct=new RegExp("s*:selfs*,?","g");function At(t,e,n){return new Pt(t).build(e,n)}class Pt{constructor(t){this._driver=t}build(t,e){const n=new Rt(e);return this._resetContextStyleTimingState(n),Et(this,pt(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(kt(t)){const e=t;Object.keys(e).forEach(t=>{mt(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=bt(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Et(this,pt(t.animation),e);return{type:1,matchers:Tt(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Nt(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Et(this,t,e)),options:Nt(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Et(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Nt(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Dt(at(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Dt(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||at(r,e),Dt(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:N({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=N(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(kt(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=mt(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(kt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(kt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Et(this,pt(t.animation),e),options:Nt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Nt(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Nt(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Ct,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,H(e.collectedStyles,e.currentQuerySelector,{});const o=Et(this,pt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Nt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:at(t.timings,e.errors,!0);return{type:12,animation:Et(this,pt(t.animation),e),timings:n,options:null}}}class Rt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function kt(t){return!Array.isArray(t)&&"object"==typeof t}function Nt(t){var e;return t?(t=ut(t)).params&&(t.params=(e=t.params)?ut(e):null):t={},t}function Dt(t,e,n){return{duration:t,delay:e,easing:n}}function Lt(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ut{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Mt=new RegExp(":enter","g"),Ft=new RegExp(":leave","g");function qt(t,e,n,r,i,s={},o={},a,u,c=[]){return(new Vt).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class Vt{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new Ut;const l=new Bt(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Et(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Lt(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?st(n.duration):null,s=null!=n.delay?st(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Et(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=zt);const t=st(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Et(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?st(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Et(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return at(e.params?yt(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?st(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zt);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Et(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Et(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const zt={};class Bt{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ht(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=st(n.duration)),null!=n.delay&&(r.delay=st(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=yt(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Bt(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=zt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Wt(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Mt,"."+this._enterClassName)).replace(Ft,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ht{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ht(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):ct(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=yt(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=ct(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?bt(t.values()):[],s=e.size?bt(e.values()):[];if(n){const t=r[0],e=ut(t);t.offset=0,e.offset=1,r=[t,e]}return Lt(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Wt extends Ht{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=ct(t[0],!1);a.offset=0,i.push(a);const u=ct(t[0],!1);u.offset=$t(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=ct(t[r],!1);o.offset=$t((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Lt(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function $t(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Gt{}class Kt extends Gt{normalizePropertyName(t,e){return _t(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Qt[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Qt=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Xt(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Yt={};class Jt{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Yt,f=this.buildStyles(n,o&&o.params||Yt,l),d=a&&a.params||Yt,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),d)},_=c?[]:qt(t,e,this.ast.animation,i,s,f,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Xt(e,this._triggerName,n,r,b,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=H(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=H(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const O=bt(g.values());return Xt(e,this._triggerName,n,r,b,f,p,_,O,m,y,w)}}class Zt{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=ut(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=yt(s,r,e)),n[t]=s})}}),n}}class te{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Zt(t.style,t.options&&t.options.params||{})}),ee(this.states,"true","1"),ee(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Jt(t,e,this.states))}),this.fallbackTransition=new Jt(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ee(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ne=new Ut;class re{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=At(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=q(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=qt(this._driver,e,i,"ng-enter","ng-leave",{},{},n,ne,r),s.forEach(t=>{const e=H(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=F(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=B(e,"","","");return V(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const ie=[],se={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ae{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=ut(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const ue=new ae("void");class ce{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,me(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=H(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=H(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(me(t,"ng-trigger"),me(t,"ng-trigger-"+e),a[e]=ue),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new he(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(me(t,"ng-trigger"),me(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new ae(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=ue),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{dt(t,n),ft(t,r)})}return}const c=H(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(me(t,"ng-animate-queued"),s.onStart(()=>{ye(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&F(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||ue,o=new ae("void"),a=new he(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==se||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){me(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=B(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,V(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class le{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ce(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(fe(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!fe(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),me(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ye(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(fe(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return fe(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return F(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=se,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)me(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?F(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Ut,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=ge(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>me(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const b=new Map,v=ge(h,Array.from(m));v.forEach((t,e)=>{const n="ng-leave"+p++;b.set(e,n),t.forEach(t=>me(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>ye(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>ye(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>dt(i,p.fromStyles)),e.onDestroy(()=>ft(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>dt(i,p.fromStyles)),e.onDestroy(()=>ft(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>H(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{H(O,e,[]).push(t),t.destroy()})});const S=g.filter(t=>_e(t,a,u)),T=new Map;pe(T,this.driver,y,u,"*").forEach(t=>{_e(t,a,u)&&S.push(t)});const j=new Map;f.forEach((t,e)=>{pe(j,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=T.get(t),n=j.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],C={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>ft(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=C;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,j,T);if(s.setRealPlayer(n),t===C)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=F(e)),r.push(s)}}else dt(e,o.fromStyles),s.onDestroy(()=>ft(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=F(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(ye(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?be(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=H(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}dt(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new L(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return ve(t,e),e}((n.get(h)||ie).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=q(0,this._normalizer,0,e.keyframes,g,m),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new he(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{H(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>me(t,"ng-animating"));const f=F(h);return f.onDestroy(()=>{c.forEach(t=>ye(t,"ng-animating")),ft(a,e.toStyles)}),l.forEach(t=>{H(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new L(t.duration,t.delay)}}class he{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new L,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>V(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){H(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function fe(t){return t&&1===t.nodeType}function de(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function pe(t,e,n,r,i){const s=[];n.forEach(t=>s.push(de(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=oe,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>de(t,s[a++])),o}function ge(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function me(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function ye(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function be(t,e,n){F(n).onDone(()=>t.processLeaveNode(e))}function ve(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof U?ve(r.players,e):e.push(r)}}function _e(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class we{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new le(t,e,n),this._timelineEngine=new re(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=At(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new te(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=W(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=W(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Oe(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Se(e[0]),e.length>1&&(r=Se(e[e.length-1]))):e&&(n=Se(e)),n||r?new Ee(t,n,r):null}let Ee=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ft(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ft(this._element,this._initialStyles),this._endStyles&&(ft(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(dt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dt(this._element,this._endStyles),this._endStyles=null),ft(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Se(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Te(i)&&(e=e||{},e[i]=t[i])}return e}function Te(t){return"display"===t||"position"===t}class je{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Re(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Pe(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ae(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ie(this._element,this._name,"paused")}resume(){Ie(this._element,this._name,"running")}setPosition(t){const e=xe(this._element,this._name);this._position=t*this._duration,Pe(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ae(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Re(t,"").split(","),r=Ce(n,e);r>=0&&(n.splice(r,1),Pe(t,"",n.join(",")))}(this._element,this._name))}}function Ie(t,e,n){Pe(t,"PlayState",n,xe(t,e))}function xe(t,e){const n=Re(t,"");return n.indexOf(",")>0?Ce(n.split(","),e):Ce([n],e)}function Ce(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ae(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Pe(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Re(t,e){return t.style["animation"+e]}class ke{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new je(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:St(this.element,n))})}this.currentSnapshot=t}}class Ne extends L{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=nt(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class De{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return J(t)}matchesElement(t,e){return Z(t,e)}containsElement(t,e){return tt(t,e)}query(t,e,n){return et(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>nt(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof ke),u={};wt(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ot(t,e,u));if(0==n)return new Ne(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Oe(t,e),d=new ke(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Le{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:St(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ue{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Me().toString()),this._cssKeyframesDriver=new De}validateStyleProperty(t){return J(t)}matchesElement(t,e){return Z(t,e)}containsElement(t,e){return tt(t,e)}query(t,e,n){return et(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof Le);wt(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Oe(t,e=Ot(t,e=e.map(t=>ct(t,!1)),u));return new Le(t,e,a,l)}}function Me(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Fe=(()=>{class t extends R{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?k(t):t;return ze(this._renderer,null,e,"register",[n]),new qe(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.E),r.Pb(j.d))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class qe extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ve(this._id,t,e||{},this._renderer)}}class Ve{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ze(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function ze(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Be=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new He("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new We(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.E),r.Pb(we),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class He{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class We extends He{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let $e=(()=>{class t extends we{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(j.d),r.Pb(it),r.Pb(Gt))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Ge=[{provide:it,useFactory:function(){return"function"==typeof Me()?new Ue:new De}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:R,useClass:Fe},{provide:Gt,useFactory:function(){return new Kt}},{provide:we,useClass:$e},{provide:r.E,useFactory:function(t,e,n){return new Be(t,e,n)},deps:[s.d,we,r.z]}];let Ke=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:Ge,imports:[s.a]}),t})();var Qe=n("spgP");const Xe={apiKey:"AIzaSyAWMCReePFy4LyLLKh_DaGYnBNJPWxRoHc",authDomain:"lpf-renewed.firebaseapp.com",databaseURL:"https://lpf-renewed.firebaseio.com",projectId:"lpf-renewed",storageBucket:"lpf-renewed.appspot.com",messagingSenderId:"989054372005",appId:"1:989054372005:web:02ee20b634264823e7e54c",measurementId:"G-9W0SRLMCKF"};var Ye=n("RLuz"),Je=n("p26r");const Ze=[{path:"",redirectTo:Je.a.authentication,pathMatch:"full"},{path:Je.a.authentication,loadChildren:()=>Promise.all([n.e(1),n.e(6)]).then(n.bind(null,"OpKh")).then(t=>t.AuthenticationModule)},{path:Je.a.home,loadChildren:()=>Promise.all([n.e(1),n.e(7)]).then(n.bind(null,"XpXM")).then(t=>t.MainModule)}];let tn=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[o.b.forRoot(Ze)],o.b]}),t})();var en=n("jL29"),nn=n("UbJi"),rn=n("I/3d"),sn=n("Vaw3"),on=n("BHD2");let an=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[P]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[en.a,rn.a,nn.a],imports:[[s.a,Ke,Qe.a.initializeApp(Xe),sn.b,Ye.c,tn,on.a]]}),t})();i.a.production&&Object(r.S)(),s.c().bootstrapModule(an).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("l7GE"),i=n("ZUHj");function s(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new o(t,n))}}class o{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends r.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let s=0;s<r;s++){let t=e[s];this.add(Object(i.a)(this,t,void 0,s))}}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);