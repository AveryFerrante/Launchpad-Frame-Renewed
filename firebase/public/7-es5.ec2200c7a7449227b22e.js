function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(s){o=!0,a=s}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{XpXM:function(e,t,n){"use strict";n.r(t),n.d(t,"MainModule",(function(){return Ze}));var i,o,a=n("ofXK"),r=n("tyNb"),c=n("zp1y"),s=n("vkgz"),l=n("IzEk"),d=n("lJxs"),u=n("RLuz"),b=n("mnDg"),f=n("fXoL"),p=n("kt0X"),m=n("wHSu"),g=n("6NWb"),h=((i=function(){function e(t){_classCallCheck(this,e),this.store$=t,this.faBars=m.a,this.faUserCircle=m.d}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onLogout",value:function(){this.store$.dispatch(u.a.SignOutUser())}},{key:"openSideNav",value:function(){this.store$.dispatch(b.a.UpdateSideNavVisibility({visible:!0}))}}]),e}()).\u0275fac=function(e){return new(e||i)(f.Kb(p.h))},i.\u0275cmp=f.Eb({type:i,selectors:[["app-navbar"]],decls:13,vars:2,consts:[[1,"layout"],[1,"menu-button","clickable",3,"click"],[3,"icon"],[1,"filler"],[1,"nav-title"],[1,"account","dropdown"],[1,"clickable"],[1,"dropdown-content"],[1,"clickable",3,"click"]],template:function(e,t){1&e&&(f.Nb(0,"div",0),f.Nb(1,"span",1),f.Vb("click",(function(){return t.openSideNav()})),f.Lb(2,"fa-icon",2),f.Mb(),f.Lb(3,"span",3),f.Nb(4,"span",4),f.sc(5,"Launchpad Frame"),f.Mb(),f.Nb(6,"div",5),f.Nb(7,"span",6),f.Lb(8,"fa-icon",2),f.sc(9,"Account"),f.Mb(),f.Nb(10,"div",7),f.Nb(11,"span",8),f.Vb("click",(function(){return t.onLogout()})),f.sc(12,"Logout"),f.Mb(),f.Mb(),f.Mb(),f.Mb()),2&e&&(f.Ab(2),f.ec("icon",t.faBars),f.Ab(6),f.ec("icon",t.faUserCircle))},directives:[g.a],styles:[".layout[_ngcontent-%COMP%]{display:flex;color:#f5f0f6;padding:.75rem;background-color:#2b4162;z-index:1000;justify-content:space-between;box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}@media (max-width:767px){.account[_ngcontent-%COMP%], .menu-button[_ngcontent-%COMP%]{display:block;flex:1}.account[_ngcontent-%COMP%]{text-align:right}.filler[_ngcontent-%COMP%]{display:none}}@media (min-width:768px){.filler[_ngcontent-%COMP%]{display:block}.menu-button[_ngcontent-%COMP%]{display:none}}.account[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding-right:.35rem}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f5f0f6;color:#2b4162;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1;padding:1rem;right:5px}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}"]}),i),v=n("twK/"),y=["*"],C=((o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=f.Eb({type:o,selectors:[["app-sidenav"]],ngContentSelectors:y,decls:2,vars:0,consts:[[1,"sidenav"]],template:function(e,t){1&e&&(f.dc(),f.Nb(0,"div",0),f.cc(1),f.Mb())},styles:[".sidenav[_ngcontent-%COMP%]{height:100%;z-index:1000;background-color:#2b624c;color:#f5f0f6;box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}@media (max-width:767px){.sidenav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:95%}}"]}),o),M=function(e){return{"sidenav-item-selected":e}};function _(e,t){if(1&e){var n=f.Ob();f.Nb(0,"div",12),f.Vb("click",(function(){f.kc(n);var e=t.$implicit;return f.Zb(2).onFrameSelect(e)})),f.Nb(1,"span"),f.sc(2),f.Mb(),f.Mb()}if(2&e){var i=t.$implicit,o=f.Zb(2);f.ec("ngClass",f.fc(2,M,o.selectedFrameId===i.frameId)),f.Ab(2),f.tc(i.name)}}function x(e,t){if(1&e){var n=f.Ob();f.Nb(0,"app-sidenav",10),f.Nb(1,"div",2),f.Nb(2,"div",3),f.Nb(3,"span"),f.sc(4,"Select a Frame"),f.Mb(),f.Nb(5,"span",11),f.Vb("click",(function(){return f.kc(n),f.Zb().closeSidenav()})),f.Lb(6,"fa-icon",8),f.Mb(),f.Mb(),f.Nb(7,"div",4),f.qc(8,_,3,4,"div",5),f.Mb(),f.Nb(9,"div",6),f.Nb(10,"div",7),f.Vb("click",(function(){return f.kc(n),f.Zb().onOpenCreateFrame()})),f.Lb(11,"fa-icon",8),f.sc(12,"Create"),f.Mb(),f.Nb(13,"div",9),f.Vb("click",(function(){return f.kc(n),f.Zb().onOpenJoinFrame()})),f.Lb(14,"fa-icon",8),f.sc(15,"Join"),f.Mb(),f.Mb(),f.Mb(),f.Mb()}if(2&e){var i=f.Zb();f.Ab(6),f.ec("icon",i.faTimes),f.Ab(2),f.ec("ngForOf",i.userFrames),f.Ab(3),f.ec("icon",i.faPlusSquare),f.Ab(3),f.ec("icon",i.faPlusSquare)}}function k(e,t){if(1&e){var n=f.Ob();f.Nb(0,"div",12),f.Vb("click",(function(){f.kc(n);var e=t.$implicit;return f.Zb().onFrameSelect(e)})),f.Nb(1,"span"),f.sc(2),f.Mb(),f.Mb()}if(2&e){var i=t.$implicit,o=f.Zb();f.ec("ngClass",f.fc(2,M,o.selectedFrameId===i.frameId)),f.Ab(2),f.tc(i.name)}}var O,w=((O=function(){function e(t){_classCallCheck(this,e),this.store$=t,this.openCreateFrame=new f.n,this.openJoinFrame=new f.n,this.frameSelect=new f.n,this.showSidenav$=this.store$.select(b.c.SelectSideNavVisibility),this.faPlusSquare=v.c,this.faTimes=m.c}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onOpenCreateFrame",value:function(){this.openCreateFrame.emit(!0)}},{key:"onOpenJoinFrame",value:function(){this.openJoinFrame.emit(!0)}},{key:"onFrameSelect",value:function(e){this.frameSelect.emit(e)}},{key:"closeSidenav",value:function(){this.store$.dispatch(b.a.UpdateSideNavVisibility({visible:!1}))}}]),e}()).\u0275fac=function(e){return new(e||O)(f.Kb(p.h))},O.\u0275cmp=f.Eb({type:O,selectors:[["main-frame-sidenav"]],inputs:{userFrames:"userFrames",selectedFrameId:"selectedFrameId"},outputs:{openCreateFrame:"openCreateFrame",openJoinFrame:"openJoinFrame",frameSelect:"frameSelect"},decls:16,vars:6,consts:[["class","mobile-sidenav",4,"ngIf"],[1,"fixed-sidenav"],[1,"layout"],[1,"title-section"],[1,"content-section"],["class","clickable sidenav-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"actions-section"],[1,"clickable","create",3,"click"],[3,"icon"],[1,"clickable","join",3,"click"],[1,"mobile-sidenav"],[1,"close-button","clickable",3,"click"],[1,"clickable","sidenav-item",3,"ngClass","click"]],template:function(e,t){1&e&&(f.qc(0,x,16,4,"app-sidenav",0),f.ac(1,"async"),f.Nb(2,"app-sidenav",1),f.Nb(3,"div",2),f.Nb(4,"div",3),f.Nb(5,"span"),f.sc(6,"Select a Frame"),f.Mb(),f.Mb(),f.Nb(7,"div",4),f.qc(8,k,3,4,"div",5),f.Mb(),f.Nb(9,"div",6),f.Nb(10,"div",7),f.Vb("click",(function(){return t.onOpenCreateFrame()})),f.Lb(11,"fa-icon",8),f.sc(12,"Create"),f.Mb(),f.Nb(13,"div",9),f.Vb("click",(function(){return t.onOpenJoinFrame()})),f.Lb(14,"fa-icon",8),f.sc(15,"Join"),f.Mb(),f.Mb(),f.Mb(),f.Mb()),2&e&&(f.ec("ngIf",f.bc(1,4,t.showSidenav$)),f.Ab(8),f.ec("ngForOf",t.userFrames),f.Ab(3),f.ec("icon",t.faPlusSquare),f.Ab(3),f.ec("icon",t.faPlusSquare))},directives:[a.k,C,a.j,g.a,a.i],pipes:[a.b],styles:['.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.title-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:1.5rem;padding:1rem;border-bottom:1px solid #f5f0f6}.content-section[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;display:flex;flex-direction:column;font-size:1.25rem}.sidenav-item[_ngcontent-%COMP%]{padding:.5rem}.sidenav-item-selected[_ngcontent-%COMP%]{font-weight:700;background-color:#6a9181;position:relative}.sidenav-item-selected[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:50%;transform:translateY(-50%);width:0;height:0;border-left-style:solid;border-left-width:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:10px solid #2b624c}.actions-section[_ngcontent-%COMP%]{display:flex;border-top:1px solid #f5f0f6}.actions-section[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{border-right:1px solid #f5f0f6}.actions-section[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]   .join[_ngcontent-%COMP%]{padding:.5rem;text-align:center;flex:1}.actions-section[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding-right:.5rem}@media (max-width:767px){.mobile-sidenav[_ngcontent-%COMP%]{display:block}.fixed-sidenav[_ngcontent-%COMP%]{display:none}}@media (min-width:768px){.mobile-sidenav[_ngcontent-%COMP%]{display:none}.fixed-sidenav[_ngcontent-%COMP%]{display:block;height:100%;position:relative}}']}),O),P=n("itXk"),F=n("GyhO"),I=n("HDdC"),N=n("D0XW"),A=n("Y7HM");function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.a;return(!Object(A.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=N.a),new I.a((function(n){return n.add(t.schedule(L,e,{subscriber:n,counter:0,period:e})),n}))}function L(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var j=n("xgIS"),z=n("pLZG"),E=n("mrSG"),$=n("jhN1");function V(e,t){if(1&e){var n=f.Ob();f.Nb(0,"ngx-dropzone-remove-badge",1),f.Vb("click",(function(e){return f.kc(n),f.Zb()._remove(e)})),f.Mb()}}var D=[[["ngx-dropzone-label"]]],T=["ngx-dropzone-label"],q=["fileInput"];function R(e,t){1&e&&f.cc(0,2,["*ngIf","!_hasPreviews"])}var J,U=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],Z=["ngx-dropzone-preview","*","ngx-dropzone-label"],H=((J=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||J)},J.\u0275dir=f.Fb({type:J,selectors:[["ngx-dropzone-label"]]}),J);function K(e){return null!=e&&""+e!="false"}var B,W,G,X,Y,Q,ee=function(){var e={BACKSPACE:8,DELETE:46};return e[e.BACKSPACE]="BACKSPACE",e[e.DELETE]="DELETE",e}(),te=((Q=function(){function e(t){_classCallCheck(this,e),this.sanitizer=t,this._removable=!1,this.removed=new f.n,this.tabIndex=0}return _createClass(e,[{key:"keyEvent",value:function(e){switch(e.keyCode){case ee.BACKSPACE:case ee.DELETE:this.remove()}}},{key:"_remove",value:function(e){e.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:function(){return Object(E.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var i=new FileReader;if(i.onload=function(t){e(t.target.result)},i.onerror=function(e){console.error("FileReader failed on file ".concat(t.file.name,".")),n(e)},!t.file)return n("No file to read. Please provide a file using the [file] Input property.");i.readAsDataURL(t.file)})));case 1:case"end":return e.stop()}}),e)})))}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=K(e)}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}}]),e}()).\u0275fac=function(e){return new(e||Q)(f.Kb($.b))},Q.\u0275cmp=f.Eb({type:Q,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(e,t){1&e&&f.Vb("keyup",(function(e){return t.keyEvent(e)})),2&e&&(f.Qb("tabindex",t.tabIndex),f.oc(t.hostStyle))},inputs:{removable:"removable",file:"file"},outputs:{removed:"removed"},ngContentSelectors:T,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,t){1&e&&(f.dc(D),f.cc(0),f.qc(1,V,1,0,"ngx-dropzone-remove-badge",0)),2&e&&(f.Ab(1),f.ec("ngIf",t.removable))},directives:function(){return[a.k,oe]},styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:focus, [_nghost-%COMP%]:hover{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),Q),ne=((Y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parseFileList",value:function(e,t,n,i){for(var o=[],a=[],r=0;r<e.length;r++){var c=e.item(r);this.isAccepted(c,t)?n&&c.size>n?this.rejectFile(a,c,"size"):!i&&o.length>=1?this.rejectFile(a,c,"no_multiple"):o.push(c):this.rejectFile(a,c,"type")}return{addedFiles:o,rejectedFiles:a}}},{key:"isAccepted",value:function(e,t){if("*"===t)return!0;var n=t.split(",").map((function(e){return e.toLowerCase().trim()})),i=e.type.toLowerCase(),o=e.name.toLowerCase();return!!n.find((function(e){return e.endsWith("/*")?i.split("/")[0]===e.split("/")[0]:e.startsWith(".")?o.endsWith(e):e==i}))}},{key:"rejectFile",value:function(e,t,n){var i=t;i.reason=n,e.push(i)}}]),e}()).\u0275fac=function(e){return new(e||Y)},Y.\u0275prov=f.Gb({token:Y,factory:Y.\u0275fac}),Y),ie=((X=function(){function e(t){_classCallCheck(this,e),this.service=t,this.change=new f.n,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._isHovered=!1}return _createClass(e,[{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(e){this.disabled||(this.preventDefault(e),this._isHovered=!1,this.handleFileDrop(e.dataTransfer.files))}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}},{key:"handleFileDrop",value:function(e){var t=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:t.addedFiles,rejectedFiles:t.rejectedFiles,source:this})}},{key:"preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=K(e),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=K(e)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(e){this._maxFileSize=function(e){return isNaN(parseFloat(e))||isNaN(Number(e))?null:Number(e)}(e)}},{key:"expandable",get:function(){return this._expandable},set:function(e){this._expandable=K(e)}},{key:"disableClick",get:function(){return this._disableClick},set:function(e){this._disableClick=K(e)}}]),e}()).\u0275fac=function(e){return new(e||X)(f.Kb(ne,2))},X.\u0275cmp=f.Eb({type:X,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(e,t,n){var i;1&e&&f.Db(n,te,!0),2&e&&f.hc(i=f.Wb())&&(t._previewChildren=i)},viewQuery:function(e,t){var n;1&e&&f.vc(q,!0),2&e&&f.hc(n=f.Wb())&&(t._fileInput=n.first)},hostVars:8,hostBindings:function(e,t){1&e&&f.Vb("click",(function(){return t._onClick()}))("dragover",(function(e){return t._onDragOver(e)}))("dragleave",(function(){return t._onDragLeave()}))("drop",(function(e){return t._onDrop(e)})),2&e&&f.Cb("ngx-dz-hovered",t._isHovered)("ngx-dz-disabled",t.disabled)("expandable",t.expandable)("unclickable",t.disableClick)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[f.zb([ne])],ngContentSelectors:Z,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(e,t){1&e&&(f.dc(U),f.Nb(0,"input",0,1),f.Vb("change",(function(e){return t._onFilesSelected(e)})),f.Mb(),f.qc(2,R,1,0,void 0,2),f.cc(3),f.cc(4,1)),2&e&&(f.ec("id",t.id)("multiple",t.multiple)("accept",t.accept)("disabled",t.disabled),f.Bb("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedBy),f.Ab(2),f.ec("ngIf",!t._hasPreviews))},directives:[a.k],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:#000 dotted 1px;outline:-webkit-focus-ring-color auto 5px}"]}),X),oe=((G=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||G)},G.\u0275cmp=f.Eb({type:G,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(e,t){1&e&&(f.Yb(),f.Nb(0,"svg"),f.Lb(1,"line",0),f.Lb(2,"line",1),f.Mb())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),G),ae=((W=function e(){_classCallCheck(this,e)}).\u0275mod=f.Ib({type:W}),W.\u0275inj=f.Hb({factory:function(e){return new(e||W)},imports:[[a.c]]}),W),re=((B=function(){function e(t){var n=this;_classCallCheck(this,e),this.image=t,this.onIntersect=function(e,t){var i=_slicedToArray(e,1)[0];i.isIntersecting&&(i.target.src=n.source,t.unobserve(n.image.nativeElement),t.disconnect())}}return _createClass(e,[{key:"ngOnInit",value:function(){this.registerIntersectionObserver()}},{key:"registerIntersectionObserver",value:function(){this._intersectionObserver=new IntersectionObserver(this.onIntersect,{root:null,rootMargin:"175px",threshold:0}),this._intersectionObserver.observe(this.image.nativeElement)}}]),e}()).\u0275fac=function(e){return new(e||B)(f.Kb(f.l))},B.\u0275dir=f.Fb({type:B,selectors:[["","mainImageLazyLoad",""]],inputs:{source:["mainImageLazyLoad","source"]}}),B),ce=n("Kqap"),se=n("JX91");function le(e,t){if(1&e&&(f.Nb(0,"div",1),f.Lb(1,"img",2),f.Nb(2,"div",3),f.sc(3),f.Mb(),f.Nb(4,"div",4),f.sc(5),f.Mb(),f.Mb()),2&e){var n=t.ngIf,i=f.Zb();f.Ab(1),f.ec("src",n.downloadUrl,f.mc),f.Ab(2),f.uc(" From: ",n.username," "),f.Ab(2),f.uc(" Access Code: ",i.accessCode," ")}}var de,ue=((de=function(){function e(t){_classCallCheck(this,e),this.store$=t,this.IMAGE_DISPLAY_DURATION=7500,this.currentImages$=this.setCurrentImagesListener(),this.currentImageIndex$=this.setCurrentImageIndexGenerator(),this.liveImage$=this.setLiveImageGenerator(),this.images=[],this.exit=new f.n}return _createClass(e,[{key:"onEscapeHandler",value:function(e){this.exit.emit(!0)}},{key:"ngOnInit",value:function(){this.store$.dispatch(b.a.LiveImageListenerRequest())}},{key:"ngOnDestroy",value:function(){this.store$.dispatch(b.a.LiveImageListenerStopRequest())}},{key:"setCurrentImagesListener",value:function(){return this.store$.select(b.c.SelectFrameImages).pipe(Object(ce.a)((function(e,t){var n=t.filter((function(t){return!e.includes(t)}));return[].concat(_toConsumableArray(e),_toConsumableArray(n))}),[]))}},{key:"setCurrentImageIndexGenerator",value:function(){return S(this.IMAGE_DISPLAY_DURATION).pipe(Object(se.a)(0),Object(c.a)(this.currentImages$),Object(d.a)((function(e){var t=_slicedToArray(e,2);return t[0],t[1]})),Object(ce.a)((function(e,t){return(e+1)%t.length}),0))}},{key:"setLiveImageGenerator",value:function(){return this.currentImageIndex$.pipe(Object(c.a)(this.currentImages$),Object(d.a)((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1][n]})))}}]),e}()).\u0275fac=function(e){return new(e||de)(f.Kb(p.h))},de.\u0275cmp=f.Eb({type:de,selectors:[["main-live-view"]],hostBindings:function(e,t){1&e&&f.Vb("keydown.escape",(function(e){return t.onEscapeHandler(e)}),!1,f.jc)},inputs:{accessCode:"accessCode"},outputs:{exit:"exit"},decls:2,vars:3,consts:[["class","layout",4,"ngIf"],[1,"layout"],[3,"src"],[1,"username-overlay"],[1,"access-code-overlay"]],template:function(e,t){1&e&&(f.qc(0,le,6,3,"div",0),f.ac(1,"async")),2&e&&f.ec("ngIf",f.bc(1,1,t.liveImage$))},directives:[a.k],pipes:[a.b],styles:[".layout[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:#000;position:fixed;top:0;left:0;z-index:100;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.username-overlay[_ngcontent-%COMP%]{top:20px;left:20px}.access-code-overlay[_ngcontent-%COMP%], .username-overlay[_ngcontent-%COMP%]{position:fixed;color:#fff;padding:.5rem;background-color:#000;opacity:.75}.access-code-overlay[_ngcontent-%COMP%]{bottom:20px;right:20px}"]}),de);function be(e,t){if(1&e&&(f.Nb(0,"div",21),f.Lb(1,"img",22),f.Mb()),2&e){var n=t.$implicit;f.pc("height",n.displayDimensions.height+"px")("width",n.displayDimensions.width+"px"),f.Ab(1),f.ec("mainImageLazyLoad",n.image.downloadUrl)}}function fe(e,t){if(1&e&&(f.Nb(0,"div",17),f.Nb(1,"span",18),f.sc(2),f.Mb(),f.Nb(3,"div",19),f.qc(4,be,2,5,"div",20),f.Mb(),f.Mb()),2&e){var n=t.$implicit;f.Ab(2),f.uc("",n.displayKey,"'s Images"),f.Ab(2),f.ec("ngForOf",n.images)}}function pe(e,t){if(1&e){var n=f.Ob();f.Nb(0,"main-live-view",23),f.Vb("exit",(function(){return f.kc(n),f.Zb(2).onExitLiveView()})),f.Mb()}if(2&e){var i=f.Zb().ngIf;f.ec("accessCode",i.accessToken.token)}}function me(e,t){if(1&e){var n=f.Ob();f.Nb(0,"div",3),f.Nb(1,"div",4),f.Nb(2,"span",5),f.sc(3),f.Mb(),f.Nb(4,"span",6),f.Vb("click",(function(){return f.kc(n),f.Zb().onShowLiveView()})),f.sc(5,"Live Mode"),f.Mb(),f.Mb(),f.Nb(6,"div",7),f.Nb(7,"span",8),f.sc(8),f.Mb(),f.Mb(),f.Nb(9,"div",9),f.Nb(10,"ngx-dropzone",10),f.Vb("change",(function(e){return f.kc(n),f.Zb().onFilesAdded(e.addedFiles)})),f.Nb(11,"ngx-dropzone-label"),f.sc(12,"Drag Files or Click to Browse"),f.Mb(),f.Mb(),f.Nb(13,"div",11),f.Nb(14,"input",12),f.Vb("change",(function(e){return f.kc(n),f.Zb().onFilesAddedMobile(e.target.files)})),f.Mb(),f.Nb(15,"button",13),f.Vb("click",(function(){return f.kc(n),f.Zb().onFabClick()})),f.Lb(16,"fa-icon",14),f.Mb(),f.Mb(),f.Mb(),f.qc(17,fe,5,2,"div",15),f.ac(18,"async"),f.qc(19,pe,1,1,"main-live-view",16),f.Mb()}if(2&e){var i=t.ngIf,o=f.Zb();f.Ab(3),f.tc(i.name),f.Ab(5),f.uc("- Access Code: ",i.accessToken.token,""),f.Ab(6),f.ec("hidden",!0),f.Ab(2),f.ec("icon",o.faCamera),f.Ab(1),f.ec("ngForOf",f.bc(18,6,o.groupedImages$)),f.Ab(2),f.ec("ngIf",o.showLiveView)}}function ge(e,t){1&e&&f.Lb(0,"div",24),2&e&&f.pc("width",t.ngIf,"%")}function he(e,t){1&e&&f.sc(0," NO FRAME SELECTED!\n")}var ve,ye,Ce,Me,_e=((ve=function(){function e(t){_classCallCheck(this,e),this.store$=t,this.selectedFrame$=this.store$.select(b.c.SelectSelectedFrame),this.uploadPercentage$=this.store$.select(b.c.SelectUploadPercentage),this.groupedImages$=this.setGroupedImagesSelector(),this.showLiveView=!1,this.faCamera=m.b}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){}},{key:"onFilesAdded",value:function(e){this.store$.dispatch(b.a.UploadImagesRequest({Images:e}))}},{key:"onFilesAddedMobile",value:function(e){this.onFilesAdded(Array.from(e))}},{key:"onFabClick",value:function(){document.getElementById("mobileUpload").click()}},{key:"onShowLiveView",value:function(){this.showLiveView=!0}},{key:"onExitLiveView",value:function(){this.showLiveView=!1}},{key:"setGroupedImagesSelector",value:function(){var e=this,t=this.getImageViewSizeWatcher();return Object(P.a)(this.selectedFrame$,t).pipe(Object(d.a)((function(t){var n=_slicedToArray(t,2),i=n[0],o=n[1],a=[];return _toConsumableArray(i.images).map((function(e){var t=Object.assign({},e);return t.dimensions=void 0!==t.dimensions?t.dimensions:{width:500,height:500},t})).forEach((function(e){var t=a.findIndex((function(t){return t.displayKey===e.username}));t>=0?a[t].images.push({image:e,displayDimensions:e.dimensions}):a.push({displayKey:e.username,images:[{image:e,displayDimensions:e.dimensions}]})})),e.resolveBestDimensions(a,o)})))}},{key:"getImageViewSizeWatcher",value:function(){var e=this.getInitialImageViewWatcher(),t=this.getResizeListener();return Object(F.a)(e,t)}},{key:"getInitialImageViewWatcher",value:function(){return S(100).pipe(Object(z.a)((function(){return null!==document.querySelector("#test")})),Object(l.a)(1),Object(d.a)(this.getImageViewWidth))}},{key:"getResizeListener",value:function(){return Object(j.a)(window,"resize").pipe(Object(d.a)(this.getImageViewWidth))}},{key:"resolveBestDimensions",value:function(e,t){var n=e.reduce((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t.images))}),[]).sort((function(e,t){return e.image.dimensions.width-t.image.dimensions.width})),i=n[n.length-1],o=t/this.resolveNumberOfImagesPerRow(t)*(i.image.dimensions.height/i.image.dimensions.width);return _toConsumableArray(e).map((function(e){var t=Object.assign({},e);return t.images=t.images.map((function(e){var t=Object.assign(Object.assign({},e),{displayDimensions:Object.assign({},e.displayDimensions)});return t.displayDimensions.height=o,t.displayDimensions.width=o*(t.image.dimensions.width/t.image.dimensions.height),t})),t}))}},{key:"resolveNumberOfImagesPerRow",value:function(e){return e<=490?1:e<=735?2:4}},{key:"getImageViewWidth",value:function(){var e=window.getComputedStyle(document.querySelector("#test")).width;return parseInt(e.substr(0,e.length-2),10)}}]),e}()).\u0275fac=function(e){return new(e||ve)(f.Kb(p.h))},ve.\u0275cmp=f.Eb({type:ve,selectors:[["main-frame"]],decls:6,vars:7,consts:[["class","layout","id","test",4,"ngIf","ngIfElse"],["class","upload-progress",3,"width",4,"ngIf"],["noFrame",""],["id","test",1,"layout"],[1,"title"],[1,"frame-name"],[1,"live-view","clickable",3,"click"],[1,"subtitle"],[1,"access-code"],[1,"image-upload-section"],[1,"image-upload-zone",3,"change"],[1,"image-upload-camera"],["id","mobileUpload","type","file","accept","image/*","capture","camera",3,"hidden","change"],[1,"fab-image-capture",3,"click"],[3,"icon"],["class","group-image-display-section",4,"ngFor","ngForOf"],[3,"accessCode","exit",4,"ngIf"],[1,"group-image-display-section"],[1,"group-title"],[1,"image-section"],["class","image-container",3,"height","width",4,"ngFor","ngForOf"],[1,"image-container"],[1,"image",3,"mainImageLazyLoad"],[3,"accessCode","exit"],[1,"upload-progress"]],template:function(e,t){if(1&e&&(f.qc(0,me,20,8,"div",0),f.ac(1,"async"),f.qc(2,ge,1,2,"div",1),f.ac(3,"async"),f.qc(4,he,1,0,"ng-template",null,2,f.rc)),2&e){var n=f.ic(5);f.ec("ngIf",f.bc(1,3,t.selectedFrame$))("ngIfElse",n),f.Ab(2),f.ec("ngIf",f.bc(3,5,t.uploadPercentage$))}},directives:[a.k,ie,H,g.a,a.j,re,ue],pipes:[a.b],styles:[".layout[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column}.title[_ngcontent-%COMP%]{padding-bottom:.5rem;display:flex;justify-content:space-between}.title[_ngcontent-%COMP%]   .frame-name[_ngcontent-%COMP%]{text-decoration:underline;font-size:1.5rem}.title[_ngcontent-%COMP%]   .live-view[_ngcontent-%COMP%]{align-self:center}.subtitle[_ngcontent-%COMP%]{display:flex}.subtitle[_ngcontent-%COMP%]   .access-code[_ngcontent-%COMP%]{padding-left:.75rem}.group-image-display-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:1rem}.group-image-display-section[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-weight:700;padding-bottom:.5rem}.group-image-display-section[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.group-image-display-section[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding-bottom:.3rem}.group-image-display-section[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%}.image-upload-zone[_ngcontent-%COMP%]{display:flex;opacity:.75;height:100px}.image-upload-camera[_ngcontent-%COMP%]{display:none}@media (max-width:1023px){.image-upload-zone[_ngcontent-%COMP%]{display:none}.image-upload-camera[_ngcontent-%COMP%]{display:block}}.fab-image-capture[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:50px;z-index:10;box-shadow:0 3px 6px rgba(0,0,0,.5);background-color:#624c2b;color:#f5f0f6;width:60px;height:60px;border-radius:100%;border:none;font-size:1.5rem}.upload-progress[_ngcontent-%COMP%]{background-color:#649742;height:10px;width:100%;position:fixed;bottom:0;left:0;z-index:2000}"]}),ve),xe=["*"],ke=((Me=function(){function e(){_classCallCheck(this,e),this.closeModal=new f.n,this.faTimes=m.c}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onCloseModal",value:function(){this.closeModal.emit(!0)}}]),e}()).\u0275fac=function(e){return new(e||Me)},Me.\u0275cmp=f.Eb({type:Me,selectors:[["app-modal"]],inputs:{title:"title"},outputs:{closeModal:"closeModal"},ngContentSelectors:xe,decls:9,vars:2,consts:[[1,"modal"],[1,"modal-content"],[1,"header"],[1,"clickable",3,"click"],[3,"icon"],[1,"header-seperator"]],template:function(e,t){1&e&&(f.dc(),f.Nb(0,"div",0),f.Nb(1,"div",1),f.Nb(2,"div",2),f.Nb(3,"span"),f.sc(4),f.Mb(),f.Nb(5,"span",3),f.Vb("click",(function(){return t.onCloseModal()})),f.Lb(6,"fa-icon",4),f.Mb(),f.Mb(),f.Lb(7,"hr",5),f.cc(8),f.Mb(),f.Mb()),2&e&&(f.Ab(4),f.tc(t.title),f.Ab(2),f.ec("icon",t.faTimes))},directives:[g.a],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#f5f0f6;margin:15% auto;padding:1rem;border:1px solid #888;width:80%}.header[_ngcontent-%COMP%]{font-size:1.5rem;display:flex;justify-content:space-between;padding-bottom:.25rem}hr.header-seperator[_ngcontent-%COMP%]{padding-bottom:.75rem;border-top:1px solid #000;border-left:none}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:.75rem}.input-label[_ngcontent-%COMP%]{padding-bottom:.25rem}.error[_ngcontent-%COMP%]{color:#d8000c}@media (max-width:767px){.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width:768px){.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width:1024px){.modal-content[_ngcontent-%COMP%]{width:30%}}"]}),Me),Oe=((Ce=function(){function e(){_classCallCheck(this,e),this.closeModal=new f.n,this.createFrame=new f.n,this.errorText=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onCloseModal",value:function(){this.closeModal.emit(!0)}},{key:"onCreateFrame",value:function(e){e&&""!==e?this.createFrame.emit(e):this.errorText="Must enter a name."}}]),e}()).\u0275fac=function(e){return new(e||Ce)},Ce.\u0275cmp=f.Eb({type:Ce,selectors:[["main-create-frame"]],outputs:{closeModal:"closeModal",createFrame:"createFrame"},decls:11,vars:2,consts:[[3,"title","closeModal"],[1,"body"],[1,"input-label"],["type","text"],["frameName",""],[1,"error"],[1,"footer"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){var n=f.Ob();f.Nb(0,"app-modal",0),f.Vb("closeModal",(function(){return t.onCloseModal()})),f.Nb(1,"div",1),f.Nb(2,"span",2),f.sc(3,"Name:"),f.Mb(),f.Lb(4,"input",3,4),f.Nb(6,"span",5),f.sc(7),f.Mb(),f.Mb(),f.Nb(8,"div",6),f.Nb(9,"button",7),f.Vb("click",(function(){f.kc(n);var e=f.ic(5);return t.onCreateFrame(e.value)})),f.sc(10,"CREATE"),f.Mb(),f.Mb(),f.Mb()}2&e&&(f.ec("title","Create a Frame"),f.Ab(7),f.tc(t.errorText))},directives:[ke],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#f5f0f6;margin:15% auto;padding:1rem;border:1px solid #888;width:80%}.header[_ngcontent-%COMP%]{font-size:1.5rem;display:flex;justify-content:space-between;padding-bottom:.25rem}hr.header-seperator[_ngcontent-%COMP%]{padding-bottom:.75rem;border-top:1px solid #000;border-left:none}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:.75rem}.input-label[_ngcontent-%COMP%]{padding-bottom:.25rem}.error[_ngcontent-%COMP%]{color:#d8000c}@media (max-width:767px){.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width:768px){.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width:1024px){.modal-content[_ngcontent-%COMP%]{width:30%}}"]}),Ce),we=((ye=function(){function e(){_classCallCheck(this,e),this.closeModal=new f.n,this.joinFrame=new f.n,this.errorText=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onCloseModal",value:function(){this.closeModal.emit(!0)}},{key:"onCreateFrame",value:function(e){e&&""!==e?6!==e.length?this.errorText="Value must have 6 characters/numbers.":this.joinFrame.emit(e):this.errorText="Must enter a value."}}]),e}()).\u0275fac=function(e){return new(e||ye)},ye.\u0275cmp=f.Eb({type:ye,selectors:[["main-join-frame"]],outputs:{closeModal:"closeModal",joinFrame:"joinFrame"},decls:11,vars:2,consts:[[3,"title","closeModal"],[1,"body"],[1,"input-label"],["type","text"],["accessKey",""],[1,"error"],[1,"footer"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){var n=f.Ob();f.Nb(0,"app-modal",0),f.Vb("closeModal",(function(){return t.onCloseModal()})),f.Nb(1,"div",1),f.Nb(2,"span",2),f.sc(3,"Access Key:"),f.Mb(),f.Lb(4,"input",3,4),f.Nb(6,"span",5),f.sc(7),f.Mb(),f.Mb(),f.Nb(8,"div",6),f.Nb(9,"button",7),f.Vb("click",(function(){f.kc(n);var e=f.ic(5);return t.onCreateFrame(e.value)})),f.sc(10,"JOIN"),f.Mb(),f.Mb(),f.Mb()}2&e&&(f.ec("title","Join a Frame"),f.Ab(7),f.tc(t.errorText))},directives:[ke],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#f5f0f6;margin:15% auto;padding:1rem;border:1px solid #888;width:80%}.header[_ngcontent-%COMP%]{font-size:1.5rem;display:flex;justify-content:space-between;padding-bottom:.25rem}hr.header-seperator[_ngcontent-%COMP%]{padding-bottom:.75rem;border-top:1px solid #000;border-left:none}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:.75rem}.input-label[_ngcontent-%COMP%]{padding-bottom:.25rem}.error[_ngcontent-%COMP%]{color:#d8000c}@media (max-width:767px){.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width:768px){.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width:1024px){.modal-content[_ngcontent-%COMP%]{width:30%}}"]}),ye);function Pe(e,t){if(1&e){var n=f.Ob();f.Nb(0,"main-create-frame",6),f.Vb("closeModal",(function(){return f.kc(n),f.Zb().onCloseModal()}))("createFrame",(function(e){return f.kc(n),f.Zb().onCreateFrame(e)})),f.Mb()}}function Fe(e,t){if(1&e){var n=f.Ob();f.Nb(0,"main-join-frame",7),f.Vb("closeModal",(function(){return f.kc(n),f.Zb().onCloseModal()}))("joinFrame",(function(e){return f.kc(n),f.Zb().onJoinFrame(e)})),f.Mb()}}var Ie,Ne,Ae,Se,Le=((Ie=function(){function e(t){_classCallCheck(this,e),this.store$=t,this.user$=this.store$.select(u.b.SelectAuthenticationUser),this.selectedFrameId$=this.setSelectedFrameIdListener(),this.showCreateFrameModal=!1,this.showJoinFrameModal=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.selectInitialFrameIfAvailable()}},{key:"onFrameSelect",value:function(e){this.store$.dispatch(b.a.SelectFrame.Request({request:e.frameId})),this.closeSideNav()}},{key:"openCreateFrame",value:function(){this.closeSideNav(),this.showCreateFrameModal=!0}},{key:"onCloseModal",value:function(){this.showCreateFrameModal=!1,this.showJoinFrameModal=!1}},{key:"onCreateFrame",value:function(e){this.store$.dispatch(b.a.NewFrame.Request({request:e})),this.onCloseModal()}},{key:"openJoinFrame",value:function(){this.closeSideNav(),this.showJoinFrameModal=!0}},{key:"onJoinFrame",value:function(e){this.store$.dispatch(b.a.JoinFrame.Request({request:e})),this.onCloseModal()}},{key:"selectInitialFrameIfAvailable",value:function(){var e=this;this.user$.pipe(Object(c.a)(this.selectedFrameId$),Object(s.a)((function(t){var n=_slicedToArray(t,2),i=n[0],o=n[1];i.frames.length>0&&!o&&e.store$.dispatch(b.a.SelectFrame.Request({request:i.frames[0].frameId}))})),Object(l.a)(1)).subscribe()}},{key:"closeSideNav",value:function(){this.store$.dispatch(b.a.UpdateSideNavVisibility({visible:!1}))}},{key:"setSelectedFrameIdListener",value:function(){return this.store$.select(b.c.SelectSelectedFrame).pipe(Object(d.a)((function(e){return e?e.id:""})))}}]),e}()).\u0275fac=function(e){return new(e||Ie)(f.Kb(p.h))},Ie.\u0275cmp=f.Eb({type:Ie,selectors:[["app-entry"]],decls:9,vars:8,consts:[[1,"layout"],[1,"component-layout"],[1,"sidenav-space",3,"userFrames","selectedFrameId","openCreateFrame","openJoinFrame","frameSelect"],[1,"frame-space"],[3,"closeModal","createFrame",4,"ngIf"],[3,"closeModal","joinFrame",4,"ngIf"],[3,"closeModal","createFrame"],[3,"closeModal","joinFrame"]],template:function(e,t){1&e&&(f.Nb(0,"div",0),f.Lb(1,"app-navbar"),f.Nb(2,"div",1),f.Nb(3,"main-frame-sidenav",2),f.Vb("openCreateFrame",(function(){return t.openCreateFrame()}))("openJoinFrame",(function(){return t.openJoinFrame()}))("frameSelect",(function(e){return t.onFrameSelect(e)})),f.ac(4,"async"),f.ac(5,"async"),f.Mb(),f.Lb(6,"main-frame",3),f.Mb(),f.Mb(),f.qc(7,Pe,1,0,"main-create-frame",4),f.qc(8,Fe,1,0,"main-join-frame",5)),2&e&&(f.Ab(3),f.ec("userFrames",f.bc(4,4,t.user$).frames)("selectedFrameId",f.bc(5,6,t.selectedFrameId$)),f.Ab(4),f.ec("ngIf",t.showCreateFrameModal),f.Ab(1),f.ec("ngIf",t.showJoinFrameModal))},directives:[h,w,_e,a.k,Oe,we],pipes:[a.b],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.layout[_ngcontent-%COMP%]   .component-layout[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow:hidden}.layout[_ngcontent-%COMP%]   .component-layout[_ngcontent-%COMP%]   .frame-space[_ngcontent-%COMP%]{flex:7;overflow:auto}@media (max-width:767px){.sidenav-space[_ngcontent-%COMP%]{flex:0}}@media (min-width:768px){.sidenav-space[_ngcontent-%COMP%]{flex:3}}"]}),Ie),je=n("LRne"),ze=n("5+tZ"),Ee=n("SxV6"),$e=n("CqXF"),Ve=n("p26r"),De=n("jL29"),Te=((Ne=function(){function e(t,n,i){_classCallCheck(this,e),this.authenticationService=t,this.router=n,this.store$=i}return _createClass(e,[{key:"canActivate",value:function(e,t){var n=this;return this.authenticationService.userIsSignedIn().pipe(Object(ze.a)((function(e){return e?n.ensureUserDataIsInStore():Object(je.a)(n.router.parseUrl(Ve.a.authentication))})))}},{key:"ensureUserDataIsInStore",value:function(){var e=this.store$.pipe(Object(p.t)(u.b.SelectAuthenticationUser)),t=this.store$.pipe(Object(p.t)(u.b.SelectLoginErrorMessage));return Object(P.a)(e,t).pipe(this.fetchUserIfNull(),Object(Ee.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return null!==n||""!==i})),Object($e.a)(!0))}},{key:"fetchUserIfNull",value:function(){var e=this;return Object(s.a)((function(t){var n=_slicedToArray(t,2),i=n[0],o=n[1];null===i&&""===o&&e.store$.dispatch(u.a.GetUserDataFromSignedInUser.Request({request:null}))}))}}]),e}()).\u0275fac=function(e){return new(e||Ne)(f.Rb(De.a),f.Rb(r.a),f.Rb(p.h))},Ne.\u0275prov=f.Gb({token:Ne,factory:Ne.\u0275fac}),Ne),qe=[{path:"",component:Le,canActivate:[Te]}],Re=((Ae=function e(){_classCallCheck(this,e)}).\u0275mod=f.Ib({type:Ae}),Ae.\u0275inj=f.Hb({factory:function(e){return new(e||Ae)},providers:[Te],imports:[[a.c,r.b.forChild(qe)],r.b]}),Ae),Je=n("lf9s"),Ue=n("BHD2"),Ze=((Se=function e(){_classCallCheck(this,e)}).\u0275mod=f.Ib({type:Se}),Se.\u0275inj=f.Hb({factory:function(e){return new(e||Se)},providers:[Je.a],imports:[[a.c,Re,ae,Ue.a,g.b]]}),Se)}}]);