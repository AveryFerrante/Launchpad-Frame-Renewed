!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,o=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(s){o=!0,a=s}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{XpXM:function(n,i,a){"use strict";a.r(i),a.d(i,"MainModule",function(){return Ge});var c,s,l=a("ofXK"),d=a("tyNb"),u=a("zp1y"),b=a("vkgz"),p=a("IzEk"),f=a("lJxs"),m=a("RLuz"),g=a("mnDg"),h=a("fXoL"),v=a("l7P3"),y=a("wHSu"),x=a("6NWb"),C=((c=function(){function e(t){o(this,e),this.store$=t,this.faBars=y.a,this.faUserCircle=y.d}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onLogout",value:function(){this.store$.dispatch(m.a.SignOutUser())}},{key:"openSideNav",value:function(){this.store$.dispatch(g.a.UpdateSideNavVisibility({visible:!0}))}}]),e}()).\u0275fac=function(e){return new(e||c)(h.Ib(v.h))},c.\u0275cmp=h.Cb({type:c,selectors:[["app-navbar"]],decls:13,vars:2,consts:[[1,"layout"],[1,"menu-button","clickable",3,"click"],[3,"icon"],[1,"filler"],[1,"nav-title"],[1,"account","dropdown"],[1,"clickable"],[1,"dropdown-content"],[1,"clickable",3,"click"]],template:function(e,t){1&e&&(h.Lb(0,"div",0),h.Lb(1,"span",1),h.Sb("click",function(){return t.openSideNav()}),h.Jb(2,"fa-icon",2),h.Kb(),h.Jb(3,"span",3),h.Lb(4,"span",4),h.pc(5,"Launchpad Frame"),h.Kb(),h.Lb(6,"div",5),h.Lb(7,"span",6),h.Jb(8,"fa-icon",2),h.pc(9,"Account"),h.Kb(),h.Lb(10,"div",7),h.Lb(11,"span",8),h.Sb("click",function(){return t.onLogout()}),h.pc(12,"Logout"),h.Kb(),h.Kb(),h.Kb(),h.Kb()),2&e&&(h.yb(2),h.bc("icon",t.faBars),h.yb(6),h.bc("icon",t.faUserCircle))},directives:[x.a],styles:[".layout[_ngcontent-%COMP%]{display:flex;color:#f5f0f6;padding:.75rem;background-color:#2b4162;z-index:1000;justify-content:space-between;box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}@media (max-width:767px){.account[_ngcontent-%COMP%], .menu-button[_ngcontent-%COMP%]{display:block;flex:1}.account[_ngcontent-%COMP%]{text-align:right}.filler[_ngcontent-%COMP%]{display:none}}@media (min-width:768px){.filler[_ngcontent-%COMP%]{display:block}.menu-button[_ngcontent-%COMP%]{display:none}}.account[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding-right:.35rem}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f5f0f6;color:#2b4162;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1;padding:1rem;right:5px}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}"]}),c),O=a("twK/"),w=["*"],M=((s=function(){function e(){o(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=h.Cb({type:s,selectors:[["app-sidenav"]],ngContentSelectors:w,decls:2,vars:0,consts:[[1,"sidenav"]],template:function(e,t){1&e&&(h.ac(),h.Lb(0,"div",0),h.Zb(1),h.Kb())},styles:[".sidenav[_ngcontent-%COMP%]{height:100%;z-index:1000;background-color:#2b624c;color:#f5f0f6;box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}@media (max-width:767px){.sidenav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:95%}}"]}),s),k=function(e){return{"sidenav-item-selected":e}};function _(e,t){if(1&e){var n=h.Mb();h.Lb(0,"div",12),h.Sb("click",function(){h.hc(n);var e=t.$implicit;return h.Wb(2).onFrameSelect(e)}),h.Lb(1,"span"),h.pc(2),h.Kb(),h.Kb()}if(2&e){var i=t.$implicit,o=h.Wb(2);h.bc("ngClass",h.cc(2,k,o.selectedFrameId===i.frameId)),h.yb(2),h.qc(i.name)}}function P(e,t){if(1&e){var n=h.Mb();h.Lb(0,"app-sidenav",10),h.Lb(1,"div",2),h.Lb(2,"div",3),h.Lb(3,"span"),h.pc(4,"Select a Frame"),h.Kb(),h.Lb(5,"span",11),h.Sb("click",function(){return h.hc(n),h.Wb().closeSidenav()}),h.Jb(6,"fa-icon",8),h.Kb(),h.Kb(),h.Lb(7,"div",4),h.nc(8,_,3,4,"div",5),h.Kb(),h.Lb(9,"div",6),h.Lb(10,"div",7),h.Sb("click",function(){return h.hc(n),h.Wb().onOpenCreateFrame()}),h.Jb(11,"fa-icon",8),h.pc(12,"Create"),h.Kb(),h.Lb(13,"div",9),h.Sb("click",function(){return h.hc(n),h.Wb().onOpenJoinFrame()}),h.Jb(14,"fa-icon",8),h.pc(15,"Join"),h.Kb(),h.Kb(),h.Kb(),h.Kb()}if(2&e){var i=h.Wb();h.yb(6),h.bc("icon",i.faTimes),h.yb(2),h.bc("ngForOf",i.userFrames),h.yb(3),h.bc("icon",i.faPlusSquare),h.yb(3),h.bc("icon",i.faPlusSquare)}}function F(e,t){if(1&e){var n=h.Mb();h.Lb(0,"div",12),h.Sb("click",function(){h.hc(n);var e=t.$implicit;return h.Wb().onFrameSelect(e)}),h.Lb(1,"span"),h.pc(2),h.Kb(),h.Kb()}if(2&e){var i=t.$implicit,o=h.Wb();h.bc("ngClass",h.cc(2,k,o.selectedFrameId===i.frameId)),h.yb(2),h.qc(i.name)}}var I,L=((I=function(){function e(t){o(this,e),this.store$=t,this.openCreateFrame=new h.n,this.openJoinFrame=new h.n,this.frameSelect=new h.n,this.showSidenav$=this.store$.select(g.c.SelectSideNavVisibility),this.faPlusSquare=O.c,this.faTimes=y.c}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onOpenCreateFrame",value:function(){this.openCreateFrame.emit(!0)}},{key:"onOpenJoinFrame",value:function(){this.openJoinFrame.emit(!0)}},{key:"onFrameSelect",value:function(e){this.frameSelect.emit(e)}},{key:"closeSidenav",value:function(){this.store$.dispatch(g.a.UpdateSideNavVisibility({visible:!1}))}}]),e}()).\u0275fac=function(e){return new(e||I)(h.Ib(v.h))},I.\u0275cmp=h.Cb({type:I,selectors:[["main-frame-sidenav"]],inputs:{userFrames:"userFrames",selectedFrameId:"selectedFrameId"},outputs:{openCreateFrame:"openCreateFrame",openJoinFrame:"openJoinFrame",frameSelect:"frameSelect"},decls:16,vars:6,consts:[["class","mobile-sidenav",4,"ngIf"],[1,"fixed-sidenav"],[1,"layout"],[1,"title-section"],[1,"content-section"],["class","clickable sidenav-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"actions-section"],[1,"clickable","create",3,"click"],[3,"icon"],[1,"clickable","join",3,"click"],[1,"mobile-sidenav"],[1,"close-button","clickable",3,"click"],[1,"clickable","sidenav-item",3,"ngClass","click"]],template:function(e,t){1&e&&(h.nc(0,P,16,4,"app-sidenav",0),h.Xb(1,"async"),h.Lb(2,"app-sidenav",1),h.Lb(3,"div",2),h.Lb(4,"div",3),h.Lb(5,"span"),h.pc(6,"Select a Frame"),h.Kb(),h.Kb(),h.Lb(7,"div",4),h.nc(8,F,3,4,"div",5),h.Kb(),h.Lb(9,"div",6),h.Lb(10,"div",7),h.Sb("click",function(){return t.onOpenCreateFrame()}),h.Jb(11,"fa-icon",8),h.pc(12,"Create"),h.Kb(),h.Lb(13,"div",9),h.Sb("click",function(){return t.onOpenJoinFrame()}),h.Jb(14,"fa-icon",8),h.pc(15,"Join"),h.Kb(),h.Kb(),h.Kb(),h.Kb()),2&e&&(h.bc("ngIf",h.Yb(1,4,t.showSidenav$)),h.yb(8),h.bc("ngForOf",t.userFrames),h.yb(3),h.bc("icon",t.faPlusSquare),h.yb(3),h.bc("icon",t.faPlusSquare))},directives:[l.k,M,l.j,x.a,l.i],pipes:[l.b],styles:['.layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.title-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:1.5rem;padding:1rem;border-bottom:1px solid #f5f0f6}.content-section[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;display:flex;flex-direction:column;font-size:1.25rem}.sidenav-item[_ngcontent-%COMP%]{padding:.5rem}.sidenav-item-selected[_ngcontent-%COMP%]{font-weight:700;background-color:#6a9181;position:relative}.sidenav-item-selected[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:50%;transform:translateY(-50%);width:0;height:0;border-left-style:solid;border-left-width:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:10px solid #2b624c}.actions-section[_ngcontent-%COMP%]{display:flex;border-top:1px solid #f5f0f6}.actions-section[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{border-right:1px solid #f5f0f6}.actions-section[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]   .join[_ngcontent-%COMP%]{padding:.5rem;text-align:center;flex:1}.actions-section[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding-right:.5rem}@media (max-width:767px){.mobile-sidenav[_ngcontent-%COMP%]{display:block}.fixed-sidenav[_ngcontent-%COMP%]{display:none}}@media (min-width:768px){.mobile-sidenav[_ngcontent-%COMP%]{display:none}.fixed-sidenav[_ngcontent-%COMP%]{display:block;height:100%;position:relative}}']}),I),S=a("itXk"),K=a("GyhO"),j=a("HDdC"),z=a("D0XW"),$=a("Y7HM");function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.a;return(!Object($.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=z.a),new j.a(function(n){return n.add(t.schedule(J,e,{subscriber:n,counter:0,period:e})),n})}function J(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var A=a("xgIS"),E=a("pLZG"),W=a("JYkl"),N=a("jhN1");function q(e,t){if(1&e){var n=h.Mb();h.Lb(0,"ngx-dropzone-remove-badge",1),h.Sb("click",function(e){return h.hc(n),h.Wb()._remove(e)}),h.Kb()}}var T=[[["ngx-dropzone-label"]]],U=["ngx-dropzone-label"],V=["fileInput"];function R(e,t){1&e&&h.Zb(0,2,["*ngIf","!_hasPreviews"])}var B,X=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],G=["ngx-dropzone-preview","*","ngx-dropzone-label"],H=((B=function e(){o(this,e)}).\u0275fac=function(e){return new(e||B)},B.\u0275dir=h.Db({type:B,selectors:[["ngx-dropzone-label"]]}),B);function Y(e){return null!=e&&""+e!="false"}var Z={BACKSPACE:8,DELETE:46};Z[Z.BACKSPACE]="BACKSPACE",Z[Z.DELETE]="DELETE";var Q,ee,te,ne,ie,oe,ae=((oe=function(){function e(t){o(this,e),this.sanitizer=t,this._removable=!1,this.removed=new h.n,this.tabIndex=0}return r(e,[{key:"keyEvent",value:function(e){switch(e.keyCode){case Z.BACKSPACE:case Z.DELETE:this.remove()}}},{key:"_remove",value:function(e){e.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:function(){return Object(W.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var i=new FileReader;if(i.onload=function(t){e(t.target.result)},i.onerror=function(e){console.error("FileReader failed on file ".concat(t.file.name,".")),n(e)},!t.file)return n("No file to read. Please provide a file using the [file] Input property.");i.readAsDataURL(t.file)}));case 1:case"end":return e.stop()}},e)}))}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=Y(e)}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}}]),e}()).\u0275fac=function(e){return new(e||oe)(h.Ib(N.b))},oe.\u0275cmp=h.Cb({type:oe,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(e,t){1&e&&h.Sb("keyup",function(e){return t.keyEvent(e)}),2&e&&(h.Ob("tabindex",t.tabIndex),h.lc(t.hostStyle))},inputs:{removable:"removable",file:"file"},outputs:{removed:"removed"},ngContentSelectors:U,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,t){1&e&&(h.ac(T),h.Zb(0),h.nc(1,q,1,0,"ngx-dropzone-remove-badge",0)),2&e&&(h.yb(1),h.bc("ngIf",t.removable))},directives:function(){return[l.k,se]},styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:focus, [_nghost-%COMP%]:hover{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),oe),re=((ie=function(){function e(){o(this,e)}return r(e,[{key:"parseFileList",value:function(e,t,n,i){for(var o=[],a=[],r=0;r<e.length;r++){var c=e.item(r);this.isAccepted(c,t)?n&&c.size>n?this.rejectFile(a,c,"size"):!i&&o.length>=1?this.rejectFile(a,c,"no_multiple"):o.push(c):this.rejectFile(a,c,"type")}return{addedFiles:o,rejectedFiles:a}}},{key:"isAccepted",value:function(e,t){if("*"===t)return!0;var n=t.split(",").map(function(e){return e.toLowerCase().trim()}),i=e.type.toLowerCase(),o=e.name.toLowerCase();return!!n.find(function(e){return e.endsWith("/*")?i.split("/")[0]===e.split("/")[0]:e.startsWith(".")?o.endsWith(e):e==i})}},{key:"rejectFile",value:function(e,t,n){var i=t;i.reason=n,e.push(i)}}]),e}()).\u0275fac=function(e){return new(e||ie)},ie.\u0275prov=h.Eb({token:ie,factory:ie.\u0275fac}),ie),ce=((ne=function(){function e(t){o(this,e),this.service=t,this.change=new h.n,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._isHovered=!1}return r(e,[{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(e){this.disabled||(this.preventDefault(e),this._isHovered=!1,this.handleFileDrop(e.dataTransfer.files))}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}},{key:"handleFileDrop",value:function(e){var t=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:t.addedFiles,rejectedFiles:t.rejectedFiles,source:this})}},{key:"preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Y(e),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=Y(e)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(e){this._maxFileSize=function(e){return isNaN(parseFloat(e))||isNaN(Number(e))?null:Number(e)}(e)}},{key:"expandable",get:function(){return this._expandable},set:function(e){this._expandable=Y(e)}},{key:"disableClick",get:function(){return this._disableClick},set:function(e){this._disableClick=Y(e)}}]),e}()).\u0275fac=function(e){return new(e||ne)(h.Ib(re,2))},ne.\u0275cmp=h.Cb({type:ne,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(e,t,n){var i;1&e&&h.Bb(n,ae,!0),2&e&&h.ec(i=h.Tb())&&(t._previewChildren=i)},viewQuery:function(e,t){var n;1&e&&h.sc(V,!0),2&e&&h.ec(n=h.Tb())&&(t._fileInput=n.first)},hostVars:8,hostBindings:function(e,t){1&e&&h.Sb("click",function(){return t._onClick()})("dragover",function(e){return t._onDragOver(e)})("dragleave",function(){return t._onDragLeave()})("drop",function(e){return t._onDrop(e)}),2&e&&h.Ab("ngx-dz-hovered",t._isHovered)("ngx-dz-disabled",t.disabled)("expandable",t.expandable)("unclickable",t.disableClick)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[h.xb([re])],ngContentSelectors:G,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(e,t){1&e&&(h.ac(X),h.Lb(0,"input",0,1),h.Sb("change",function(e){return t._onFilesSelected(e)}),h.Kb(),h.nc(2,R,1,0,"ng-content",2),h.Zb(3),h.Zb(4,1)),2&e&&(h.bc("id",t.id)("multiple",t.multiple)("accept",t.accept)("disabled",t.disabled),h.zb("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedBy),h.yb(2),h.bc("ngIf",!t._hasPreviews))},directives:[l.k],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:#000 dotted 1px;outline:-webkit-focus-ring-color auto 5px}"]}),ne),se=((te=function e(){o(this,e)}).\u0275fac=function(e){return new(e||te)},te.\u0275cmp=h.Cb({type:te,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(e,t){1&e&&(h.Vb(),h.Lb(0,"svg"),h.Jb(1,"line",0),h.Jb(2,"line",1),h.Kb())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),te),le=((ee=function e(){o(this,e)}).\u0275mod=h.Gb({type:ee}),ee.\u0275inj=h.Fb({factory:function(e){return new(e||ee)},imports:[[l.c]]}),ee),de=((Q=function(){function e(n){var i=this;o(this,e),this.image=n,this.onIntersect=function(e,n){var o=t(e,1)[0];o.isIntersecting&&(o.target.src=i.source,n.unobserve(i.image.nativeElement),n.disconnect())}}return r(e,[{key:"ngOnInit",value:function(){this.registerIntersectionObserver()}},{key:"registerIntersectionObserver",value:function(){this._intersectionObserver=new IntersectionObserver(this.onIntersect,{root:null,rootMargin:"175px",threshold:0}),this._intersectionObserver.observe(this.image.nativeElement)}}]),e}()).\u0275fac=function(e){return new(e||Q)(h.Ib(h.l))},Q.\u0275dir=h.Db({type:Q,selectors:[["","mainImageLazyLoad",""]],inputs:{source:["mainImageLazyLoad","source"]}}),Q),ue=a("Kqap"),be=a("JX91");function pe(e,t){if(1&e&&(h.Lb(0,"div",1),h.Jb(1,"img",2),h.Lb(2,"div",3),h.pc(3),h.Kb(),h.Lb(4,"div",4),h.pc(5),h.Kb(),h.Kb()),2&e){var n=t.ngIf,i=h.Wb();h.yb(1),h.bc("src",n.downloadUrl,h.jc),h.yb(2),h.rc(" From: ",n.username," "),h.yb(2),h.rc(" Access Code: ",i.accessCode," ")}}var fe,me=((fe=function(){function n(e){o(this,n),this.store$=e,this.IMAGE_DISPLAY_DURATION=7500,this.currentImages$=this.setCurrentImagesListener(),this.currentImageIndex$=this.setCurrentImageIndexGenerator(),this.liveImage$=this.setLiveImageGenerator(),this.images=[],this.exit=new h.n}return r(n,[{key:"onEscapeHandler",value:function(e){this.exit.emit(!0)}},{key:"ngOnInit",value:function(){this.store$.dispatch(g.a.LiveImageListenerRequest())}},{key:"ngOnDestroy",value:function(){this.store$.dispatch(g.a.LiveImageListenerStopRequest())}},{key:"setCurrentImagesListener",value:function(){return this.store$.select(g.c.SelectFrameImages).pipe(Object(ue.a)(function(t,n){var i=n.filter(function(e){return!t.includes(e)});return[].concat(e(t),e(i))},[]))}},{key:"setCurrentImageIndexGenerator",value:function(){return D(this.IMAGE_DISPLAY_DURATION).pipe(Object(be.a)(0),Object(u.a)(this.currentImages$),Object(f.a)(function(e){var n=t(e,2);return n[0],n[1]}),Object(ue.a)(function(e,t){return(e+1)%t.length},0))}},{key:"setLiveImageGenerator",value:function(){return this.currentImageIndex$.pipe(Object(u.a)(this.currentImages$),Object(f.a)(function(e){var n=t(e,2),i=n[0];return n[1][i]}))}}]),n}()).\u0275fac=function(e){return new(e||fe)(h.Ib(v.h))},fe.\u0275cmp=h.Cb({type:fe,selectors:[["main-live-view"]],hostBindings:function(e,t){1&e&&h.Sb("keydown.escape",function(e){return t.onEscapeHandler(e)},!1,h.gc)},inputs:{accessCode:"accessCode"},outputs:{exit:"exit"},decls:2,vars:3,consts:[["class","layout",4,"ngIf"],[1,"layout"],[3,"src"],[1,"username-overlay"],[1,"access-code-overlay"]],template:function(e,t){1&e&&(h.nc(0,pe,6,3,"div",0),h.Xb(1,"async")),2&e&&h.bc("ngIf",h.Yb(1,1,t.liveImage$))},directives:[l.k],pipes:[l.b],styles:[".layout[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:#000;position:fixed;top:0;left:0;z-index:100;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.username-overlay[_ngcontent-%COMP%]{top:20px;left:20px}.access-code-overlay[_ngcontent-%COMP%], .username-overlay[_ngcontent-%COMP%]{position:fixed;color:#fff;padding:.5rem;background-color:#000;opacity:.75}.access-code-overlay[_ngcontent-%COMP%]{bottom:20px;right:20px}"]}),fe);function ge(e,t){if(1&e&&(h.Lb(0,"div",21),h.Jb(1,"img",22),h.Kb()),2&e){var n=t.$implicit;h.mc("height",n.displayDimensions.height+"px")("width",n.displayDimensions.width+"px"),h.yb(1),h.bc("mainImageLazyLoad",n.image.downloadUrl)}}function he(e,t){if(1&e&&(h.Lb(0,"div",17),h.Lb(1,"span",18),h.pc(2),h.Kb(),h.Lb(3,"div",19),h.nc(4,ge,2,5,"div",20),h.Kb(),h.Kb()),2&e){var n=t.$implicit;h.yb(2),h.rc("",n.displayKey,"'s Images"),h.yb(2),h.bc("ngForOf",n.images)}}function ve(e,t){if(1&e){var n=h.Mb();h.Lb(0,"main-live-view",23),h.Sb("exit",function(){return h.hc(n),h.Wb(2).onExitLiveView()}),h.Kb()}if(2&e){var i=h.Wb().ngIf;h.bc("accessCode",i.accessToken.token)}}function ye(e,t){if(1&e){var n=h.Mb();h.Lb(0,"div",3),h.Lb(1,"div",4),h.Lb(2,"span",5),h.pc(3),h.Kb(),h.Lb(4,"span",6),h.Sb("click",function(){return h.hc(n),h.Wb().onShowLiveView()}),h.pc(5,"Live Mode"),h.Kb(),h.Kb(),h.Lb(6,"div",7),h.Lb(7,"span",8),h.pc(8),h.Kb(),h.Kb(),h.Lb(9,"div",9),h.Lb(10,"ngx-dropzone",10),h.Sb("change",function(e){return h.hc(n),h.Wb().onFilesAdded(e.addedFiles)}),h.Lb(11,"ngx-dropzone-label"),h.pc(12,"Drag Files or Click to Browse"),h.Kb(),h.Kb(),h.Lb(13,"div",11),h.Lb(14,"input",12),h.Sb("change",function(e){return h.hc(n),h.Wb().onFilesAddedMobile(e.target.files)}),h.Kb(),h.Lb(15,"button",13),h.Sb("click",function(){return h.hc(n),h.Wb().onFabClick()}),h.Jb(16,"fa-icon",14),h.Kb(),h.Kb(),h.Kb(),h.nc(17,he,5,2,"div",15),h.Xb(18,"async"),h.nc(19,ve,1,1,"main-live-view",16),h.Kb()}if(2&e){var i=t.ngIf,o=h.Wb();h.yb(3),h.qc(i.name),h.yb(5),h.rc("- Access Code: ",i.accessToken.token,""),h.yb(6),h.bc("hidden",!0),h.yb(2),h.bc("icon",o.faCamera),h.yb(1),h.bc("ngForOf",h.Yb(18,6,o.groupedImages$)),h.yb(2),h.bc("ngIf",o.showLiveView)}}function xe(e,t){1&e&&h.Jb(0,"div",24),2&e&&h.mc("width",t.ngIf,"%")}function Ce(e,t){1&e&&h.pc(0," NO FRAME SELECTED!\n")}var Oe,we,Me,ke,_e=((Oe=function(){function n(e){o(this,n),this.store$=e,this.selectedFrame$=this.store$.select(g.c.SelectSelectedFrame),this.uploadPercentage$=this.store$.select(g.c.SelectUploadPercentage),this.groupedImages$=this.setGroupedImagesSelector(),this.showLiveView=!1,this.faCamera=y.b}return r(n,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){}},{key:"onFilesAdded",value:function(e){this.store$.dispatch(g.a.UploadImagesRequest({Images:e}))}},{key:"onFilesAddedMobile",value:function(e){this.onFilesAdded(Array.from(e))}},{key:"onFabClick",value:function(){document.getElementById("mobileUpload").click()}},{key:"onShowLiveView",value:function(){this.showLiveView=!0}},{key:"onExitLiveView",value:function(){this.showLiveView=!1}},{key:"setGroupedImagesSelector",value:function(){var n=this,i=this.getImageViewSizeWatcher();return Object(S.b)(this.selectedFrame$,i).pipe(Object(f.a)(function(i){var o=t(i,2),a=o[0],r=o[1],c=[];return e(a.images).map(function(e){var t=Object.assign({},e);return t.dimensions=void 0!==t.dimensions?t.dimensions:{width:500,height:500},t}).forEach(function(e){var t=c.findIndex(function(t){return t.displayKey===e.username});t>=0?c[t].images.push({image:e,displayDimensions:e.dimensions}):c.push({displayKey:e.username,images:[{image:e,displayDimensions:e.dimensions}]})}),c.length>0?n.resolveBestDimensions(c,r):c}))}},{key:"getImageViewSizeWatcher",value:function(){var e=this.getInitialImageViewWatcher(),t=this.getResizeListener();return Object(K.a)(e,t)}},{key:"getInitialImageViewWatcher",value:function(){return D(100).pipe(Object(E.a)(function(){return null!==document.querySelector("#test")}),Object(p.a)(1),Object(f.a)(this.getImageViewWidth))}},{key:"getResizeListener",value:function(){return Object(A.a)(window,"resize").pipe(Object(f.a)(this.getImageViewWidth))}},{key:"resolveBestDimensions",value:function(t,n){var i=t.reduce(function(t,n){return[].concat(e(t),e(n.images))},[]).sort(function(e,t){return e.image.dimensions.width-t.image.dimensions.width}),o=i[i.length-1],a=n/this.resolveNumberOfImagesPerRow(n)*(o.image.dimensions.height/o.image.dimensions.width);return e(t).map(function(e){var t=Object.assign({},e);return t.images=t.images.map(function(e){var t=Object.assign(Object.assign({},e),{displayDimensions:Object.assign({},e.displayDimensions)});return t.displayDimensions.height=a,t.displayDimensions.width=a*(t.image.dimensions.width/t.image.dimensions.height),t}),t})}},{key:"resolveNumberOfImagesPerRow",value:function(e){return e<=490?1:e<=735?2:4}},{key:"getImageViewWidth",value:function(){var e=window.getComputedStyle(document.querySelector("#test")).width;return parseInt(e.substr(0,e.length-2),10)}}]),n}()).\u0275fac=function(e){return new(e||Oe)(h.Ib(v.h))},Oe.\u0275cmp=h.Cb({type:Oe,selectors:[["main-frame"]],decls:6,vars:7,consts:[["class","layout","id","test",4,"ngIf","ngIfElse"],["class","upload-progress",3,"width",4,"ngIf"],["noFrame",""],["id","test",1,"layout"],[1,"title"],[1,"frame-name"],[1,"live-view","clickable",3,"click"],[1,"subtitle"],[1,"access-code"],[1,"image-upload-section"],[1,"image-upload-zone",3,"change"],[1,"image-upload-camera"],["id","mobileUpload","type","file","accept","image/*","capture","camera",3,"hidden","change"],[1,"fab-image-capture",3,"click"],[3,"icon"],["class","group-image-display-section",4,"ngFor","ngForOf"],[3,"accessCode","exit",4,"ngIf"],[1,"group-image-display-section"],[1,"group-title"],[1,"image-section"],["class","image-container",3,"height","width",4,"ngFor","ngForOf"],[1,"image-container"],[1,"image",3,"mainImageLazyLoad"],[3,"accessCode","exit"],[1,"upload-progress"]],template:function(e,t){if(1&e&&(h.nc(0,ye,20,8,"div",0),h.Xb(1,"async"),h.nc(2,xe,1,2,"div",1),h.Xb(3,"async"),h.nc(4,Ce,1,0,"ng-template",null,2,h.oc)),2&e){var n=h.fc(5);h.bc("ngIf",h.Yb(1,3,t.selectedFrame$))("ngIfElse",n),h.yb(2),h.bc("ngIf",h.Yb(3,5,t.uploadPercentage$))}},directives:[l.k,ce,H,x.a,l.j,de,me],pipes:[l.b],styles:[".layout[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column}.title[_ngcontent-%COMP%]{padding-bottom:.5rem;display:flex;justify-content:space-between}.title[_ngcontent-%COMP%]   .frame-name[_ngcontent-%COMP%]{text-decoration:underline;font-size:1.5rem}.title[_ngcontent-%COMP%]   .live-view[_ngcontent-%COMP%]{align-self:center}.subtitle[_ngcontent-%COMP%]{display:flex}.subtitle[_ngcontent-%COMP%]   .access-code[_ngcontent-%COMP%]{padding-left:.75rem}.group-image-display-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:1rem}.group-image-display-section[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-weight:700;padding-bottom:.5rem}.group-image-display-section[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.group-image-display-section[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding-bottom:.3rem}.group-image-display-section[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%}.image-upload-zone[_ngcontent-%COMP%]{display:flex;opacity:.75;height:100px}.image-upload-camera[_ngcontent-%COMP%]{display:none}@media (max-width:1023px){.image-upload-zone[_ngcontent-%COMP%]{display:none}.image-upload-camera[_ngcontent-%COMP%]{display:block}}.fab-image-capture[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:50px;z-index:10;box-shadow:0 3px 6px rgba(0,0,0,.5);background-color:#624c2b;color:#f5f0f6;width:60px;height:60px;border-radius:100%;border:none;font-size:1.5rem}.upload-progress[_ngcontent-%COMP%]{background-color:#649742;height:10px;width:100%;position:fixed;bottom:0;left:0;z-index:2000}"]}),Oe),Pe=["*"],Fe=((ke=function(){function e(){o(this,e),this.closeModal=new h.n,this.faTimes=y.c}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onCloseModal",value:function(){this.closeModal.emit(!0)}}]),e}()).\u0275fac=function(e){return new(e||ke)},ke.\u0275cmp=h.Cb({type:ke,selectors:[["app-modal"]],inputs:{title:"title"},outputs:{closeModal:"closeModal"},ngContentSelectors:Pe,decls:9,vars:2,consts:[[1,"modal"],[1,"modal-content"],[1,"header"],[1,"clickable",3,"click"],[3,"icon"],[1,"header-seperator"]],template:function(e,t){1&e&&(h.ac(),h.Lb(0,"div",0),h.Lb(1,"div",1),h.Lb(2,"div",2),h.Lb(3,"span"),h.pc(4),h.Kb(),h.Lb(5,"span",3),h.Sb("click",function(){return t.onCloseModal()}),h.Jb(6,"fa-icon",4),h.Kb(),h.Kb(),h.Jb(7,"hr",5),h.Zb(8),h.Kb(),h.Kb()),2&e&&(h.yb(4),h.qc(t.title),h.yb(2),h.bc("icon",t.faTimes))},directives:[x.a],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#f5f0f6;margin:15% auto;padding:1rem;border:1px solid #888;width:80%}.header[_ngcontent-%COMP%]{font-size:1.5rem;display:flex;justify-content:space-between;padding-bottom:.25rem}hr.header-seperator[_ngcontent-%COMP%]{padding-bottom:.75rem;border-top:1px solid #000;border-left:none}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:.75rem}.input-label[_ngcontent-%COMP%]{padding-bottom:.25rem}.error[_ngcontent-%COMP%]{color:#d8000c}@media (max-width:767px){.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width:768px){.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width:1024px){.modal-content[_ngcontent-%COMP%]{width:30%}}"]}),ke),Ie=((Me=function(){function e(){o(this,e),this.closeModal=new h.n,this.createFrame=new h.n,this.errorText=""}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onCloseModal",value:function(){this.closeModal.emit(!0)}},{key:"onCreateFrame",value:function(e){e&&""!==e?this.createFrame.emit(e):this.errorText="Must enter a name."}}]),e}()).\u0275fac=function(e){return new(e||Me)},Me.\u0275cmp=h.Cb({type:Me,selectors:[["main-create-frame"]],outputs:{closeModal:"closeModal",createFrame:"createFrame"},decls:11,vars:2,consts:[[3,"title","closeModal"],[1,"body"],[1,"input-label"],["type","text"],["frameName",""],[1,"error"],[1,"footer"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){var n=h.Mb();h.Lb(0,"app-modal",0),h.Sb("closeModal",function(){return t.onCloseModal()}),h.Lb(1,"div",1),h.Lb(2,"span",2),h.pc(3,"Name:"),h.Kb(),h.Jb(4,"input",3,4),h.Lb(6,"span",5),h.pc(7),h.Kb(),h.Kb(),h.Lb(8,"div",6),h.Lb(9,"button",7),h.Sb("click",function(){h.hc(n);var e=h.fc(5);return t.onCreateFrame(e.value)}),h.pc(10,"CREATE"),h.Kb(),h.Kb(),h.Kb()}2&e&&(h.bc("title","Create a Frame"),h.yb(7),h.qc(t.errorText))},directives:[Fe],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#f5f0f6;margin:15% auto;padding:1rem;border:1px solid #888;width:80%}.header[_ngcontent-%COMP%]{font-size:1.5rem;display:flex;justify-content:space-between;padding-bottom:.25rem}hr.header-seperator[_ngcontent-%COMP%]{padding-bottom:.75rem;border-top:1px solid #000;border-left:none}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:.75rem}.input-label[_ngcontent-%COMP%]{padding-bottom:.25rem}.error[_ngcontent-%COMP%]{color:#d8000c}@media (max-width:767px){.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width:768px){.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width:1024px){.modal-content[_ngcontent-%COMP%]{width:30%}}"]}),Me),Le=((we=function(){function e(){o(this,e),this.closeModal=new h.n,this.joinFrame=new h.n,this.errorText=""}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onCloseModal",value:function(){this.closeModal.emit(!0)}},{key:"onCreateFrame",value:function(e){e&&""!==e?6!==e.length?this.errorText="Value must have 6 characters/numbers.":this.joinFrame.emit(e):this.errorText="Must enter a value."}}]),e}()).\u0275fac=function(e){return new(e||we)},we.\u0275cmp=h.Cb({type:we,selectors:[["main-join-frame"]],outputs:{closeModal:"closeModal",joinFrame:"joinFrame"},decls:11,vars:2,consts:[[3,"title","closeModal"],[1,"body"],[1,"input-label"],["type","text"],["accessKey",""],[1,"error"],[1,"footer"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){var n=h.Mb();h.Lb(0,"app-modal",0),h.Sb("closeModal",function(){return t.onCloseModal()}),h.Lb(1,"div",1),h.Lb(2,"span",2),h.pc(3,"Access Key:"),h.Kb(),h.Jb(4,"input",3,4),h.Lb(6,"span",5),h.pc(7),h.Kb(),h.Kb(),h.Lb(8,"div",6),h.Lb(9,"button",7),h.Sb("click",function(){h.hc(n);var e=h.fc(5);return t.onCreateFrame(e.value)}),h.pc(10,"JOIN"),h.Kb(),h.Kb(),h.Kb()}2&e&&(h.bc("title","Join a Frame"),h.yb(7),h.qc(t.errorText))},directives:[Fe],styles:[".modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{background-color:#f5f0f6;margin:15% auto;padding:1rem;border:1px solid #888;width:80%}.header[_ngcontent-%COMP%]{font-size:1.5rem;display:flex;justify-content:space-between;padding-bottom:.25rem}hr.header-seperator[_ngcontent-%COMP%]{padding-bottom:.75rem;border-top:1px solid #000;border-left:none}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:.75rem}.input-label[_ngcontent-%COMP%]{padding-bottom:.25rem}.error[_ngcontent-%COMP%]{color:#d8000c}@media (max-width:767px){.modal-content[_ngcontent-%COMP%]{width:80%}}@media (min-width:768px){.modal-content[_ngcontent-%COMP%]{width:50%}}@media (min-width:1024px){.modal-content[_ngcontent-%COMP%]{width:30%}}"]}),we);function Se(e,t){if(1&e){var n=h.Mb();h.Lb(0,"main-create-frame",6),h.Sb("closeModal",function(){return h.hc(n),h.Wb().onCloseModal()})("createFrame",function(e){return h.hc(n),h.Wb().onCreateFrame(e)}),h.Kb()}}function Ke(e,t){if(1&e){var n=h.Mb();h.Lb(0,"main-join-frame",7),h.Sb("closeModal",function(){return h.hc(n),h.Wb().onCloseModal()})("joinFrame",function(e){return h.hc(n),h.Wb().onJoinFrame(e)}),h.Kb()}}var je,ze,$e,De,Je=((je=function(){function e(t){o(this,e),this.store$=t,this.user$=this.store$.select(m.b.SelectAuthenticationUser),this.selectedFrameId$=this.setSelectedFrameIdListener(),this.showCreateFrameModal=!1,this.showJoinFrameModal=!1}return r(e,[{key:"ngOnInit",value:function(){this.selectInitialFrameIfAvailable()}},{key:"onFrameSelect",value:function(e){this.store$.dispatch(g.a.SelectFrame.Request({request:e.frameId})),this.closeSideNav()}},{key:"openCreateFrame",value:function(){this.closeSideNav(),this.showCreateFrameModal=!0}},{key:"onCloseModal",value:function(){this.showCreateFrameModal=!1,this.showJoinFrameModal=!1}},{key:"onCreateFrame",value:function(e){this.store$.dispatch(g.a.NewFrame.Request({request:e})),this.onCloseModal()}},{key:"openJoinFrame",value:function(){this.closeSideNav(),this.showJoinFrameModal=!0}},{key:"onJoinFrame",value:function(e){this.store$.dispatch(g.a.JoinFrame.Request({request:e})),this.onCloseModal()}},{key:"selectInitialFrameIfAvailable",value:function(){var e=this;this.user$.pipe(Object(u.a)(this.selectedFrameId$),Object(b.a)(function(n){var i=t(n,2),o=i[0],a=i[1];o.frames.length>0&&!a&&e.store$.dispatch(g.a.SelectFrame.Request({request:o.frames[0].frameId}))}),Object(p.a)(1)).subscribe()}},{key:"closeSideNav",value:function(){this.store$.dispatch(g.a.UpdateSideNavVisibility({visible:!1}))}},{key:"setSelectedFrameIdListener",value:function(){return this.store$.select(g.c.SelectSelectedFrame).pipe(Object(f.a)(function(e){return e?e.id:""}))}}]),e}()).\u0275fac=function(e){return new(e||je)(h.Ib(v.h))},je.\u0275cmp=h.Cb({type:je,selectors:[["app-entry"]],decls:9,vars:8,consts:[[1,"layout"],[1,"component-layout"],[1,"sidenav-space",3,"userFrames","selectedFrameId","openCreateFrame","openJoinFrame","frameSelect"],[1,"frame-space"],[3,"closeModal","createFrame",4,"ngIf"],[3,"closeModal","joinFrame",4,"ngIf"],[3,"closeModal","createFrame"],[3,"closeModal","joinFrame"]],template:function(e,t){1&e&&(h.Lb(0,"div",0),h.Jb(1,"app-navbar"),h.Lb(2,"div",1),h.Lb(3,"main-frame-sidenav",2),h.Sb("openCreateFrame",function(){return t.openCreateFrame()})("openJoinFrame",function(){return t.openJoinFrame()})("frameSelect",function(e){return t.onFrameSelect(e)}),h.Xb(4,"async"),h.Xb(5,"async"),h.Kb(),h.Jb(6,"main-frame",3),h.Kb(),h.Kb(),h.nc(7,Se,1,0,"main-create-frame",4),h.nc(8,Ke,1,0,"main-join-frame",5)),2&e&&(h.yb(3),h.bc("userFrames",h.Yb(4,4,t.user$).frames)("selectedFrameId",h.Yb(5,6,t.selectedFrameId$)),h.yb(4),h.bc("ngIf",t.showCreateFrameModal),h.yb(1),h.bc("ngIf",t.showJoinFrameModal))},directives:[C,L,_e,l.k,Ie,Le],pipes:[l.b],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.layout[_ngcontent-%COMP%]   .component-layout[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow:hidden}.layout[_ngcontent-%COMP%]   .component-layout[_ngcontent-%COMP%]   .frame-space[_ngcontent-%COMP%]{flex:7;overflow:auto}@media (max-width:767px){.sidenav-space[_ngcontent-%COMP%]{flex:0}}@media (min-width:768px){.sidenav-space[_ngcontent-%COMP%]{flex:3}}"]}),je),Ae=a("LRne"),Ee=a("5+tZ"),We=a("SxV6"),Ne=a("CqXF"),qe=a("p26r"),Te=a("jL29"),Ue=((ze=function(){function e(t,n,i){o(this,e),this.authenticationService=t,this.router=n,this.store$=i}return r(e,[{key:"canActivate",value:function(e,t){var n=this;return this.authenticationService.userIsSignedIn().pipe(Object(Ee.a)(function(e){return e?n.ensureUserDataIsInStore():Object(Ae.a)(n.router.parseUrl(qe.a.authentication))}))}},{key:"ensureUserDataIsInStore",value:function(){var e=this.store$.pipe(Object(v.t)(m.b.SelectAuthenticationUser)),n=this.store$.pipe(Object(v.t)(m.b.SelectLoginErrorMessage));return Object(S.b)(e,n).pipe(this.fetchUserIfNull(),Object(We.a)(function(e){var n=t(e,2),i=n[0],o=n[1];return null!==i||""!==o}),Object(Ne.a)(!0))}},{key:"fetchUserIfNull",value:function(){var e=this;return Object(b.a)(function(n){var i=t(n,2),o=i[0],a=i[1];null===o&&""===a&&e.store$.dispatch(m.a.GetUserDataFromSignedInUser.Request({request:null}))})}}]),e}()).\u0275fac=function(e){return new(e||ze)(h.Pb(Te.a),h.Pb(d.a),h.Pb(v.h))},ze.\u0275prov=h.Eb({token:ze,factory:ze.\u0275fac}),ze),Ve=[{path:"",component:Je,canActivate:[Ue]}],Re=(($e=function e(){o(this,e)}).\u0275mod=h.Gb({type:$e}),$e.\u0275inj=h.Fb({factory:function(e){return new(e||$e)},providers:[Ue],imports:[[l.c,d.b.forChild(Ve)],d.b]}),$e),Be=a("lf9s"),Xe=a("BHD2"),Ge=((De=function e(){o(this,e)}).\u0275mod=h.Gb({type:De}),De.\u0275inj=h.Fb({factory:function(e){return new(e||De)},providers:[Be.a],imports:[[l.c,Re,le,Xe.a,x.b]]}),De)}}])}();