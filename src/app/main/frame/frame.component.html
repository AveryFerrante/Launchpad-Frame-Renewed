
<div class="layout" *ngIf="selectedFrame$ | async as frame; else noFrame">
  <div class="title">
    <span>{{ frame.name }}</span>
    <span (click)="onShowLiveView()">Live View</span>
    <main-live-view *ngIf="showLiveView" (exit)="onExitLiveView()"></main-live-view>
  </div>

  <div class="image-upload-section">
    <ngx-dropzone (change)="onFilesAdded($event.addedFiles)" class="image-upload-zone">
      <ngx-dropzone-label>Drag Files or Click to Browse</ngx-dropzone-label>
    </ngx-dropzone>

    <div class="image-upload-camera">
      <input id="mobileUpload" type="file" accept="image/*" capture="camera"
      (change)="onFilesAddedMobile($event.target.files)" [hidden]="true">
      <button class="fab-image-capture" (click)="onFabClick()">CAM</button>
    </div>

  </div>

  <div *ngIf="uploadPercentage$ | async as uploadPercentage">
    {{ uploadPercentage }}% COMPLETE
  </div>

  <div *ngFor="let grouping of groupedImages$ | async" class="group-image-display-section">
    <span class="group-title">{{ grouping.displayKey }}'s Images</span>
    <div class="image-section">
      <img class="image" *ngFor="let downloadUrl of grouping.downloadUrls" [src]="downloadUrl">
    </div>
  </div>
</div>

<div class="upload-progress" *ngIf="uploadPercentage$ | async as uploadPercentage" [style.width.%]="uploadPercentage"></div>
<ng-template #noFrame>
  NO FRAME SELECTED!
</ng-template>

